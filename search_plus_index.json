{"./":{"url":"./","title":"Introduction","keywords":"","body":"Introduction å…³äºæˆ‘ go Go 1.13 ä¸­ Go command ä¿®æ”¹ Go åŸºç¡€ iOS ä¸Šä¼ åº”ç”¨æ—¶ï¼Œå¡åœ¨ Authenticating with the App Store ç±»çš„åˆå§‹åŒ–æ–¹æ³• å¦‚ä½•åˆ›å»ºä¸€ä¸ªå…¬æœ‰ Pod åº“ App æ²™ç›’ Block çš„å£°æ˜æ–¹å¼ Rac EventBus RxJava åŠ¨æ€æ›´æ¢ App å›¾æ ‡ SiriKit äººæœºç•Œé¢æŒ‡å— GCD åŒæ­¥å¼‚æ­¥ä¸ä¸²è¡Œå¹¶è¡Œ CocoaPods å®‰è£…åŠé”™è¯¯å¤„ç† iOS æ¶ˆæ¯è½¬å‘æœºåˆ¶ NSMethodSignature å’Œ NSInvocation å¸¸è§çš„ç¼–è¯‘å¤±è´¥ Hook ç³»ç»Ÿä»£ç†æ–¹æ³• äºŒç»´ç ç”ŸæˆåŠå®šåˆ¶ WKWebView ä½¿ç”¨åŠæ³¨æ„äº‹é¡¹ é¢è¯•å•Šé¢è¯•~ double è½¬ NSString å‡ºç°ç²¾åº¦å¼‚å¸¸ Widget å¼€å‘-å¼€å‘ç¯‡ Widget å¼€å‘-é…ç½®ç¯‡ è¯»å–ä¸€ä¸ªå¸¦æœ‰åŠ å¯†å°ç« çš„ PDF LeetCode 1. ä¸¤æ•°ä¹‹å’Œ 2. æœ‰æ•ˆçš„æ‹¬å· Mac å‡çº§ Git ç‰ˆæœ¬ Charles å®‰è£…è¯ä¹¦ iTerm2 ä¸€ä¸ªæ›´å¥½ç”¨çš„ç»ˆç«¯ Mac ç³»ç»Ÿé‡è£… Ubuntu Ubuntu å®‰è£… MySQL éšè§éšå­¦ å¦‚ä½•è¯„åˆ¤ç®—æ³•å¥½å å¦‚ä½•ä¿æŒ SSH æœåŠ¡ä¸æ‰çº¿ Shell å…¥é—¨æ•™ç¨‹ AppleScript å…¥é—¨ä¸å®è·µ æ­å»º Hexo Blog åŸºç¡€çŸ¥è¯† å¸¸ç”¨çš„æ—¥æœŸæ ¼å¼åŒ–æ ¼å¼ RESTful ç¬”è®° HTTP çŠ¶æ€ç  ç®€æ˜æ‰¼è¦å¸¦ä½ å­¦ä½è¿ç®— URIã€URLçš„å·®å¼‚ä¸è”ç³» Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"me.html":{"url":"me.html","title":"å…³äºæˆ‘","keywords":"","body":"å…³äºæˆ‘ å¼ é¹ QQï¼š 296197662 é‚®ç®±ï¼š zhangpeng.0304@aliyun.com åšå®¢ï¼š http://articles.zhangpeng.site GitHubï¼š https://github.com/fullstack-zhangpeng ç®€ä»‹ ä¸»è¦æ˜¯é¢å‘å…´è¶£å¼€å‘ã€‚ å®¢æˆ·ç«¯ -> é’»çŸ³é€‰æ‰‹ æœåŠ¡ç«¯ -> é»„é‡‘é€‰æ‰‹ å‰ç«¯ -> ç™½é“¶é€‰æ‰‹ 2015/08 - è‡³ä»Šã€€ã€€ã€€ã€€iOS å¼€å‘å·¥ç¨‹å¸ˆ 2020/04 - è‡³ä»Šã€€ã€€ã€€ã€€æœåŠ¡ç«¯å¼€å‘å·¥ç¨‹å¸ˆ è‡´è°¢ æ„Ÿè°¢æ‚¨èŠ±æ—¶é—´é˜…è¯»ï¼ŒæœŸå¾…èƒ½æœ‰æœºä¼šå’Œæ‚¨å…±äº‹ã€‚ Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"go/go-command.html":{"url":"go/go-command.html","title":"Go 1.13 ä¸­ Go command ä¿®æ”¹","keywords":"","body":"Go 1.13 ä¸­ Go command ä¿®æ”¹ go1.13 å·²ç»å‘å¸ƒäº†ä¸€ä¸ªå¤šæœˆäº†ï¼Œæœ¬æ¬¡çš„å¤§éƒ¨åˆ†ä¿®æ”¹éƒ½æ˜¯å·¥å…·é“¾ã€è¿è¡Œæ—¶å’Œæ ¸å¿ƒåº“ã€‚è€Œæœ¬æ–‡ä¸»è¦æ˜¯è®°å½•çš„å‘½ä»¤è¡Œçš„ä¿®æ”¹ã€‚ go env go env æ·»åŠ å‡ ä¸ªæ–°çš„å‚æ•°ï¼Œä½¿ä¿®æ”¹ç¯å¢ƒå˜é‡å˜å¾—æ›´æ–¹ä¾¿å¿«æ·ã€‚ -w è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œé€šè¿‡æ­¤æ–¹å¼è®¾ç½®çš„é»˜è®¤å€¼å­˜å‚¨åœ¨ os.UserConfigDir() ä¸­çš„ go/env æ–‡ä»¶ä¸­ã€‚ -u å–æ¶ˆä»¥å‰è®¾ç½®çš„é»˜è®¤å˜é‡ go version ç°åœ¨ go version å‘½ä»¤çš„å‚æ•°æ—¢å¯ä»¥æ˜¯å¯æ‰§è¡Œæ–‡ä»¶åˆå¯ä»¥æ˜¯é¡¹ç›®ç›®å½•ã€‚å¦‚æœåœ¨ go version å‘½ä»¤ä¸­åŠ ä¸Š -m å‚æ•°ï¼Œåˆ™ä¼šæ‰“å°å¯æ‰§è¡Œæ–‡ä»¶çš„å¼•ç”¨æ¨¡å—çš„ç›¸å…³ç‰ˆæœ¬ä¿¡æ¯ã€‚ å¯æ‰§è¡Œæ–‡ä»¶ æ‰“å°ç”¨äºæ„å»ºè¯¥å¯æ‰§è¡Œæ–‡ä»¶çš„ go sdk ç‰ˆæœ¬ã€‚ âœ GoProject go version ./GoProject ./GoProject: go1.13.1 âœ GoProject go version -m ./GoProject ./GoProject: go1.13.1 path GoProject mod GoProject (devel) dep github.com/gin-contrib/sse v0.0.0-20190301062529-5545eab6dad3 h1:t8FVkw33L+wilf2QiWkw0UV77qRpcH/JHPKGpKa2E8g= dep github.com/gin-gonic/gin v1.4.0 h1:3tMoCCfM7ppqsR0ptz/wi1impNpT7/9wQtMZ8lr1mCQ= dep github.com/golang/protobuf v1.3.1 h1:YF8+flBXS5eO826T4nzqPrxfhQThhXl0YzfuUPu4SBg= dep github.com/mattn/go-isatty v0.0.7 h1:UvyT9uN+3r7yLEYSlJsbQGdsaB/a0DlgWP3pql6iwOc= dep github.com/ugorji/go v1.1.4 h1:j4s+tAvLfL3bZyefP2SEWmhBzmuIlH/eqNuPdFPgngw= dep gopkg.in/go-playground/validator.v8 v8.18.2 h1:lFB4DoMU6B626w8ny76MV7VX6W2VHct2GVOI3xgiMrQ= dep gopkg.in/yaml.v2 v2.2.2 h1:ZCJp+EgiOT7lHqUV2J862kp8Qj64Jo6az82+3Td9dZw= é¡¹ç›®ç›®å½• æ‰“å°ç›®å½•åŠå…¶å­ç›®å½•ä¸­åŒ…å«çš„å¯æ‰§è¡Œæ–‡ä»¶çš„ä¿¡æ¯ã€‚ âœ GoProject go version . GoProject: go1.13.1 âœ GoProject go version -m . GoProject: go1.13.1 path GoProject mod GoProject (devel) dep github.com/gin-contrib/sse v0.0.0-20190301062529-5545eab6dad3 h1:t8FVkw33L+wilf2QiWkw0UV77qRpcH/JHPKGpKa2E8g= dep github.com/gin-gonic/gin v1.4.0 h1:3tMoCCfM7ppqsR0ptz/wi1impNpT7/9wQtMZ8lr1mCQ= dep github.com/golang/protobuf v1.3.1 h1:YF8+flBXS5eO826T4nzqPrxfhQThhXl0YzfuUPu4SBg= dep github.com/mattn/go-isatty v0.0.7 h1:UvyT9uN+3r7yLEYSlJsbQGdsaB/a0DlgWP3pql6iwOc= dep github.com/ugorji/go v1.1.4 h1:j4s+tAvLfL3bZyefP2SEWmhBzmuIlH/eqNuPdFPgngw= dep gopkg.in/go-playground/validator.v8 v8.18.2 h1:lFB4DoMU6B626w8ny76MV7VX6W2VHct2GVOI3xgiMrQ= dep gopkg.in/yaml.v2 v2.2.2 h1:ZCJp+EgiOT7lHqUV2J862kp8Qj64Jo6az82+3Td9dZw= go build -trimpath ä»ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­åˆ é™¤æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ï¼Œä»¥æé«˜æ„å»ºçš„å¯é‡å¤æ€§ã€‚ -o å¦‚æœä¼ å…¥ä¸€ä¸ªç›®å½•ï¼Œåˆ™ä¼šå°†å¯æ‰§è¡Œæ–‡ä»¶å†™å…¥è¯¥æ–‡ä»¶å¤¹ã€‚ é™„ä»¶ Go 1.13 Release Notes UserConfigDir Title: Go 1.13 ä¸­ Go command ä¿®æ”¹ Date: 2020.05.07 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"go/go.html":{"url":"go/go.html","title":"Go åŸºç¡€","keywords":"","body":"Go åŸºç¡€ ç¯å¢ƒé…ç½® ä¸‹è½½å®‰è£…åŒ… é…ç½®ç¯å¢ƒå˜é‡ åœ¨æ‚¨æ‰€ä½¿ç”¨çš„ shell å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š export GOROOT=\"/usr/local/go\" export GOPATH=\"$HOME/go\" export PATH=$PATH:$GOPATH/bin # Enable the go modules feature export GO111MODULE=auto # Set the GOPROXY environment variable export GOPROXY=https://goproxy.io å®Œæˆä¸Šé¢çš„æ“ä½œåï¼Œåœ¨ç»ˆç«¯è¾“å…¥ go envï¼Œè¾“å‡ºä¸‹é¢å†…å®¹ï¼Œå°±è¡¨ç¤º go ç¯å¢ƒé…ç½®å®Œæˆï¼š ~ go env GOARCH=\"amd64\" GOBIN=\"\" GOCACHE=\"/Users/zhangpeng/Library/Caches/go-build\" GOEXE=\"\" GOFLAGS=\"\" GOHOSTARCH=\"amd64\" GOHOSTOS=\"darwin\" GOOS=\"darwin\" GOPATH=\"/Users/zhangpeng/go\" GOPROXY=\"https://goproxy.io\" GORACE=\"\" GOROOT=\"/usr/local/go\" GOTMPDIR=\"\" GOTOOLDIR=\"/usr/local/go/pkg/tool/darwin_amd64\" GCCGO=\"gccgo\" CC=\"clang\" CXX=\"clang++\" CGO_ENABLED=\"1\" GOMOD=\"\" CGO_CFLAGS=\"-g -O2\" CGO_CPPFLAGS=\"\" CGO_CXXFLAGS=\"-g -O2\" CGO_FFLAGS=\"-g -O2\" CGO_LDFLAGS=\"-g -O2\" PKG_CONFIG=\"pkg-config\" GOGCCFLAGS=\"-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/sk/qbbrttxx2j1d7bqf02wh90zm0000gn/T/go-build233880756=/tmp/go-build -gno-record-gcc-switches -fno-common\" GOROOT & GOPATH GOROOT Go çš„å®‰è£…ç›®å½• å†…ç½®çš„åŒ…å’Œå‡½æ•°ï¼Œå¦‚ fmt ã€mathã€strings ç­‰éƒ½å­˜å‚¨åœ¨è¿™ä¸ªç›®å½•çš„ src æ–‡ä»¶å¤¹ä¸­ GOPATH Go çš„å·¥ä½œç›®å½• src: å­˜æ”¾æºä»£ç ã€‚æŒ‰ç…§ Go è¯­è¨€çº¦å®šï¼Œgo runï¼Œgo install ç­‰å‘½ä»¤é»˜è®¤ä¼šåœ¨æ­¤è·¯å¾„ä¸‹æ‰§è¡Œï¼› pkg: å­˜æ”¾ç¼–è¯‘æ—¶ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶ï¼ˆ *.a ï¼‰ï¼› bin: å­˜æ”¾ç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ ï¼ˆ åœ¨é¡¹ç›®å†…æ‰§è¡Œ go installï¼Œä¼šåœ¨ bin ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ã€‚ å¸¸ç”¨å‘½ä»¤ go run ç¼–è¯‘å¹¶æ‰§è¡Œï¼Œåªèƒ½ä½œç”¨äºå‘½ä»¤æºç æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨äºå¼€å‘ä¸­å¿«é€Ÿæµ‹è¯•ã€‚ä¸Šæ–‡æˆ‘ä»¬é€šè¿‡æ‰§è¡Œ go run test.go ï¼Œå®Œæˆäº†ç¨‹åºçš„ç¼–è¯‘è¿è¡Œã€‚ go build ç¼–è¯‘ä»£ç åŒ…æˆ–è€…æºç æ–‡ä»¶ã€‚å¦‚æœå¸¦ä¸Šä»£ç åŒ…åï¼Œåˆ™è¡¨ç¤ºç¼–è¯‘æŒ‡å®šçš„ä»£ç åŒ…ï¼›å¦‚æœå¸¦ä¸Šæºç æ–‡ä»¶ï¼Œåˆ™è¡¨ç¤ºç¼–è¯‘æŒ‡å®šæºç æ–‡ä»¶ã€‚ go get ä¸‹è½½ç¬¬ä¸‰æ–¹ä»£ç åŒ…å¹¶ç¼–è¯‘å®‰è£… ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒä¼šä¸‹è½½å®‰è£…åˆ° GOPATH ç¯å¢ƒå˜é‡é…ç½®çš„ç¬¬ä¸€ä¸ªå·¥ä½œåŒºä¸­ã€‚ go install è¿™ä¸ªå‘½ä»¤ç”¨äºç¼–è¯‘å®‰è£…ï¼Œå¯ä»¥ä½œç”¨äº main åŒ…å’Œé main åŒ…ï¼Œç„¶åå°†ç¼–è¯‘åçš„ç”Ÿæˆçš„æ‰§è¡Œæ–‡ä»¶å­˜æ”¾åˆ°å·¥ç¨‹çš„ bin ç›®å½•ä¸‹ï¼Œå°†ç”Ÿæˆçš„å½’æ¡£æ–‡ä»¶ï¼ˆå³é™æ€é“¾æ¥åº“ï¼‰å­˜æ”¾åˆ°å·¥ç¨‹çš„ pkg ç›®å½•ä¸‹ã€‚ä½¿ç”¨æ–¹å¼ç±»ä¼¼äº go buildï¼Œå¯ä»¥åœ¨æŸä¸ªä»£ç åŒ…ç›®å½•ä¸‹ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä»£ç åŒ…ä½¿ç”¨ã€‚ go env ç”¨äºæ‰“å° GO è¯­è¨€çš„ç¯å¢ƒä¿¡æ¯ï¼Œå¦‚ GOPATH æ˜¯å·¥ä½œåŒºç›®å½•ï¼ŒGOROOT æ˜¯ GO è¯­è¨€å®‰è£…ç›®å½•ï¼ŒGOBIN æ˜¯é€šè¿‡ go install å‘½ä»¤ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶çš„å­˜æ”¾ç›®å½•ï¼ˆé»˜è®¤æ˜¯å½“å‰å·¥ä½œåŒºçš„ bin ç›®å½•ä¸‹ï¼‰ï¼ŒGOEXE ä¸ºç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶çš„åç¼€ æ•°æ®ç±»å‹ å¸ƒå°”å‹ï¼Œæ•´å‹ï¼Œæµ®ç‚¹å‹ï¼ŒæŒ‡é’ˆç±»å‹ï¼ˆPointerï¼‰ã€æ•°ç»„ç±»å‹ã€ç»“æ„åŒ–ç±»å‹(struct)ã€Channel ç±»å‹ã€å‡½æ•°ç±»å‹ã€åˆ‡ç‰‡ç±»å‹ã€æ¥å£ç±»å‹ï¼ˆinterfaceï¼‰ã€Map ç±»å‹ // å¸ƒå°”å‹ bool // ------------------------------------------------------- // æ•´å‹ int8 int16 int32 int64 uint8 uint16 uint32 uint64 // ------------------------------------------------------- // æµ®ç‚¹å‹ float32 float64 // ------------------------------------------------------- // å­—ç¬¦ä¸² string // ------------------------------------------------------- // ç»“æ„ä½“ï¼Œç»“æ„ä½“æ˜¯ç”±ä¸€ç³»åˆ—å…·æœ‰ç›¸åŒç±»å‹æˆ–ä¸åŒç±»å‹çš„æ•°æ®æ„æˆçš„æ•°æ®é›†åˆ // ç”¨ç»“æ„ä½“å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå…·æœ‰æŸä¸€ç‰¹å¾çš„å¯¹è±¡ type identifier struct { field1 type1 field2 type2 } // ------------------------------------------------------- // æ•°ç»„ï¼Œæœ‰åºçš„å…ƒç´ åºåˆ— // å¯ä»¥é€šè¿‡è®¿é—®æ•°ç»„ä¸‹æ ‡å³å¯å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œèµ‹å€¼ var variable_name [SIZE] variable_type // ------------------------------------------------------- // åˆ‡ç‰‡ï¼Œç±»ä¼¼\"åŠ¨æ€æ•°ç»„\"ç»“æ„çš„æ•°æ®ç±»å‹ // æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå®ç°äº†å¯¹æ•°ç»„æ“ä½œçš„å°è£…ã€‚ var identifier []type // ------------------------------------------------------- // map // å¦‚æœä¸åˆå§‹åŒ– mapï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ª nil mapã€‚nil map ä¸èƒ½ç”¨æ¥å­˜æ”¾é”®å€¼å¯¹ // å¯¹äº map ç±»å‹ï¼Œä¸€å®šè¦è¿›è¡Œåˆå§‹åŒ–å†èµ‹å€¼ var map_variable map[key_data_type]value_data_type å˜é‡å£°æ˜èµ‹å€¼ å…ˆå£°æ˜ï¼Œåèµ‹å€¼ // å£°æ˜å˜é‡ï¼Œå˜é‡åæ”¾åœ¨ç±»å‹å‰ var name string // èµ‹å€¼ name = \"test\" å£°æ˜å¹¶èµ‹å€¼ // ç¼–è¯‘å™¨ä¼šæ ¹æ®å€¼è‡ªè¡Œåˆ¤å®šå˜é‡ç±»å‹ // æ–¹å¼ 1 var name = \"test\" // æ–¹å¼ 2 name := \"test\" å¸¸ç”¨ç±»å‹åˆå§‹åŒ–æ–¹å¼ // ç»“æ„ä½“ type Person struct { name string // å§“å age uint32 // å¹´é¾„ birth string // å‡ºç”Ÿæ—¥æœŸ ç”¨ yyyy/mm/dd æ ¼å¼çš„å­—ç¬¦ä¸²è¡¨ç¤º height float32 // èº«é«˜ weight float32 // ä½“é‡ } // æ–¹å¼1ï¼Œå˜é‡ t æ˜¯ä¸€ä¸ªæŒ‡å‘ Person çš„æŒ‡é’ˆï¼Œæ­¤æ—¶ç»“æ„ä½“å­—æ®µçš„å€¼æ˜¯å®ƒä»¬æ‰€å±ç±»å‹çš„é›¶å€¼ t := new(Person) // æ–¹å¼2ï¼Œåº•å±‚ä»ç„¶ä¼šè°ƒç”¨ new ()ï¼Œè¿™é‡Œå€¼çš„é¡ºåºå¿…é¡»æŒ‰ç…§å­—æ®µé¡ºåºæ¥å†™ person : &Person {name : \"juejin\", age : 12} //---------------------------------- // åˆå§‹åŒ–æ•°ç»„ var array = [5]string{ \"go\", \"java\", \"c++\" } array = [10] int64 {0, 1, 2, 3, 4, 5, 6, 7, 8, 9} //---------------------------------- // åˆå§‹åŒ– int64 ç±»å‹çš„åˆ‡ç‰‡ array = make([]int64, 10) //---------------------------------- // map dataMap := make(map[string]string) æ¡ä»¶è¯­å¥ /* * condition: å…³ç³»è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼ï¼Œå¾ªç¯æ§åˆ¶æ¡ä»¶ */ if condition { } eg. if a == 10 { /* å¦‚æœæ¡ä»¶ä¸º true åˆ™æ‰§è¡Œä»¥ä¸‹è¯­å¥ */ fmt.Println(\"a == 10\" ) } /* * statement: å¯é€‰è¯­å¥éƒ¨åˆ†ï¼Œåœ¨æ¡ä»¶åˆ¤æ–­ä¹‹å‰è¿è¡Œ * condition: å…³ç³»è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼ï¼Œåˆ¤æ–­æ¡ä»¶ */ if statement; condition { } eg. if a := 1 ; a å¾ªç¯è¯­å¥ æ–¹å¼ 1 /* * initï¼š ä¸€èˆ¬ä¸ºèµ‹å€¼è¡¨è¾¾å¼ï¼Œç»™æ§åˆ¶å˜é‡èµ‹åˆå€¼ï¼› * conditionï¼š å…³ç³»è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼ï¼Œå¾ªç¯æ§åˆ¶æ¡ä»¶ï¼› * postï¼š ä¸€èˆ¬ä¸ºèµ‹å€¼è¡¨è¾¾å¼ï¼Œç»™æ§åˆ¶å˜é‡å¢é‡æˆ–å‡é‡ã€‚ */ for init; condition; post { } eg. for i :=1 ; i æ–¹å¼2 /* * conditionï¼š å…³ç³»è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼ï¼Œå¾ªç¯æ§åˆ¶æ¡ä»¶ */ for condition { } eg. for 0 == 0 {} for true {} æ–¹å¼3 for { } eg. for { // æœåŠ¡å™¨ç›‘å¬ 8080 ç«¯å£ server.Listen(8080) } å‡½æ•° go è¯­è¨€ä¸­çš„å‡½æ•°æ˜¯æ”¯æŒå¤šè¿”å›å€¼çš„ func function_name( [parameter list] ) [return_types] { // å‡½æ•°ä½“ } eg. // æ­¤å‡½æ•°å®ç°äº†å–ä¸¤ä¸ªæ•°æœ€å¤§å€¼çš„åŠŸèƒ½ func max(a int32, b int32) int32 { if a > b { return a } else { return b } } // æ­¤å‡½æ•°å®ç°äº†å–ä¸¤ä¸ªæ•°æœ€å¤§å€¼å’Œæœ€å°å€¼çš„åŠŸèƒ½ func getMaxAndMin(a int32, b int32) (int32, int32) { if a > b { return a, b } else { return b, a } } go è¯­è¨€è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå«åšæ–¹æ³•ã€‚ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä¸€ä¸ªåŒ…å«äº†æ¥å—è€…çš„å‡½æ•°ï¼Œæ¥å—è€…å¯ä»¥æ˜¯å‘½åç±»å‹æˆ–è€…ç»“æ„ä½“ç±»å‹çš„ä¸€ä¸ªå€¼æˆ–è€…æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚ func (variable_name variable_data_type) function_name() [return_type]{ /* å‡½æ•°ä½“*/ } // æˆ‘ä»¬ç”¨ é¢å‘å¯¹è±¡çš„æ€æƒ³å®ç°ä¸€ä¸ªå°è£…çš„ç»“æ„ä½“ type Person struct{ name string // å§“å age uint32 // å¹´é¾„ } // è·å–å§“å func (p *Person) GetName() string{ return p.name } // è·å–å¹´é¾„ func (p *Person) GetAge() uint32{ return p.age } // è®¾ç½®å§“å func (p *Person) SetName(name string) { p.name = name } // è®¾ç½®å¹´é¾„ func (p *Person) SetAge(age uint32) { p.age = age } å¼‚å¸¸å¤„ç† ç»“åˆè‡ªå®šä¹‰çš„ error ç±»å‹ç»™å‡ºä¸€ä¸ªä½¿ç”¨ panic å’Œ recover çš„å®Œæ•´ä¾‹å­ï¼š package main import ( \"fmt\" ) // å®šä¹‰é™¤æ³•è¿ç®—å‡½æ•° func Devide(num1, num2 int) int { if num2 == 0 { panic(\"num cannot be 0\") } else { return num1 / num2 } } func main() { var a, b int fmt.Scanf(\"%d %d\", &a, &b) defer func() { if r := recover(); r != nil { fmt.Printf(\"panicçš„å†…å®¹%v\\n\", r) } }() rs := Devide(a, b) fmt.Println(\"ç»“æœæ˜¯ï¼š\", rs) } æƒé™æ§åˆ¶ åœ¨ go è¯­è¨€ä¸­ï¼Œæ˜¯é€šè¿‡çº¦å®šæ¥å®ç°æƒé™æ§åˆ¶çš„ã€‚å˜é‡å’Œæ–¹æ³•éƒ½éµå®ˆé©¼å³°å¼å‘½åã€‚å˜é‡å’Œæ–¹æ³•çš„é¦–å­—æ¯å¤§å†™ï¼Œç›¸å½“äº publicï¼Œå˜é‡å’Œæ–¹æ³•çš„é¦–å­—æ¯å°å†™ï¼Œç›¸å½“äº privateã€‚åŒä¸€ä¸ªåŒ…ä¸­è®¿é—®ï¼Œç›¸å½“äº default ï¼Œç”±äº go è¯­è¨€æ²¡æœ‰ç»§æ‰¿ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰ protected æƒé™ã€‚ ç»§æ‰¿ go è¯­è¨€æ˜¯æ²¡æœ‰ç»§æ‰¿çš„ã€‚ä½†æ˜¯ go è¯­è¨€å¯ä»¥é€šè¿‡ç»“æ„ä½“ä¹‹é—´çš„ç»„åˆæ¥å®ç°ç±»ä¼¼ç»§æ‰¿çš„æ•ˆæœã€‚ package main import \"fmt\" type oo struct { inner ss1 string ss2 int ss3 bool } type inner struct { ss4 string } func (i *inner) testMethod () { fmt.Println(\"testMethod is called!!!\") } func main() { oo1 := new(oo) fmt.Println(\"ss4æ— å€¼ï¼š\"+oo1.ss4) oo1.ss4 = \"abc\" fmt.Println(\"ss4å·²èµ‹å€¼\"+oo1.ss4) oo1.testMethod()//ç»§æ‰¿è°ƒç”¨ oo1.inner.testMethod()//ç»§æ‰¿è°ƒç”¨ è¿™é‡Œä¹Ÿå¯ä»¥é‡å†™ } å¤šæ€ åœ¨ go è¯­è¨€ä¸­ï¼Œåªè¦æŸä¸ª struct å®ç°äº†æŸä¸ª interface çš„æ‰€æœ‰æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸ª struct å®ç°äº†è¿™ä¸ªç±»ã€‚ package main import ( \"fmt\" ) type Person interface { Sing () } type Girl struct { Name string } type Boy struct { Name string } func (this *Girl) Sing () { fmt.Println(\"Hi, I am \" + this.Name) } func (this *Boy) Sing () { fmt.Println(\"Hi, I am \" + this.Name) } func main() { g := &Girl{\"Lucy\"} b := &Boy{\"Dave\"} p := map[int]Person{} p[0] = g p[1] = b for _, v := range p { v.Sing() } } Title: Go åŸºç¡€ Date: 2019.07.20 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/authenticating-with-the-app-store.html":{"url":"ios/authenticating-with-the-app-store.html","title":"ä¸Šä¼ åº”ç”¨æ—¶ï¼Œå¡åœ¨ Authenticating with the App Store","keywords":"","body":"ä¸Šä¼ åº”ç”¨æ—¶ï¼Œå¡åœ¨ Authenticating with the App Store æœ¬æ–‡ä¸»è¦è§£å†³çš„æ˜¯åœ¨ä¸Šä¼ åº”ç”¨æ—¶ï¼Œå¡åœ¨ Authenticating with the App Store... çš„é—®é¢˜ã€‚ é—®é¢˜åˆ†æ ç»¼åˆç½‘ä¸Šå„ç§è§£å†³æ­¤é—®é¢˜çš„æ–¹æ¡ˆï¼Œæˆ‘è¿™è¾¹çŒœæµ‹å¡ä½çš„åŸå› å¦‚ä¸‹ï¼š åœ¨ä¸Šä¼  ipa æ—¶ï¼Œéœ€è¦ä½¿ç”¨å¾ˆå¤šå†…ç½®çš„èµ„æºï¼Œè€Œè¿™äº›èµ„æºæ˜¯éœ€è¦ä¸‹è½½çš„ã€‚å› ä¸ºæŸç§åŸå› ï¼ˆä¾‹å¦‚ GFWï¼Œæˆ–è€…ä¸ªäººç½‘ç»œåŸå› ï¼‰ä¸‹è½½ç¼“æ…¢æˆ–å¤±è´¥ï¼Œéƒ½ä¼šé€ æˆå¡æ­»åœ¨è¿™ä¸€æ­¥ã€‚ è§£å†³æ–¹æ¡ˆ ä¸‹è½½æ‰€éœ€çš„æ–‡ä»¶ é“¾æ¥: com.apple.amp.itmstransporter.zip æå–ç : vx8z ä¿®æ”¹æ–‡ä»¶ä¸­çš„å†…å®¹ æ‰¾åˆ° obr/2.0.0/repository.xml è¿™ä¸ªæ–‡ä»¶ã€‚ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œåˆ‡è®°ä¸€å®šè¦ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ä¹‹ç±»çš„æ‰“å¼€ï¼Œä¸è¦ç›´æ¥åŒå‡»ç”¨ Xcode æ‰“å¼€ï¼Œå› ä¸ºæ–‡ä»¶å¤ªå¤§ï¼ŒXcode ä¼šå´©æºƒã€‚ åœ¨æ–‡ä»¶ä¸­æœç´¢ zhangpengï¼Œå…¨éƒ¨æ›¿æ¢ä¸ºä½ ç”µè„‘ç™»å½•çš„ç”¨æˆ·åã€‚ æ›¿æ¢æ–‡ä»¶ å°† ~/Library/Caches æ–‡ä»¶ä¸­çš„ com.apple.amp.itmstransporter å®Œå…¨åˆ é™¤ã€‚ç„¶åå°†ä¸Šé¢çš„è§£å‹åçš„æ–‡ä»¶å¤¹æ”¾å…¥ ~/Library/Cachesï¼Œé€€å‡º Xcode æˆ– Transportï¼Œé‡æ–°ä¸Šä¼ å³å¯ã€‚ Title: ä¸Šä¼ åº”ç”¨æ—¶ï¼Œå¡åœ¨ Authenticating with the App Store Date: 2020.05.26 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/initializer.html":{"url":"ios/initializer.html","title":"ç±»çš„åˆå§‹åŒ–æ–¹æ³•","keywords":"","body":"ç±»çš„åˆå§‹åŒ–æ–¹æ³• åŸæ–‡é“¾æ¥ï¼šæ·±å…¥äº†è§£ iOS çš„åˆå§‹åŒ–ï¼Œæœ¬æ–‡æ˜¯é˜…è¯»ä»¥åçš„æ‘˜æŠ„ã€‚ ç±»ï¼ˆç»“æ„ä½“ã€æšä¸¾ï¼‰çš„åˆå§‹åŒ–æœ‰ä¸¤ç§åˆå§‹åŒ–å™¨ï¼ˆåˆå§‹åŒ–æ–¹æ³•ï¼‰ï¼š æŒ‡å®šåˆå§‹åŒ–å™¨ï¼ˆDesignated Initializers ï¼‰ ä¾¿åˆ©åˆå§‹åŒ–å™¨ï¼ˆConvenience Initializersï¼‰ æŒ‡å®šåˆå§‹åŒ–å™¨ æŒ‡å®šæ„é€ å™¨æ˜¯ç±»ä¸­æœ€ä¸»è¦çš„æ„é€ å™¨ã€‚ä¸€ä¸ªæŒ‡å®šæ„é€ å™¨å°†åˆå§‹åŒ–ç±»ä¸­æä¾›çš„æ‰€æœ‰å±æ€§ï¼Œå¹¶è°ƒç”¨åˆé€‚çš„çˆ¶ç±»æ„é€ å™¨è®©æ„é€ è¿‡ç¨‹æ²¿ç€çˆ¶ç±»é“¾ç»§ç»­å¾€ä¸Šè¿›è¡Œã€‚ ä¾¿åˆ©åˆå§‹åŒ–å™¨ ä¾¿åˆ©åˆå§‹åŒ–å™¨æ˜¯ç±»ï¼ˆç»“æ„ä½“ã€æšä¸¾ï¼‰çš„æ¬¡è¦åˆå§‹åŒ–å™¨ï¼Œä½œç”¨æ˜¯ä½¿ç±»ï¼ˆç»“æ„ä½“ã€æšä¸¾ï¼‰åœ¨åˆå§‹åŒ–æ—¶æ›´æ–¹ä¾¿è®¾ç½®ç›¸å…³çš„å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰ã€‚ä¾¿åˆ©åˆå§‹åŒ–å™¨é‡Œé¢æœ€åéƒ½éœ€è¦è°ƒç”¨è‡ªèº«çš„æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚ æ ¸å¿ƒåŸåˆ™ å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œåœ¨æŒ‡å®šåˆå§‹åŒ–å™¨é‡Œä¿è¯æ‰€æœ‰éå¯é€‰ç±»å‹å±æ€§éƒ½å¾—åˆ°æ­£ç¡®çš„åˆå§‹åŒ–ï¼ˆæœ‰å€¼ï¼‰ ä¾¿åˆ©åˆå§‹åŒ–å™¨å¿…é¡»è°ƒç”¨å…¶ä»–åˆå§‹åŒ–å™¨ï¼Œä½¿å¾—æœ€åè‚¯å®šä¼šè°ƒç”¨æŒ‡å®šåˆå§‹åŒ–å™¨ å¦‚æœæ–‡å­—ä¸å¥½ç†è§£ï¼Œå¯ä»¥æ ¹æ®ä¸‹é¢çš„å›¾ï¼Œè¿›è¡Œç†è§£ï¼š Objective-C å’Œ Swift çš„å·®å¼‚ Objective-C Objective-C åœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨ç»™æ¯ä¸ªå±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰èµ‹å€¼ä¸º 0 æˆ–è€… nilï¼Œæ²¡æœ‰å¼ºåˆ¶è¦æ±‚é¢å¤–ä¸ºæ¯ä¸ªå±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰èµ‹å€¼ï¼Œæ–¹ä¾¿çš„åŒæ—¶ä¹Ÿç¼ºå°‘äº†ä»£ç çš„å®‰å…¨æ€§ã€‚ Objective-C ä¸­çš„æŒ‡å®šåˆå§‹åŒ–å™¨ä¼šåœ¨åé¢è¢« NS_DESIGNATED_INITIALIZER ä¿®é¥°ï¼Œä»¥ä¸‹ä¸º NSObject å’Œ UIView çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼š // NSObject @interface NSObject - (instancetype)init #if NS_ENFORCE_NSOBJECT_DESIGNATED_INITIALIZER NS_DESIGNATED_INITIALIZER #endif ; @end // UIView @interface UIView : UIResponder - (instancetype)initWithFrame:(CGRect)frame NS_DESIGNATED_INITIALIZER; - (nullable instancetype)initWithCoder:(NSCoder *)coder NS_DESIGNATED_INITIALIZER; @end æ— è®ºç»§æ‰¿è‡ªä»€ä¹ˆç±»ï¼Œéƒ½ç»å¸¸éœ€è¦æ–°çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œè€Œè¿™ä¸ªæ–°çš„åˆå§‹åŒ–æ–¹æ³•å…¶å®å°±æ˜¯æ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚å¦‚æœå­˜åœ¨ä¸€ä¸ªæ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œé‚£ä¹ˆåŸæ¥çš„æŒ‡å®šåˆå§‹åŒ–å™¨å°±ä¼šè‡ªåŠ¨é€€åŒ–æˆä¾¿åˆ©åˆå§‹åŒ–å™¨ã€‚ä¸ºäº†éµå¾ªå¿…é¡»è¦è°ƒç”¨æŒ‡å®šåˆå§‹åŒ–å™¨çš„è§„åˆ™ï¼Œå°±å¿…é¡»é‡å†™æ—§çš„å®šåˆå§‹åŒ–å™¨ï¼Œåœ¨é‡Œé¢è°ƒç”¨æ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œè¿™æ ·å°±èƒ½ç¡®ä¿æ‰€æœ‰å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰è¢«åˆå§‹åŒ–ã€‚ ä¸¾ä¾‹ ç”±äºUIViewæ‹¥æœ‰æ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨ -initWithFrame:ï¼Œå¯¼è‡´çˆ¶ç±» NSObject çš„æŒ‡å®šåˆå§‹åŒ–å™¨ -init é€€åŒ–æˆä¾¿åˆ©åˆå§‹åŒ–å™¨ã€‚æ‰€ä»¥å½“è°ƒç”¨ [[UIView alloc] init] æ—¶ï¼Œ-init é‡Œé¢å¿…ç„¶è°ƒç”¨äº† -initWithFrame:ã€‚ å»ºè®® å½“å­˜åœ¨ä¸€ä¸ªæ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨çš„æ—¶å€™ï¼Œæ¨èåœ¨æ–¹æ³•ååé¢åŠ ä¸Š NS_DESIGNATED_INITIALIZERï¼Œä¸»åŠ¨å‘Šè¯‰ç¼–è¯‘å™¨æœ‰ä¸€ä¸ªæ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ Xcode è‡ªå¸¦çš„AnalysisåŠŸèƒ½åˆ†æï¼Œæ‰¾å‡ºåˆå§‹åŒ–è¿‡ç¨‹ä¸­å¯èƒ½å­˜åœ¨çš„æ¼æ´ã€‚ å¦‚æœä¸æƒ³å»é‡å†™æ—§çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œä½†åˆä¸æƒ³å­˜åœ¨æ¼æ´å’Œéšæ‚£ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ NS_UNAVAILABLE æŠŠæ—§çš„æŒ‡å®šåˆå§‹åŒ–å™¨éƒ½åºŸå¼ƒï¼Œå¤–ç•Œå°±æ— æ³•è°ƒç”¨æ—§çš„æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚ Swift ç›¸å¯¹äº Objective-Cï¼ŒSwift å¤šäº†ä¸€äº›è§„åˆ™ï¼š åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦ä¿è¯ç±»ï¼ˆç»“æ„ä½“ã€æšä¸¾ï¼‰çš„æ‰€æœ‰éå¯é€‰ç±»å‹å±æ€§éƒ½ä¼šæœ‰å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ åœ¨æ²¡æœ‰ç»™æ‰€æœ‰éå¯é€‰ç±»å‹å±æ€§èµ‹å€¼ï¼ˆåˆå§‹åŒ–å®Œæˆï¼‰ä¹‹å‰ï¼Œä¸èƒ½è°ƒç”¨selfç›¸å…³çš„ä»»ä½•ä¸œè¥¿ï¼Œä¾‹å¦‚ï¼šè°ƒç”¨å®ä¾‹å±æ€§ï¼Œè°ƒç”¨å®ä¾‹æ–¹æ³• ä¸å­˜åœ¨ç»§æ‰¿ è¿™ç§æƒ…å†µå¤„ç†å°±ååˆ†ç®€å•ï¼Œè‡ªå·±é‡Œé¢çš„ init æ–¹æ³•å°±æ˜¯å®ƒçš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œè€Œä¸”å¯ä»¥éšæ„åˆ›å»ºå¤šä¸ªå®ƒçš„æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚å¦‚æœéœ€è¦åˆ›å»ºä¾¿åˆ©åˆå§‹åŒ–å™¨ï¼Œåˆ™åœ¨æ–¹æ³•åå‰é¢åŠ ä¸Š convenienceï¼Œä¸”åœ¨é‡Œé¢å¿…é¡»è°ƒç”¨å…¶ä»–åˆå§‹åŒ–å™¨ï¼Œä½¿å¾—æœ€åè‚¯å®šè°ƒç”¨æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚ class Student: Person { var score: Double = 100 } å­˜åœ¨ç»§æ‰¿ å¦‚æœå­ç±»æ²¡æœ‰æ–°çš„éå¯é€‰ç±»å‹å±æ€§ï¼Œæˆ–è€…ä¿è¯æ‰€æœ‰éå¯é€‰ç±»å‹å±æ€§éƒ½å·²ç»æœ‰é»˜è®¤å€¼ï¼Œåˆ™å¯ä»¥ç›´æ¥ç»§æ‰¿çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨å’Œä¾¿åˆ©åˆå§‹åŒ–å™¨ã€‚ å¦‚æœå­ç±»æœ‰æ–°çš„éå¯é€‰ç±»å‹å±æ€§ï¼Œæˆ–è€…æ— æ³•ä¿è¯æ‰€æœ‰éå¯é€‰ç±»å‹å±æ€§éƒ½å·²ç»æœ‰é»˜è®¤å€¼ï¼Œåˆ™éœ€è¦æ–°åˆ›å»ºä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œæˆ–è€…é‡å†™çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚ æ–°åˆ›å»ºä¸€ä¸ªæŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œä¼šè¦†ç›–çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œéœ€è¦å…ˆç»™å½“å‰ç±»æ‰€æœ‰éå¯é€‰ç±»å‹å±æ€§èµ‹å€¼ï¼Œç„¶åå†è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨ é‡å†™çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œéœ€è¦å…ˆç»™å½“å‰ç±»æ‰€æœ‰éå¯é€‰ç±»å‹å±æ€§èµ‹å€¼ï¼Œç„¶åå†è°ƒç”¨çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨ åœ¨ä¿è¯å­ç±»æœ‰æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œæ‰èƒ½åˆ›å»ºä¾¿åˆ©åˆå§‹åŒ–å™¨ï¼Œä¸”åœ¨ä¾¿åˆ©åˆå§‹åŒ–å™¨é‡Œé¢å¿…é¡»è°ƒç”¨æŒ‡å®šåˆå§‹åŒ–å™¨ class Student: Person { var score: Double // æ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œå¦‚æœæœ‰æ–°çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œå°±ä¸ä¼šç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰åˆå§‹åŒ–å™¨ï¼Œé™¤éé‡å†™ init(name: String, age: Int, score: Double) { self.score = score super.init(name: name, age: age) } // é‡å†™çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œå¦‚æœä¸é‡å†™ï¼Œåˆ™å­ç±»ä¸å­˜åœ¨è¿™ä¸ªæ–¹æ³• override init(name: String, age: Int) { score = 100 super.init(name: name, age: age) } // ä¾¿åˆ©åˆå§‹åŒ–å™¨ convenience init(name: String) { // å¿…é¡»è¦è°ƒç”¨è‡ªå·±çš„æŒ‡å®šåˆå§‹åŒ–å™¨ self.init(name: name, age: 10, score: 100) } } éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå­ç±»é‡å†™çˆ¶ç±»æ‰€æœ‰æŒ‡å®šåˆå§‹åŒ–å™¨ï¼Œåˆ™ä¼šç»§æ‰¿çˆ¶ç±»çš„ä¾¿åˆ©åˆå§‹åŒ–å™¨ã€‚åŸå› ä¹Ÿæ˜¯å¾ˆç®€å•ï¼Œå› ä¸ºçˆ¶ç±»çš„ä¾¿åˆ©åˆå§‹åŒ–å™¨ï¼Œä¾èµ–äºè‡ªå·±çš„æŒ‡å®šåˆå§‹åŒ–å™¨ã€‚ å¯å¤±è´¥çš„åˆå§‹åŒ–å™¨ å¯å¤±è´¥çš„åˆå§‹åŒ–å™¨ï¼ˆFailable Initializersï¼‰ï¼Œè¡¨ç¤ºåœ¨æŸäº›æƒ…å†µä¸‹ä¼šåˆ›å»ºå®ä¾‹å¤±è´¥ã€‚åªæœ‰åœ¨è¡¨ç¤ºåˆ›å»ºå¤±è´¥çš„æ—¶å€™æ‰æœ‰è¿”å›å€¼ï¼Œå¹¶ä¸”è¿”å›å€¼ä¸º nilã€‚ å­ç±»å¯ä»¥æŠŠçˆ¶ç±»çš„å¯å¤±è´¥çš„åˆå§‹åŒ–å™¨é‡å†™ä¸ºä¸å¯å¤±è´¥çš„åˆå§‹åŒ–å™¨ï¼Œä½†ä¸èƒ½æŠŠçˆ¶ç±»çš„ä¸å¯å¤±è´¥çš„åˆå§‹åŒ–å™¨é‡å†™ä¸ºå¯å¤±è´¥çš„åˆå§‹åŒ–å™¨ã€‚ class Animal { let name: String // å¯å¤±è´¥çš„åˆå§‹åŒ–å™¨ï¼Œå¦‚æœæŠŠ ! æ¢æˆ ?ï¼Œåˆ™ä¸ºéšå¼çš„å¯å¤±è´¥çš„åˆå§‹åŒ–å™¨ init?(name: String) { if name.isEmpty { return nil } self.name = name } } class Dog: Animal { override init(name: String) { if name.isEmpty { super.init(name: \"æ—ºè´¢\")! } else { super.init(name: name)! } } } å¿…é¡»çš„åˆå§‹åŒ–å™¨ å¯ä»¥ä½¿ç”¨ required ä¿®é¥°åˆå§‹åŒ–å™¨ï¼Œæ¥æŒ‡å®šå­ç±»å¿…é¡»å®ç°è¯¥åˆå§‹åŒ–å™¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå­ç±»å¯ä»¥ç›´æ¥ç»§æ‰¿çˆ¶ç±»çš„æŒ‡å®šåˆå§‹åŒ–å™¨å’Œä¾¿åˆ©åˆå§‹åŒ–å™¨ï¼Œä¹Ÿå°±å¯ä»¥ä¸ç”¨é¢å¤–å®ç°requiredä¿®é¥°çš„åˆå§‹åŒ–å™¨ã€‚ Title: ç±»çš„åˆå§‹åŒ–æ–¹æ³• Date: 2019.12.05 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/create-pod.html":{"url":"ios/create-pod.html","title":"å¦‚ä½•åˆ›å»ºä¸€ä¸ªå…¬æœ‰ Pod åº“","keywords":"","body":"å¦‚ä½•åˆ›å»ºä¸€ä¸ªå…¬æœ‰ Pod åº“ æ³¨æ„ï¼š æ–‡ä¸­ä½¿ç”¨ {} åŒ…è£¹çš„ä½ç½®éƒ½éœ€è¦æ ¹æ®æ‚¨è‡ªèº«æƒ…å†µè¿›è¡Œè®¾ç½®ã€‚ å¦‚æœæ‚¨å·²ç»æ˜¯ COCOAPODS ç”¨æˆ·ï¼Œè¯·ç›´æ¥è·³åˆ°ç¬¬äºŒèŠ‚ã€‚ æ³¨å†Œ COCOAPODS ç”¨æˆ· æ³¨å†Œ Session $ pod trunk register {YOURMAIL} '{YOURNAME}' --verbose opening connection to trunk.cocoapods.org:443... opened starting SSL for trunk.cocoapods.org:443... SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES128-GCM-SHA256 \"HTTP/1.1 201 Created\\r\\n\" -> \"Date: Thu, 20 Jun 2019 14:17:48 GMT\\r\\n\" -> \"Connection: keep-alive\\r\\n\" -> \"Strict-Transport-Security: max-age=31536000\\r\\n\" -> \"Content-Type: application/json\\r\\n\" -> \"Content-Length: 192\\r\\n\" -> \"X-Content-Type-Options: nosniff\\r\\n\" -> \"Server: thin 1.6.2 codename Doc Brown\\r\\n\" -> \"Via: 1.1 vegur\\r\\n\" -> \"\\r\\n\" reading 192 bytes... -> \"{\\\"created_at\\\":\\\"2019-06-20 14:17:48 UTC\\\",\\\"valid_until\\\":\\\"2019-10-26 14:17:48 UTC\\\",\\\"verified\\\":false,\\\"created_from_ip\\\":\\\"223.104.3.12\\\",\\\"description\\\":null,\\\"token\\\":\\\"xxxxxxxxxx\\\"}\" read 192 bytes Conn keep-alive [!] Please verify the session by clicking the link in the verification email that has been sent to YOURMAIL å»é‚®ç®±ç‚¹å‡»éªŒè¯é“¾æ¥ æ­¤æ—¶æ‚¨çš„é‚®ç®±ä¸­åº”è¯¥æœ‰ä¸€å°ä¸»é¢˜æ˜¯ [CocoaPods] Confirm your session. çš„é‚®ä»¶ï¼Œç‚¹å‡»é‚®ä»¶ä¸­çš„é“¾æ¥è¿›è¡ŒéªŒè¯ã€‚ éªŒè¯æ˜¯å¦æ³¨å†ŒæˆåŠŸ ä¸‹é¢å†…å®¹ï¼Œè¡¨ç¤ºæ‚¨å·²ç»æ³¨å†ŒæˆåŠŸã€‚ $ pod trunk me - Name: YOURNAME - Email: YOURMAIL - Since: May 23rd, 2018 03:02 - Pods: - PodName - Sessions: - June 20th, 08:17 - October 26th, 08:39. IP: xxx.xxx.xxx.xxx åˆ›å»ºå…¬æœ‰ Pod åº“ åˆ›å»ºä¸€ä¸ª Git ä»“åº“ åˆ›å»ºè¿‡ç¨‹è¯·è‡ªè¡Œç™¾åº¦ï¼Œè°¢è°¢ï¼ï¼ï¼å¦‚æœæ˜¯åœ¨æœä¸åˆ°ï¼Œé‚£å°±ç§ä¿¡æˆ‘å§ï¼ğŸ˜“ å‡è®¾æˆ‘ä»¬å·²ç»æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªä»“åº“, å…³é”®ä¿¡æ¯å¦‚ä¸‹ï¼š ä»“åº“ä¸»é¡µè¿›å…¥æ‚¨åˆ›å»ºçš„ä»“åº“åï¼Œåœ°å€æ ä¸­çš„åœ°å€:https://github.com/{YOURGITHUBNAME}/{YOURPODNAME} git åœ°å€ç‚¹å‡» Clone or download æŒ‰é’®ï¼Œå°±å¯ä»¥çœ‹åˆ°äº†ã€‚æˆ‘ä»¬é€‰æ‹© HTTPS åœ°å€ï¼Œåˆ«é—®ä¸ºä»€ä¹ˆï¼Œå› ä¸º CocoaPods è¦æ±‚:https://github.com/{YOURGITHUBNAME}/{YOURPODNAME}.git åˆ›å»º Pod åº“ åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ: pod lib create {YOURPODNAME}ï¼Œæ¥ä¸‹æ¥æŒ‰ç…§æç¤ºï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œé€‰æ‹©å°±å¯ä»¥äº†ã€‚ $ pod lib create {YOURPODNAME} Cloning `https://github.com/CocoaPods/pod-template.git` into `YOURPODNAME`. Configuring YOURPODNAME template. security: SecKeychainSearchCopyNext: The specified item could not be found in the keychain. ------------------------------ To get you started we need to ask a few questions, this should only take a minute. If this is your first time we recommend running through with the guide: - https://guides.cocoapods.org/making/using-pod-lib-create.html ( hold cmd and click links to open in a browser. ) What platform do you want to use?? [ iOS / macOS ] > {iOS} What language do you want to use?? [ Swift / ObjC ] > {ObjC} Would you like to include a demo application with your library? [ Yes / No ] > {Yes} Which testing frameworks will you use? [ Specta / Kiwi / None ] > {None} Would you like to do view based testing? [ Yes / No ] > {No} What is your class prefix? > {Prefix} security: SecKeychainSearchCopyNext: The specified item could not be found in the keychain. security: SecKeychainSearchCopyNext: The specified item could not be found in the keychain. security: SecKeychainSearchCopyNext: The specified item could not be found in the keychain. security: SecKeychainSearchCopyNext: The specified item could not be found in the keychain. security: SecKeychainSearchCopyNext: The specified item could not be found in the keychain. security: SecKeychainSearchCopyNext: The specified item could not be found in the keychain. Running pod install on your new library. Analyzing dependencies Fetching podspec for `YOURPODNAME` from `../` Downloading dependencies Installing YOURPODNAME (0.1.0) Generating Pods project Integrating client project [!] Please close any current Xcode sessions and use `YOURPODNAME.xcworkspace` for this project from now on. Sending stats Pod installation complete! There is 1 dependency from the Podfile and 1 total pod installed. Ace! you're ready to go! We will start you off by opening your project in Xcode open 'YOURPODNAME/Example/YOURPODNAME.xcworkspace' To learn more about the template see `https://github.com/CocoaPods/pod-template.git`. To learn more about creating a new pod, see `https://guides.cocoapods.org/making/making-a-cocoapod`. ç¼–è¾‘ YOURPODNAME.podspec Pod::Spec.new do |s| s.name = '{YOURPODNAME}' s.version = '0.1.0' s.summary = 'A short description of {YOURPODNAME}.' # This description is used to generate tags and improve search results. # * Think: What does it do? Why did you write it? What is the focus? # * Try to keep it short, snappy and to the point. # * Write the description between the DESC delimiters below. # * Finally, don't worry about the indent, CocoaPods strips it! s.description = 'MIT', :file => 'LICENSE' } s.author = { '{YOURNAME}' => '{YOURMAIL}' } s.source = { :git => 'https://github.com/{YOURGITHUBNAME}/{YOURPODNAME}.git', :tag => s.version.to_s } # s.social_media_url = 'https://twitter.com/' s.ios.deployment_target = '8.0' s.source_files = '{YOURPODNAME}/Classes/**/*' # s.resource_bundles = { # '{YOURPODNAME}' => ['{YOURPODNAME}/Assets/*.png'] # } # s.public_header_files = 'Pod/Classes/**/*.h' # s.frameworks = 'UIKit', 'MapKit' # s.dependency 'AFNetworking', '~> 2.3' end å¿…é¡»è¦ä¿®æ”¹çš„:s.summary: pod æ‘˜è¦s.description: pod æè¿°s.homepage: pod åœ¨ github ä¸­çš„åœ°å€s.author: ä½œè€…å§“ååŠé‚®ç®±s.source: pod çš„ git åœ°å€ å…¶ä½™çš„æ ¹æ®æ‚¨çš„å®é™…æƒ…å†µè¿›è¡Œä¿®æ”¹ï¼Œæ¯ä¸ªå­—æ®µçš„æè¿°ï¼Œä¸‹ç¯‡æ–‡ç« ä¸­ä¼šè¯¦ç»†ä»‹ç»ï¼ éªŒè¯ YOURPODNAME.podspec $ pod lib lint -> YOURPODNAME (0.1.0) - WARN | summary: The summary is not meaningful. - WARN | url: The URL (https://github.com/{YOURGITHUBNAME}/YOURPODNAME) is not reachable. - NOTE | xcodebuild: note: Using new build system - NOTE | [iOS] xcodebuild: note: Planning build - NOTE | [iOS] xcodebuild: note: Constructing build description - NOTE | xcodebuild: note: Execution policy exception registration failed and was skipped: Error Domain=NSPOSIXErrorDomain Code=1 \"Operation not permitted\" - NOTE | [iOS] xcodebuild: warning: Skipping code signing because the target does not have an Info.plist file and one is not being generated automatically. [!] YOURPODNAME did not pass validation, due to 2 warnings (but you can use `--allow-warnings` to ignore them). You can use the `--no-clean` option to inspect any issue. è™½ç„¶ä¸Šé¢è¿˜æœ‰ä¸¤ä¸ª WARNï¼Œä½†æ˜¯å·²ç»ç¬¦åˆå®˜æ–¹çš„æ ‡å‡†äº†ï¼Œå¯ä»¥è¿›è¡Œæäº¤æ“ä½œäº†ã€‚ä½†æ˜¯ï¼å¦‚æœæ‚¨æ˜¯å®Œç¾ä¸»ä¹‰è€…ï¼Œå¯ä»¥å½»åº•å¤„ç†å¹²å‡€ååœ¨è¿›è¡Œæäº¤ï¼ï¼ˆæˆ‘è§£å†³äº†ï¼Œæ‚¨éšæ„ï¼ï¼‰ æäº¤ä»£ç  git add . git commit -m \"åˆ›å»º pod åº“\" git push åˆ›å»ºå¹¶æäº¤ tag git tag -a 0.1.0 -m 'åˆ›å»º pod åº“' git push origin --tags æ³¨æ„ï¼š æ­¤å¤„çš„ tag åº”ä¸ .podspec æ–‡ä»¶ä¸­çš„ s.version ä¿æŒä¸€è‡´ã€‚æ¯æ¬¡ä¿®æ”¹ pod ä¸­çš„ä»£ç ï¼Œæ·»åŠ  tag åï¼Œéƒ½åº”åŒæ—¶ä¿®æ”¹ .podspec æ–‡ä»¶ä¸­çš„ s.version æäº¤ pod $ pod trunk push [!] Found podspec `YOURPODNAME.podspec` Updating spec repo `master` Validating podspec -> YOURPODNAME (0.1.0) - NOTE | xcodebuild: note: Using new build system - NOTE | [iOS] xcodebuild: note: Planning build - NOTE | [iOS] xcodebuild: note: Constructing build description - NOTE | xcodebuild: note: Execution policy exception registration failed and was skipped: Error Domain=NSPOSIXErrorDomain Code=1 \"Operation not permitted\" - NOTE | [iOS] xcodebuild: warning: Skipping code signing because the target does not have an Info.plist file and one is not being generated automatically. Updating spec repo `master` -------------------------------------------------------------------------------- ğŸ‰ Congrats ğŸš€ YOURPODNAME (0.1.0) successfully published ğŸ“… June 18th, 10:30 ğŸŒ https://cocoapods.org/pods/YOURPODNAME ğŸ‘ Tell your friends! -------------------------------------------------------------------------------- æ­å–œæ‚¨ï¼Œæ‚¨å·²ç»æˆåŠŸçš„å°†æ‚¨åˆ›å»ºçš„ pod åº“æ¨é€åˆ°äº†å®˜æ–¹ pod åº“ï¼ å‘ç‚¹ & è§£å†³æ–¹æ¡ˆ Failed to open TCP connection to trunk.cocoapods.org:443 (getaddrinfo: nodename nor servname provided, or not known) è§£ï¼š æ­¤é—®é¢˜å¸¸è§äº pod trunk ç›¸å…³çš„å‘½ä»¤ã€‚ç½‘ç»œå¤§ç¯å¢ƒä¸è¡Œï¼Œè¦ä¹ˆå‘¢å•¥ï¼ˆæŠ€æœ¯éƒ½æ‡‚çš„ï¼‰ï¼Œè¦ä¹ˆè¿æ¥æ‰‹æœºå¼€çƒ­ç‚¹è¿›è¡Œæ“ä½œã€‚ Unable to accept duplicate entry for: YOURPODNAME (0.1.0) è§£ï¼š pod trunk push æ—¶å‘ç”Ÿæ­¤é”™è¯¯ï¼Œè¯´æ˜è¯¥ pod åº“åœ¨è¿œç«¯å·²ç»æœ‰äº† 0.1.0 ç‰ˆæœ¬ã€‚è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ä¸ªï¼š ä½¿ç”¨ä¸€ä¸ªè¿œç«¯è¿˜æ²¡æœ‰çš„ç‰ˆæœ¬å· ä½¿ç”¨ pod trunk delete YOURPODNAME 0.1.0 åˆ é™¤è¿œç«¯çš„ 0.1.0 ç‰ˆæœ¬ï¼Œç„¶åé‡æ–°è¿›è¡Œæ¨é€ unable to find a pod with name, author, summary, or description matching 'YOURPODNAME' è§£ï¼š ä¿¡æ¯æ›´æ–°ä¸åŠæ—¶å¯¼è‡´ã€‚ é¦–å…ˆåˆ é™¤æœ¬åœ°ç¼“å­˜ rm ~/Library/Caches/CocoaPods/search_index.json ç„¶åæ‰§è¡Œ: pod update Title: å¦‚ä½•åˆ›å»ºä¸€ä¸ªå…¬æœ‰ Pod åº“ Date: 2019.06.21 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/sandbox.html":{"url":"ios/sandbox.html","title":"App æ²™ç›’","keywords":"","body":"App æ²™ç›’ ä» iOS8 ä»¥åï¼Œæ¯æ¬¡Appé‡æ–°è¿è¡Œåï¼Œæ²™ç›’è·¯å¾„éƒ½ä¼šå˜åŒ–ã€‚ Documents ç›®å½• ä¿å­˜åº”ç”¨è¿è¡Œæ—¶ç”Ÿæˆçš„éœ€è¦æŒä¹…åŒ–çš„æ•°æ®ï¼ŒiTunes ä¼šè‡ªåŠ¨å¤‡ä»½è¯¥ç›®å½•ã€‚è‹¹æœå»ºè®®å°†ç¨‹åºä¸­å»ºç«‹çš„æˆ–åœ¨ç¨‹åºä¸­æµè§ˆåˆ°çš„æ–‡ä»¶æ•°æ®ä¿å­˜åœ¨è¯¥ç›®å½•ä¸‹ï¼ŒiTunes å¤‡ä»½å’Œæ¢å¤çš„æ—¶å€™ä¼šåŒ…æ‹¬æ­¤ç›®å½•ã€‚ NSString *path = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject]; Library ç›®å½• å­˜å‚¨ç¨‹åºçš„é»˜è®¤è®¾ç½®å’Œå…¶ä»–çŠ¶æ€ä¿¡æ¯ï¼ŒiTunes ä¼šè‡ªåŠ¨å¤‡ä»½è¯¥ç›®å½•ï¼ˆä»…Preferencesï¼‰ã€‚ NSString *path = [NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES) firstObject]; è¿™ä¸ªç›®å½•ä¸‹æœ‰ä¸¤ä¸ªå­ç›®å½•ï¼šCaches å’Œ Preferences Preferences ä¿å­˜åº”ç”¨çš„æ‰€æœ‰åå¥½è®¾ç½®ï¼ŒiOS çš„ Settingsï¼ˆè®¾ç½®ï¼‰åº”ç”¨ä¼šåœ¨è¯¥ç›®å½•ä¸­æŸ¥æ‰¾åº”ç”¨çš„è®¾ç½®ä¿¡æ¯ï¼ŒiTunes ä¼šè‡ªåŠ¨å¤‡ä»½è¯¥ç›®å½•ã€‚ Caches å­˜æ”¾ç¼“å­˜æ–‡ä»¶ï¼ŒiTunes ä¸ä¼šå¤‡ä»½æ­¤ç›®å½•ï¼Œæ­¤ç›®å½•ä¸‹æ–‡ä»¶ä¸ä¼šåœ¨åº”ç”¨é€€å‡ºåˆ é™¤ã€‚ä¸€èˆ¬å­˜æ”¾ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œä¸æ˜¯ç‰¹åˆ«é‡è¦çš„èµ„æºã€‚ NSString *path = [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) firstObject]; Tmp ç›®å½• ä¿å­˜åº”ç”¨è¿è¡Œæ—¶æ‰€éœ€çš„ä¸´æ—¶æ•°æ®ï¼Œä½¿ç”¨å®Œæ¯•åå†å°†ç›¸åº”çš„æ–‡ä»¶ä»è¯¥ç›®å½•åˆ é™¤ã€‚åº”ç”¨æ²¡æœ‰è¿è¡Œæ—¶ï¼Œç³»ç»Ÿä¹Ÿæœ‰å¯èƒ½ä¼šæ¸…é™¤è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ŒiTunes ä¸ä¼šåŒæ­¥è¯¥ç›®å½•ã€‚è®¾å¤‡é‡å¯æ—¶ï¼Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šä¸¢å¤±ã€‚ NSString *path = NSTemporaryDirectory(); Title: App æ²™ç›’ Date: 2019.04.15 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/block-statement.html":{"url":"ios/block-statement.html","title":"Block çš„å£°æ˜æ–¹å¼","keywords":"","body":"Block çš„å£°æ˜æ–¹å¼ åŸæ–‡é“¾æ¥ï¼šHow Do I Declare A Block in Objective-C? å±€éƒ¨å˜é‡ returnType (^blockName)(parameterTypes) = ^returnType(parameters) {...}; å±æ€§ @property (nonatomic, copy, nullability) returnType (^blockName)(parameterTypes); æ–¹æ³•å‚æ•° - (void)someMethodThatTakesABlock:(returnType (^nullability)(parameterTypes))blockName; æ–¹æ³•è°ƒç”¨çš„å‚æ•° [someObject someMethodThatTakesABlock:^returnType (parameters) {...}]; Cå‡½æ•°çš„å‚æ•° void SomeFunctionThatTakesABlock(returnType (^blockName)(parameterTypes)); ç±»å‹å®šä¹‰ typedef returnType (^TypeName)(parameterTypes); TypeName blockName = ^returnType(parameters) {...}; Title: Block çš„å£°æ˜æ–¹å¼ Date: 2019.03.10 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/rac-eventbus-rxjava.html":{"url":"ios/rac-eventbus-rxjava.html","title":"Rac EventBus RxJava","keywords":"","body":"Rac EventBus RxJava Rac æ˜¯ä»€ä¹ˆ Rac å…¨ç§° Reactivecocoaï¼Œæ˜¯ä¸€ä¸ªåº”ç”¨äº iOS å’Œ OS X å¼€å‘çš„æ¡†æ¶ï¼Œå®ƒçš„çµæ„Ÿæ¥è‡ªå‡½æ•°å¼ å“åº”å¼ç¼–ç¨‹ã€‚ Rac åšäº†ä»€ä¹ˆ å°†åŸæœ‰çš„å„ç§è®¾è®¡æ¨¡å¼ï¼ŒåŒ…æ‹¬ ä¸­å¿ƒä»¥åŠè§‚å¯Ÿè€…æ¨¡å¼å„ç§ã€è¾“å…¥ã€ï¼Œéƒ½æŠ½è±¡æˆäº†ä¿¡å·ï¼Œé€šè¿‡ä¿¡å·çš„ä¼ é€’æ¥å¤„ç†è¿™äº›è¡Œä¸ºã€‚ç®€åŒ–äº†äº‹ä»¶çš„ä¼ é€’ï¼Œæ¯ä¸ªéƒ¨åˆ†åªéœ€è¦å…³æ³¨ä¿¡å·çš„ä¼ é€’åŠçŠ¶æ€å³å¯ã€‚æœ€ç»ˆå°†ä¿¡å·é€šè¿‡ä¸åŒçš„ç»„åˆï¼Œè¾¾æˆæˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„ã€‚ Rac çš„ç»„æˆ 1. æ ¸å¿ƒç»„ä»¶ ä¿¡å·æº RACStream åŠå…¶å­ç±»ï¼› è®¢é˜…è€… RACSubscriberåŠå…¶å­ç±» è°ƒåº¦å™¨ RACScheduleråŠå…¶å­ç±» æ¸…æ´å·¥ RACDisposableåŠå…¶å­ç±» 2. ç»„ä»¶é—´çš„å…³ç³» è®¢é˜…è€…è®¢é˜…ä¿¡å·æºåï¼Œè°ƒåº¦å™¨ä¿è¯ä¿¡å·æºçš„ä¼ é€’åŠé¡ºåº ä¿¡å·åˆ°è¾¾åï¼Œæ ¹æ®ä¿¡å·çš„çŠ¶æ€ï¼Œè¿›è¡Œä¸åŒçš„æ“ä½œ æ“ä½œå®Œæˆåï¼Œé€šè¿‡æ¸…æ´å·¥æ¸…ç†æ‰ä¿¡å·æº Rac çš„ç”¨å¤„ å¤„ç†å¼‚æ­¥æˆ–è€…äº‹ä»¶é©±åŠ¨æ•°æ®æº è¿æ¥ä¾èµ–çš„æ“ä½œ å¹¶è¡Œåœ°ç‹¬ç«‹åœ°å·¥ä½œ ç®€åŒ–é›†åˆè½¬æ¢ Rac çš„ä½¿ç”¨ Rac çš„ç®€å•ä½¿ç”¨ å¯¹æ¯” EventBus RxJava EventBus EventBusæ˜¯ä¸€æ¬¾é’ˆå¯¹Androidè®¾è®¡çš„å‘å¸ƒ/è®¢é˜…äº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨è®¢é˜…/å‘å¸ƒæ¨¡å¼è®©ç»„ä»¶é—´çš„é€šä¿¡å˜å¾—ç®€å•ã€‚ä¸»è¦åŠŸèƒ½æ˜¯æ›¿ä»£Intentï¼ŒHandlerï¼ŒBroadCaståœ¨Fragmentï¼ŒActivityï¼ŒServiceï¼Œçº¿ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ã€‚ EventBus å››å¤§ç»„æˆéƒ¨åˆ†ï¼š Publisherå‘å¸ƒè€… ç”¨äºåˆ†å‘æˆ‘ä»¬çš„Eventäº‹ä»¶ï¼Œåœ¨EventBusä¸­é€šè¿‡postæ–¹æ³•è¿›è¡Œåˆ†å‘ä¼ é€ã€‚ Subscriberè®¢é˜…è€… ç”¨äºæ¥å—æˆ‘ä»¬çš„äº‹ä»¶ï¼Œæˆ‘ä»¬åœ¨è®¢é˜…äº‹ä»¶ä¸­å¤„ç†æˆ‘ä»¬æ¥æ”¶çš„æ•°æ®ã€‚ Eventäº‹ä»¶ ä»»ä½•ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºäº‹ä»¶ï¼Œæ¯”å¦‚ä»»ä½•å­—ç¬¦ä¸²ï¼Œäº‹ä»¶æ˜¯å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„é€šä¿¡è½½ä½“ã€‚ EventBus ç±»ä¼¼äºä¸­è½¬ç«™ï¼Œå°†æˆ‘ä»¬çš„äº‹ä»¶è¿›è¡Œå¯¹åº”çš„åˆ†å‘å¤„ç†ã€‚ ä¼˜ç‚¹ ç®€åŒ–äº†ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ å°†äº‹ä»¶å‘é€è€…å’Œæ¥æ”¶è€…åˆ†ç¦» åœ¨Activitiesï¼ŒFragmentså’Œbackground threadsä¸­è¡¨ç°è‰¯å¥½ é¿å…å¤æ‚ä¸”å®¹æ˜“å‡ºé”™çš„ä¾èµ–å…³ç³»å’Œç”Ÿå‘½å‘¨æœŸé—®é¢˜ ä½¿ä»£ç æ›´ç®€å• æ€§èƒ½å¼€é”€å° ä»£ç é‡å°ï¼ˆçº¦50kå·¦å³ï¼‰ ç¼ºç‚¹ æ¶ˆæ¯ä¹±é£ï¼Ÿä¸æ–¹ä¾¿ Debugï¼Ÿ ä½¿ç”¨ å®šä¹‰ä¸€ä¸ªäº‹ä»¶ public static class MessageEvent { /* Additional fields if needed */ } å£°æ˜ä¸€ä¸ªç”¨äºå“åº”çš„æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨é€‚å½“çš„ç”Ÿå‘½å‘¨æœŸæ³¨å†Œæˆ–æ³¨é”€ @Subscribe(threadMode = ThreadMode.MAIN) public void onMessageEvent(MessageEvent event) { /* Do something */ } @Override public void onStart() { super.onStart(); // é€šè¿‡ isRegistered æ£€æŸ¥æ˜¯å¦å·²ç»æ³¨å†Œè®¢é˜… if (!EventBus.getDefault().isRegistered(this)) { EventBus.getDefault().register(this); } } @Override public void onStop() { super.onStop(); EventBus.getDefault().unregister(this); } æ ¹æ®ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥é€‰æ‹©åœ¨ä¸åŒçš„å£°æ˜å‘¨æœŸæ³¨å†Œæˆ–ç§»é™¤è®¢é˜… @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); } @Override protected void onDestroy() { super.onDestroy(); } @Override protected void onResume() { super.onResume(); } @Override protected void onPause() { super.onPause(); } å‘å¸ƒäº‹ä»¶ï¼Œäº‹ä»¶å‘å¸ƒåï¼Œè®¢é˜…è€…ä¸­çš„å“åº”æ–¹æ³•å°±ä¼šå—åˆ°äº‹ä»¶ EventBus.getDefault().post(new MessageEvent()); RxJava RxJava åœ¨ GitHub ä¸»é¡µä¸Šçš„è‡ªæˆ‘ä»‹ç»æ˜¯\"a library for composing asynchronous and event-based programs using observable sequences for the Java VM\"ï¼ˆä¸€ä¸ªåœ¨ Java VM ä¸Šä½¿ç”¨å¯è§‚æµ‹çš„åºåˆ—æ¥ç»„æˆå¼‚æ­¥çš„ã€åŸºäºäº‹ä»¶çš„ç¨‹åºçš„åº“ï¼‰ï¼Œæ ¸å¿ƒå¯ä»¥æ€»ç»“ä¸ºä¸¤ä¸ªå­—ï¼šå¼‚æ­¥ã€‚è¯´åˆ°æ ¹ä¸Šï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå®ç°å¼‚æ­¥æ“ä½œçš„åº“ã€‚è€Œå®ƒçš„å¼‚æ­¥å®ç°ï¼Œæ˜¯é€šè¿‡ä¸€ç§æ‰©å±•çš„è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°çš„ã€‚ RxJava çš„å››ä¸ªåŸºæœ¬æ¦‚å¿µ Observable (å¯è§‚å¯Ÿè€…ï¼Œå³è¢«è§‚å¯Ÿè€…) å†³å®šä»€ä¹ˆæ—¶å€™è§¦å‘äº‹ä»¶ä»¥åŠè§¦å‘æ€æ ·çš„äº‹ä»¶ã€‚ Observer (è§‚å¯Ÿè€…) å†³å®šäº‹ä»¶è§¦å‘çš„æ—¶å€™å°†æœ‰æ€æ ·çš„è¡Œä¸ºã€‚ subscribe (è®¢é˜…) åˆ›å»ºäº† Observable å’Œ Observer ä¹‹åï¼Œå†ç”¨ subscribe() æ–¹æ³•å°†å®ƒä»¬è”ç»“èµ·æ¥ï¼Œæ•´æ¡é“¾å­å°±å¯ä»¥å·¥ä½œäº† äº‹ä»¶ ä½¿ç”¨ Observable.from(folders) .flatMap(new Func1>() { @Override public Observable call(File file) { return Observable.from(file.listFiles()); } }) .filter(new Func1() { @Override public Boolean call(File file) { return file.getName().endsWith(\".png\"); } }) .map(new Func1() { @Override public Bitmap call(File file) { return getBitmapFromFile(file); } }) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Action1() { @Override public void call(Bitmap bitmap) { imageCollectorView.addImage(bitmap); } }); é™„ Reactivecocoa ReactiveCocoa å¸¸ç”¨APIæ•´ç† EventBus EventBus ä¸­æ–‡æ–‡æ¡£ ç»™ Android å¼€å‘è€…çš„ RxJava è¯¦è§£ RxJavaçš„ä½¿ç”¨ RxJavaçš„ä½¿ç”¨ï¼ˆä¸€ï¼‰åŸºæœ¬ç”¨æ³• RxJavaçš„ä½¿ç”¨ï¼ˆäºŒï¼‰Action RxJavaçš„ä½¿ç”¨ï¼ˆä¸‰ï¼‰è½¬æ¢â€”â€”mapã€flatMap Title: èŠä¸€èŠ Rac Date: 2018.12.08 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/dynamic-icon.html":{"url":"ios/dynamic-icon.html","title":"åŠ¨æ€æ›´æ¢ App å›¾æ ‡","keywords":"","body":"åŠ¨æ€æ›´æ¢ App å›¾æ ‡ åœ¨iOS 10.3è‹¹æœæ·»åŠ äº†æ›´æ¢å›¾æ ‡çš„åŠŸèƒ½ï¼Œé€šè¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é€‚å½“çš„æ—¶å€™é‡‡å–ç‰¹å®šçš„æ–¹å¼ä¸ºæˆ‘ä»¬çš„Appæ›´æ¢å›¾æ ‡ã€‚ å¬ä¼¼å¾ˆå¥½å¾ˆæ–¹ä¾¿ï¼Œå®åˆ™å¹¶æ²¡æœ‰ã€‚åŸå› å¦‚ä¸‹ï¼š æ›´æ¢çš„å›¾æ ‡ï¼Œæˆ‘ä»¬éœ€è¦é¢„ç½®åœ¨é¡¹ç›®ä¸­ æ›¿æ¢å›¾æ ‡è¿™ä¸ªåŠŸèƒ½ï¼Œä¸€å®šè¦ç»è¿‡ç”¨æˆ·åŒæ„ï¼ˆè™½ç„¶æœ‰è·³è¿‡è¿™ä¸€æ­¥çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨ï¼‰ è™½ç„¶æˆ‘ä»¬åœ¨ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½æ—¶æœ‰ç€ç§ç§é™åˆ¶ï¼Œä½†æ˜¯ç‘•ä¸æ©ç‘œï¼Œä»–åŒæ ·ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·ä½“éªŒå¸¦æ¥äº†æå‡ï¼š é€¢å¹´è¿‡èŠ‚æƒ³æ¢ä¸ªåº”æ™¯çš„Appå›¾æ ‡ï¼Œä¸ç”¨åœ¨è¿›è¡Œå‘ç‰ˆäº† å…¬å¸æœ‰ä¸ªé‡å¤§æ´»åŠ¨éœ€è¦æ›´æ¢å›¾æ ‡ï¼Œä¸ç”¨æ‹…å¿ƒæ´»åŠ¨å‰ä¸èƒ½æˆåŠŸå‘ç‰ˆä¸Šçº¿äº† æ³¨ï¼š æˆ‘ä»¬æ›´æ¢çš„ä¸åªæ˜¯APPçš„å›¾æ ‡ï¼Œè¿˜æœ‰é€šçŸ¥æ çš„ä¸­çš„å›¾æ ‡ï¼Œä»¥åŠè®¾ç½®ç•Œé¢ä¸­çš„å›¾æ ‡ç­‰æ‰€æœ‰ä¸æˆ‘ä»¬ App æœ‰å…³çš„å›¾æ ‡ã€‚ å‡†å¤‡ä½ è¦æ›´æ¢çš„å›¾æ ‡ å°†æˆ‘ä»¬éœ€è¦æ›´æ¢çš„å›¾æ ‡æ”¾åˆ°æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ä¸­ï¼ˆå› ä¸ºæ”¾åˆ°.xcassetsä¸­ä¸ç®¡ç”¨ï¼‰ï¼Œå›¾ç‰‡çš„å‘½åå»ºè®®ä»¥ä¸‹é¢çš„æ–¹å¼å‘½åï¼Œä¾‹å¦‚ï¼šxx20x20@2x.pngï¼Œxx20x20@3x.pngâ€¦è¿™æ ·åœ¨å¡«å†™Info.plistæ—¶ä¹Ÿä¼šçœäº‹å¾ˆå¤šã€‚ PSï¼š å…¶å®å¯¹äºæ›´æ¢çš„å›¾æ ‡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åªæä¾›ä¸€å¼ ï¼Œä½†å‘½åæ—¶ï¼Œæˆ‘ä»¬å°±ä¸è¦å¡«å†™å…·ä½“çš„å°ºå¯¸äº†ï¼Œåªä¿ç•™å›¾ç‰‡åå­—å³å¯ï¼Œä¾‹å¦‚ï¼šxx@2x.pngï¼Œxx@3x.pngï¼Œ ä½†æ˜¯æ•ˆæœä¸Šå¯èƒ½ä¸å¦‚å‡†å¤‡ä¸€æ•´å¥—çš„æ•ˆæœå¥½ã€‚æ¯•ç«ŸæŠŠä¸€å¼ æ¡Œé¢å›¾æ ‡å¤§å°çš„å›¾ç‰‡å¡åˆ°é€šçŸ¥å›¾æ ‡é‚£ä¹ˆå°çš„æ¡†é‡Œï¼Œå›¾ç‰‡ä¼šå‹ç¼©ã€‚ ä¿®æ”¹Info.plist æƒ³è¦å®ç°æ¢å›¾æ ‡çš„åŠŸèƒ½ï¼ŒInfo.plist æ–‡ä»¶çš„ä¿®æ”¹æ˜¯å¾ˆé‡è¦çš„ä¸€æ­¥ã€‚ CFBundleIcons: ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«æ‰€æœ‰AppIconä¿¡æ¯ï¼Œå³ä¸Šå›¾çš„Icon files(iOS 5) CFBundlePrimaryIcon: å¦‚æœå·²ç»åœ¨Assets.xcassetsä¸­è®¾ç½®äº†AppIconï¼Œé‚£ä¹ˆCFBundlePrimaryIconä¸­çš„é…ç½®ä¼šè¢«å¿½ç•¥ï¼ŒAssets.xcassetsçš„AppIconå°†ä¼šè‡ªåŠ¨é…ç½®åˆ°CFBundlePrimaryIconä¸­ã€‚ CFBundleAlternateIcons: ä¸€ä¸ªæ•°ç»„ï¼Œè´Ÿè´£é…ç½®å¯ä¾›æ›¿æ¢çš„iconä¿¡æ¯ UIPrerenderedIcon: æ˜¯å¦å·²ç»é¢„æ¸²æŸ“ï¼Œå¦‚æœä¸è®¾ç½®è¯¥é¡¹æˆ–è€…è®¾ä¸ºNOã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºiconè¿›è¡Œæ¸²æŸ“å¢åŠ å…‰æ³½ å¦‚æœæƒ³è¯¦ç»†äº†è§£CFBundleIcons, CFBundlePrimaryIcon, CFBundleAlternateIconsï¼Œè¯·æŸ¥çœ‹é™„ä»¶2 å¦‚æœiPadéœ€è¦ä¹Ÿéœ€è¦æ›´æ¢å›¾æ ‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨CFBundleIcons~ipadè¿›è¡ŒåŒæ ·çš„è®¾ç½®ã€‚ æ³¨ï¼š ä¸èƒ½æŠŠå›¾ç‰‡æ”¾åœ¨.xcassetsé‡Œé¢ ç¼–å†™ä»£ç  é€šè¿‡æŸ¥çœ‹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‹é¢å‡ ä¸ªå±æ€§å’Œæ–¹æ³•ã€‚ // If false, alternate icons are not supported for the current process. // æ£€æŸ¥æ˜¯å¦æ”¯æŒæ›´æ¢å›¾æ ‡ @property (readonly, nonatomic) BOOL supportsAlternateIcons NS_EXTENSION_UNAVAILABLE(\"Extensions may not have alternate icons\") API_AVAILABLE(ios(10.3), tvos(10.2)); // Pass `nil` to use the primary application icon. The completion handler will be invoked asynchronously on an arbitrary background queue; be sure to dispatch back to the main queue before doing any further UI work. // æ›´æ¢å›¾æ ‡ - (void)setAlternateIconName:(nullable NSString *)alternateIconName completionHandler:(nullable void (^)(NSError *_Nullable error))completionHandler NS_EXTENSION_UNAVAILABLE(\"Extensions may not have alternate icons\") API_AVAILABLE(ios(10.3), tvos(10.2)); // If `nil`, the primary application icon is being used. // å½“å‰å›¾æ ‡çš„åç§° @property (nullable, readonly, nonatomic) NSString *alternateIconName NS_EXTENSION_UNAVAILABLE(\"Extensions may not have alternate icons\") API_AVAILABLE(ios(10.3), tvos(10.2)); ç³»ç»Ÿæä¾›çš„ API ç®€å•æ˜äº†ï¼Œå”¯ä¸€è¦æ³¨æ„çš„æ˜¯ä¸‹é¢è¿™ä¸ªæ–¹æ³•ã€‚ - (void)setAlternateIconName:(nullable NSString *)alternateIconName completionHandler:(nullable void (^)(NSError *_Nullable error))completionHandler æ–¹æ³•ä¸­çš„alternateIconNameå‚æ•°ï¼Œæ˜¯è¦å¡«å†™æ‚¨åœ¨Info.plist ä¸­å¡«å†™çš„åå­—ï¼Œå¦‚å›¾äºŒä¸­æ‰€ç¤ºï¼Œæˆ‘ä»¬åº”å½“åœ¨æ­¤æ–¹æ³•ä¸­å¡«å†™femaleæˆ–è€…male1. ä»£ç ç¤ºä¾‹ ä¸ºäº†æ–¹ä¾¿å¤§å®¶ä½¿ç”¨ï¼Œæˆ‘å°†æ›´æ¢å›¾æ ‡ç›¸å…³çš„ä»£ç å·²ç»å†™å¥½åœ¨ä¸‹é¢ï¼Œå¦‚éœ€è‡ªå–ã€‚ ä¹Ÿå¯ä»¥è®¿é—® DynamicAppIconDemoï¼ŒæŸ¥çœ‹ FSAppIconManager ç±» + (NSString *)getCurrentAppIconName { if (@available(iOS 10.3, *)) { return ([UIApplication sharedApplication].alternateIconName.length == 0) ? @\"\" : [UIApplication sharedApplication].alternateIconName; } else { // Fallback on earlier versions return @\"\"; } } + (BOOL)canChangeAppIcon { if (@available(iOS 10.3, *)) { return [[UIApplication sharedApplication] supportsAlternateIcons]; } else { // Fallback on earlier versions return NO; } } + (void)changeAppIconWithIconName:(NSString *)iconName completionHandler:(void (^)(NSError * _Nullable))completionHandler { if (@available(iOS 10.3, *)) { [[UIApplication sharedApplication] setAlternateIconName:iconName completionHandler:^(NSError * _Nullable error) { if (!error) { completionHandler(nil); } else { completionHandler(error); } }]; } else { // Fallback on earlier versions NSDictionary *userInfo = @{ NSLocalizedDescriptionKey: NSLocalizedString(@\"AppIcon change failed\", nil), NSLocalizedFailureReasonErrorKey: NSLocalizedString(@\"The current system version does not support replacing the AppIcon.\", nil), NSLocalizedRecoverySuggestionErrorKey: NSLocalizedString(@\"\", nil) }; NSError *error = [NSError errorWithDomain:@\"\" code:34001 userInfo:userInfo]; completionHandler(error); } } ä¸‹é¢ç»™å‡ºéƒ¨åˆ† App Icon ç›¸å…³çš„èµ„æ–™ App Icon Attributes Attribute Value Format PNG Color space sRGB or P3 (see Color Management) Layers Flattened with no transparency Resolution Varies. See Image Size and Resolution Shape Square with no rounded corners App Icon Sizes Device or context Icon size iPhone 180px Ã— 180px (60pt Ã— 60pt @3x) 120px Ã— 120px (60pt Ã— 60pt @2x) iPad Pro 167px Ã— 167px (83.5pt Ã— 83.5pt @2x) iPad, iPad mini 152px Ã— 152px (76pt Ã— 76pt @2x) App Store 1024px Ã— 1024px (1024pt Ã— 1024pt @1x) Spotlight, Settings, and Notification Icons Device or context Spotlight icon size Settings icon size Notification icon size iPhone 120px Ã— 120px (40pt Ã— 40pt @3x) 87px Ã— 87px (29pt Ã— 29pt @3x) 60px Ã— 60px (20pt Ã— 20pt @3x) 80px Ã— 80px (40pt Ã— 40pt @2x) 58px Ã— 58px (29pt Ã— 29pt @2x) 40px Ã— 40px (20pt Ã— 20pt @2x) iPad Pro, iPad, iPad mini 80px Ã— 80px (40pt Ã— 40pt @2x) 58px Ã— 58px (29pt Ã— 29pt @2x) 40px Ã— 40px (20pt Ã— 20pt @2x) Notice Donâ€™t add an overlay or border to your Settings icon. iOS automatically adds a 1-pixel stroke to all icons so that they look good on the white background of Settings. é™„ Human Interface Guidelines - App Icon CFBundleIcons,CFBundlePrimaryIcon,CFBundleAlternateIcons Title: åŠ¨æ€æ›´æ¢ App å›¾æ ‡ Date: 2018.07.10 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/sirikit.html":{"url":"ios/sirikit.html","title":"SiriKit äººæœºç•Œé¢æŒ‡å—","keywords":"","body":"SiriKit äººæœºç•Œé¢æŒ‡å— æœ¬æ–‡ä¸ºè¯‘æ–‡ï¼ŒåŸæ–‡è¿æ¥ï¼šHuman Interface Guidelines-Siri ä½ çš„åº”ç”¨å¯ä»¥é€šè¿‡é›†æˆSiriï¼Œä»¥å“åº”ç”¨æˆ·çš„è¯­éŸ³å‘½ä»¤å’Œé—®é¢˜ï¼Œå®ŒæˆæŸäº›ä»»åŠ¡ã€‚Siriå¯¹è¯­è¨€è¿›è¡Œå¤„ç†å¹¶è¿›è¡Œè¯­ä¹‰åˆ†æï¼Œå°†è¿™äº›è¯­éŸ³æŒ‡ä»¤è½¬æ¢æˆåº”ç”¨ç¨‹åºå¯ä»¥å¤„ç†çš„æŒ‡ä»¤ã€‚åº”ç”¨ç¨‹åºå®šä¹‰å®ƒæ”¯æŒçš„ä»»åŠ¡ï¼ŒéªŒè¯æ”¶åˆ°çš„ä¿¡æ¯ï¼Œæä¾›Siriæä¾›ä¿¡æ¯ï¼Œæ‰§è¡Œæ“ä½œã€‚åº”ç”¨ç¨‹åºçš„å“åº”ç”± Siri åé¦ˆï¼Œå¹¶ä¸”å‘ˆç°åœ¨ Siri ç•Œé¢ä¸­ã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œä½ çš„åº”ç”¨ç¨‹åºå¯ä»¥ä¸ºSiriæä¾›ä¸€ä¸ªå®šåˆ¶çš„ç”¨æˆ·ç•Œé¢æ¥å±•ç¤ºã€‚ä¾‹å¦‚ï¼Œå¥èº«åº”ç”¨å¯èƒ½ä¼šæä¾›å®šåˆ¶çš„å¥èº«ä¿¡æ¯ã€‚ äº‰å–ä¸€ç§ä¸éœ€è¦è§¦æ‘¸æˆ–æ˜¯æŸ¥çœ‹å±å¹•çš„è¯­éŸ³æ“ä½œä½“éªŒã€‚ äººä»¬å¯ä»¥é€šè¿‡è€³æœºï¼Œæ±½è½¦æˆ–æ˜¯åœ¨æˆ¿é—´çš„å¦ä¸€å¤´ä¸Siriäº’åŠ¨ã€‚å°½å¯èƒ½åœ°è®©ç”¨æˆ·åœ¨ä¸è§£é”æ‰‹æœºçš„æƒ…å†µä¸‹å®Œæˆä»»åŠ¡ã€‚ ä¸è¦è¯•å›¾æ¨¡ä»¿æˆ–æ“çºµSiriã€‚ ä½ çš„åº”ç”¨ç¨‹åºæ°¸è¿œä¸åº”è¯¥æ¨¡ä»¿Siriï¼Œè¯•å›¾å¤åˆ¶Siriæä¾›çš„åŠŸèƒ½ï¼Œæˆ–è€…æä¾›çœ‹ä¸Šå»æ¥è‡ªè‹¹æœçš„å“åº”ã€‚ é€‚å½“çš„å†…å®¹ã€‚ ç»ä¸è¦åŒ…å«å¯èƒ½å†’çŠ¯æˆ–ä¾®è¾±çš„å†…å®¹ã€‚ ä¸åšå¹¿å‘Šã€‚ ä½ çš„åº”ç”¨ç¨‹åºçš„Siriä½“éªŒä¸åº”è¯¥åŒ…æ‹¬å¹¿å‘Šã€è¥é”€æˆ–åº”ç”¨å†…è´­ä¹°é”€å”®æ¨é”€ã€‚ æ”¯æŒçš„äº¤äº’ æä¾›ä»¥ä¸‹æœåŠ¡çš„iOSåº”ç”¨ç¨‹åºå¯ä»¥ä¸Sirié›†æˆã€‚ æœåŠ¡ æ”¯æŒçš„äº¤äº’ éŸ³è§†é¢‘é€šè¯ æ‹¨æ‰“ç”µè¯æœç´¢é€šè¯è®°å½• CarPlayé›†æˆ æ¿€æ´»å¹¶ä¿å­˜å¸æœºçš„è®¾ç½®ã€‚åˆ‡æ¢æ±½è½¦çš„éŸ³ä¹ã€‚æ”¹å˜æ±½è½¦çš„ç©ºè°ƒè®¾ç½®ã€‚æ”¹å˜æ±½è½¦çš„é™¤éœœè®¾ç½®ã€‚æ”¹å˜æ±½è½¦çš„åº§ä½è®¾ç½®ã€‚åˆ‡æ¢æ±½è½¦çš„æ”¶éŸ³æœºé¢‘é“ã€‚ å¥èº«æ´»åŠ¨ å¼€å§‹ã€æš‚åœã€æ¢å¤ã€ç»“æŸã€å–æ¶ˆè®­ç»ƒã€‚ å¾…åŠçš„äº‹å’Œç¬”è®° åˆ›å»ºå¾…åŠäº‹é¡¹åˆ—è¡¨å’Œé¡¹ç›®ã€‚æœç´¢å¾…åŠäº‹é¡¹åˆ—è¡¨å’Œé¡¹ç›®ã€‚å°†å¾…åŠäº‹é¡¹åˆ—è¡¨é¡¹æ ‡è®°ä¸ºå®Œæˆã€‚æ ¹æ®æ—¥æœŸã€æ—¶é—´å’Œ/æˆ–ä½ç½®åˆ›å»ºæé†’ã€‚åˆ›å»ºç¬”è®°ã€‚æœç´¢ç¬”è®°ã€‚ä¿®æ”¹ç¬”è®°ã€‚ ä¿¡æ¯ å‘é€æ¶ˆæ¯ã€‚è¯»å–æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚æœç´¢ä¿¡æ¯ã€‚ æ”¯ä»˜ å‘èµ·ä»˜æ¬¾ã€‚è¯·æ±‚æ”¯ä»˜ã€‚æ”¯ä»˜è´¦å•ã€‚å¯»æ‰¾è´¦å•ã€‚æœç´¢å¹¶æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½™é¢ã€ç‚¹æ•°å’Œè‹±é‡Œæ•°ã€‚è´¦æˆ·ä¹‹é—´çš„è½¬è´¦ã€‚ ç›¸ç‰‡ç®¡ç† æœç´¢ç…§ç‰‡å¹¶åœ¨åº”ç”¨ä¸­æ˜¾ç¤ºã€‚ å‡ºè¡Œé¢„å®š å‡ºè¡Œé¢„å®šã€‚å‡ºè¡Œä¿¡æ¯æŸ¥è¯¢ã€‚ æ±½è½¦é›†æˆ å¯åŠ¨å±é™©ä¿¡å·ç¯æˆ–æŒ‰å–‡å­ã€‚æ‰“å¼€å…³é—­è½¦é—¨ã€‚æ£€æŸ¥å½“å‰çš„ç‡ƒæ–™æˆ–åŠŸç‡ã€‚ æ˜¾ç¤ºæ¡ç  æ˜¾ç¤ºä¸€ä¸ªæ¡ç ï¼Œæ¯”å¦‚äºŒç»´ç æˆ–æ¡å½¢ç ã€‚ ç»™ä½¿ç”¨è€…çš„åé¦ˆ å¿«é€Ÿå“åº”ï¼Œå‡å°‘äº¤äº’ã€‚ äººä»¬ä½¿ç”¨Siriæ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œå¹¶å¸Œæœ›å¾—åˆ°å¿«é€Ÿå“åº”ã€‚æå‡ºæœ‰æ•ˆçš„ã€æœ‰é‡ç‚¹çš„é€‰æ‹©ï¼Œå‡å°‘é¢å¤–æç¤ºçš„å¯èƒ½æ€§ã€‚ è®©äººä»¬ç›´æ¥äº†è§£å†…å®¹ã€‚ ä»Siriåˆ°åº”ç”¨ç¨‹åºçš„è½¬æ¢åº”è¯¥ç›´æ¥å®Œæˆé¢„æœŸçš„ç›®çš„ã€‚ä¸è¦æ˜¾ç¤ºä¸­é—´çš„å±å¹•æˆ–ä¿¡æ¯æ¥é™ä½ä½“éªŒã€‚ ç›¸å…³çš„å’Œå‡†ç¡®çš„ã€‚ ä½¿ä½ çš„åº”ç”¨ç¨‹åºçš„å“åº”ä¸ç”¨æˆ·å½“å‰çš„è¯·æ±‚å’ŒæœŸæœ›ç›¸å…³ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·è¦æ±‚Siriç”¨ä½ çš„åº”ç”¨å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œå‘é€ä¸€æ¡æ¶ˆæ¯ã€‚ä¸è¦åšä¸åŒçš„åŠ¨ä½œã€‚ å½“è¯·æ±‚ä¸è´¢åŠ¡ç›¸å…³æ—¶ï¼Œé»˜è®¤ä½¿ç”¨æœ€å®‰å…¨ã€èŠ±è´¹æœ€å°‘çš„çš„é€‰é¡¹ã€‚ ç»ä¸è¦æ¬ºéª—ç”¨æˆ·æˆ–æ­ªæ›²ä¿¡æ¯ã€‚å½“è´­ç‰©æ—¶æœ‰å¤šä¸ªä»·æ ¼æ—¶ï¼Œä¸è¦é»˜è®¤ä¸ºæœ€æ˜‚è´µçš„ã€‚å½“ç”¨æˆ·æ­£åœ¨ä»˜æ¬¾æ—¶ï¼Œä¸è¦åœ¨æ²¡æœ‰é€šçŸ¥ä»–ä»¬çš„æƒ…å†µä¸‹æ”¶å–é¢å¤–è´¹ç”¨ã€‚ è®¾è®¡ä¸€ä¸ªè‡ªå®šä¹‰ç•Œé¢ ç¡®ä¿ä½ çš„ç•Œé¢ä¸Siriå¾ˆå¥½åœ°èåˆåœ¨ä¸€èµ·ã€‚ ä½¿ç”¨ä½ çš„åº”ç”¨ç¨‹åºçš„é¢œè‰²ã€å›¾åƒå’Œå…¶ä»–è®¾è®¡å…ƒç´ æ¥ä¼ è¾¾ä½ çš„å“ç‰Œæ˜¯å¾ˆå¥½çš„ï¼Œä½†ä»»ä½•ç•Œé¢å…ƒç´ éƒ½åº”è¯¥è®©äººæ„Ÿè§‰å®ƒä»¬å±äºSiriã€‚é™¤éä½ çš„åº”ç”¨éœ€è¦ä¸€ä¸ªå®Œå…¨å®šåˆ¶çš„ç•Œé¢ï¼Œå¦åˆ™è¯·å°†ä½ çš„å†…å®¹é›†æˆåˆ°Siriæä¾›çš„é»˜è®¤ç•Œé¢ä¸­ã€‚ æä¾›è¶³å¤Ÿçš„é—´è·å’Œè¾¹è·ã€‚ é¿å…å°†å†…å®¹æ‰©å±•åˆ°ç•Œé¢çš„è¾¹ç¼˜ï¼Œé™¤éå®ƒçš„å†…å®¹çœ‹èµ·æ¥åƒåœ°å›¾ä¸€æ ·è‡ªç„¶åœ°æµå‡ºå±å¹•ã€‚é€šå¸¸ï¼Œåœ¨ç•Œé¢çš„æ¯æ¡è¾¹å’Œå†…å®¹ä¹‹é—´æä¾›è‡³å°‘å‡ ä¸ªåƒç´ çš„ç©ºç™½ã€‚ä½¿ç”¨ç•Œé¢é¡¶éƒ¨çš„appå›¾æ ‡è¿›è¡Œå¯¹é½æŒ‡å¯¼ã€‚å½“ä¸æ­¤å›¾æ ‡çš„ä¸­å¿ƒå¯¹é½æ—¶ï¼Œå†…å®¹å¾€å¾€ä¼šæ˜¾ç¤ºå¾—å¾ˆå¥½ã€‚ æœ€å°åŒ–ç•Œé¢çš„é«˜åº¦ã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨çš„ç•Œé¢ä¸åº”è¯¥é«˜äºå±å¹•çš„é«˜åº¦ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥åœ¨ä¸æ»šåŠ¨çš„æƒ…å†µä¸‹çœ‹åˆ°æ‰€æœ‰å†…å®¹ã€‚ ä¸è¦åˆ›å»ºä¸€ä¸ªå…·æœ‰äº¤äº’æ€§çš„ç•Œé¢ã€‚ ä½ çš„ç•Œé¢ä¸èƒ½å¯¹æ‰‹åŠ¿åšå‡ºååº”â€”â€”é™¤äº†ä¼šæ‰“å¼€ä½ çš„åº”ç”¨ç¨‹åºçš„ç‚¹å‡»â€”â€”æˆ–è€…åœ¨Siriä¸­æ˜¾ç¤ºå…¶ä»–äº‹ä»¶ï¼Œæ‰€ä»¥è¦é¿å…æ˜¾ç¤ºäº’åŠ¨çš„å›¾åƒæˆ–å½¢çŠ¶ã€‚ ä¸è¦åœ¨ä½ çš„ç•Œé¢ä¸­åŒ…å«ä½ çš„åº”ç”¨ç¨‹åºåç§°æˆ–å›¾æ ‡ã€‚ ç³»ç»Ÿè‡ªåŠ¨æ˜¾ç¤ºè¿™äº›ä¿¡æ¯ã€‚ æé«˜å‡†ç¡®æ€§ å¦‚æœå¯ä»¥çš„è¯ï¼Œå®šä¹‰è‡ªå®šä¹‰è¯æ±‡è¡¨ã€‚ é€šè¿‡å®šä¹‰äººä»¬å¯èƒ½åœ¨è¯·æ±‚ä¸­å®é™…ä½¿ç”¨çš„ç‰¹å®šæœ¯è¯­ï¼Œå¦‚è´¦æˆ·åã€è”ç³»äººå§“åã€ç…§ç‰‡æ ‡ç­¾ã€ç›¸å†Œåç§°ã€ä¹˜è½¦é€‰é¡¹å’Œå¥èº«åç§°ï¼Œå¸®åŠ©Siriäº†è§£ä½ çš„åº”ç”¨ç¨‹åºæ‰§è¡Œçš„æ›´å¤šæ“ä½œã€‚è¿™äº›æœ¯è¯­åº”è¯¥æ˜¯éé€šç”¨çš„ï¼Œå¹¶ä¸”æ˜¯ä½ çš„åº”ç”¨ç¨‹åºç‹¬æœ‰çš„ã€‚ä¸è¦åŒ…æ‹¬å…¶ä»–åº”ç”¨ç¨‹åºåç§°ã€æ˜æ˜¾ä¸å…¶ä»–åº”ç”¨ç¨‹åºç›¸å…³çš„æœ¯è¯­ã€ä¸æ°å½“çš„è¯­è¨€æˆ–ä¿ç•™çš„çŸ­è¯­ï¼Œæ¯”å¦‚â€œå˜¿ï¼ŒSiriâ€ã€‚è¯·æ³¨æ„ï¼Œä½ å®šä¹‰çš„ä»»ä½•æœ¯è¯­éƒ½æ˜¯Siriç”¨æ¥å¸®åŠ©è§£å†³è¯·æ±‚çš„ï¼Œä½†ä¸èƒ½ä¿è¯è¢«è¯†åˆ«ã€‚ è€ƒè™‘å®šä¹‰å¤‡ç”¨çš„åº”ç”¨ç¨‹åºåç§°ã€‚ å¦‚æœäººä»¬å¯¹ä½ çš„åº”ç”¨ç¨‹åºåå­—çš„å‘éŸ³æœ‰æ‰€ä¸åŒï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªå¯ä¾›é€‰æ‹©çš„åå­—åˆ—è¡¨ï¼Œä»¥å¢åŠ ä½ ç”¨Siriå®šä½åº”ç”¨ç¨‹åºæ—¶çš„çµæ´»æ€§ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªUnicornChatåº”ç”¨ç¨‹åºå¯èƒ½ä¼šå°†æœ¯è¯­Unicornå®šä¹‰ä¸ºå¦ä¸€ä¸ªåº”ç”¨ç¨‹åºåç§°ã€‚ä¸è¦å°†å…¶ä»–åº”ç”¨ç¨‹åºåç§°ä½œä¸ºä½ åº”ç”¨ç¨‹åºçš„æ›¿ä»£åç§°ã€‚ æä¾›è¯·æ±‚ç¤ºä¾‹ã€‚ æä¾›ä¸€äº›ç”¨äºå±•ç¤ºåœ¨ Siri å¸®åŠ©ç•Œé¢ä¸­çš„äº‹ä¾‹çŸ­è¯­ã€‚ç”¨è¿™äº›çŸ­è¯­æ¥æ•™äººä»¬ç”¨ä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨Siriçš„æœ€ç®€å•ã€æœ€æœ‰æ•ˆçš„æ–¹æ³•ã€‚ é™„ SiriKit Human Interface Guidelines-Siri Title: SiriKit äººæœºç•Œé¢æŒ‡å— Date: 2018.07.03 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/gcd.html":{"url":"ios/gcd.html","title":"GCD åŒæ­¥å¼‚æ­¥ä¸ä¸²è¡Œå¹¶è¡Œ","keywords":"","body":"GCD åŒæ­¥å¼‚æ­¥ä¸ä¸²è¡Œå¹¶è¡Œ ä¸è®ºæ˜¯åŒæ­¥å¼‚æ­¥ï¼Œè¿˜æ˜¯ä¸²è¡Œå¹¶è¡Œï¼Œå•ç‹¬è®²ä¸€ä¸ªï¼Œæ„ä¹‰éƒ½ä¸å¤§ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œåªæœ‰å°†ä»–ä»¬è¿›è¡Œå„å¼å„æ ·çš„ç»„åˆï¼Œæ‰èƒ½æ›´å¥½åœ°å®Œæˆæˆ‘ä»¬çš„éœ€æ±‚ï¼Œæœ¬ç¯‡æ–‡ç« ä¸­å°±ä¼šå¯¹ä»–ä»¬ä¹‹é—´çš„ç»„åˆè¿›è¡Œä¸¾ä¾‹~ åè¯è§£é‡Š åœ¨å­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼š çº¿ç¨‹ï¼š ç¨‹åºæ‰§è¡Œä»»åŠ¡çš„æœ€å°è°ƒåº¦å•ä½ ä»»åŠ¡ï¼š æˆ‘ä»¬è¦å®Œæˆçš„å·¥ä½œï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªblock é˜Ÿåˆ—ï¼š ç”¨äºä¿å­˜â€œä»»åŠ¡â€çš„æ•°ç»„ åŒæ­¥æ‰§è¡Œï¼š ä¸èƒ½å¼€å¯æ–°çº¿ç¨‹ï¼Œä»»åŠ¡åˆ›å»ºåï¼Œå¿…é¡»æ‰§è¡Œå®Œæ‰å¯ä»¥ç»§ç»­åé¢çš„æ“ä½œ å¼‚æ­¥æ‰§è¡Œï¼š å¯ä»¥å¼€å¯æ–°çº¿ç¨‹ï¼Œä»»åŠ¡åˆ›å»ºåï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œåé¢çš„æ“ä½œï¼Œä¸å¿…ç­‰å¾…ä»»åŠ¡å®Œæˆ ä¸²è¡Œé˜Ÿåˆ—ï¼š åº•å±‚åªç»´æŠ¤ä¸€ä¸ªçº¿ç¨‹ï¼Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡åªèƒ½ä¸²è¡ŒæŒ‰é¡ºåºæ‰§è¡Œ å¹¶è¡Œé˜Ÿåˆ—ï¼š åº•å±‚ä½¿ç”¨çº¿ç¨‹æ± ç»´æŠ¤å¤šä¸ªçº¿ç¨‹ï¼Œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å¯ä»¥å¹¶å‘æ‰§è¡Œ å®è·µå‡ºçœŸçŸ¥ å½“åŒæ­¥å¼‚æ­¥é‡ä¸Šä¸²è¡Œå¹¶è¡Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿè®©æˆ‘ä»¬æ‹­ç›®ä»¥å¾…ï½ åŒæ­¥æ‰§è¡Œ + ä¸²è¡Œé˜Ÿåˆ— ä¸ä¼šå¼€å¯æ–°çº¿ç¨‹ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œã€‚å› ä¸ºä¸²è¡Œé˜Ÿåˆ—çš„åŸå› ï¼Œä»»åŠ¡ä¼šæŒ‰é¡ºåºæ‰§è¡Œã€‚ dispatch_queue_t queue = dispatch_queue_create(\"blog.zhangpeng.site\", DISPATCH_QUEUE_SERIAL); NSLog(@\"---start---%@\", [NSThread currentThread]); dispatch_sync(queue, ^{ sleep(5); NSLog(@\"ä»»åŠ¡1---%@\", [NSThread currentThread]); }); dispatch_sync(queue, ^{ sleep(3); NSLog(@\"ä»»åŠ¡2---%@\", [NSThread currentThread]); }); dispatch_sync(queue, ^{ sleep(1); NSLog(@\"ä»»åŠ¡3---%@\", [NSThread currentThread]); }); NSLog(@\"---end---%@\", [NSThread currentThread]); /** æ§åˆ¶å°è¾“å‡ºï¼š ---start---{number = 1, name = main} ä»»åŠ¡1---{number = 1, name = main} ä»»åŠ¡2---{number = 1, name = main} ä»»åŠ¡3---{number = 1, name = main} ---end---{number = 1, name = main} */ åŒæ­¥æ‰§è¡Œ + å¹¶è¡Œé˜Ÿåˆ— è™½ç„¶æ˜¯å¹¶è¡Œé˜Ÿåˆ—ï¼Œä½†æ˜¯å› ä¸ºæ˜¯åŒæ­¥æ‰§è¡Œï¼Œæ‰€ä»¥ä¸ä¼šå¼€å¯æ–°çº¿ç¨‹ã€‚å› ä¸ºæ²¡æœ‰å¼€å¯æ–°çº¿ç¨‹ï¼Œæ‰€ä»¥æ‰€æœ‰ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œæ‰€ä»¥å³ä½¿æ˜¯å¹¶è¡Œé˜Ÿåˆ—ï¼Œä»»åŠ¡ä¹Ÿéœ€è¦æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚ dispatch_queue_t queue = dispatch_queue_create(\"blog.zhangpeng.site\", DISPATCH_QUEUE_CONCURRENT); NSLog(@\"---start---%@\", [NSThread currentThread]); //ä½¿ç”¨åŒæ­¥å‡½æ•°å°è£…ä¸‰ä¸ªä»»åŠ¡ dispatch_sync(queue, ^{ sleep(5); NSLog(@\"ä»»åŠ¡1---%@\", [NSThread currentThread]); }); dispatch_sync(queue, ^{ sleep(3); NSLog(@\"ä»»åŠ¡2---%@\", [NSThread currentThread]); }); dispatch_sync(queue, ^{ sleep(1); NSLog(@\"ä»»åŠ¡3---%@\", [NSThread currentThread]); }); NSLog(@\"---end---%@\", [NSThread currentThread]); /** ---start---{number = 1, name = main} ä»»åŠ¡1---{number = 1, name = main} ä»»åŠ¡2---{number = 1, name = main} ä»»åŠ¡3---{number = 1, name = main} ---end---{number = 1, name = main} */ å¼‚æ­¥æ‰§è¡Œ + ä¸²è¡Œé˜Ÿåˆ— å› ä¸ºæ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œæ‰€ä»¥å¼€å¯äº†æ–°çš„çº¿ç¨‹ï¼Œå› ä¸ºæ˜¯ä¸²è¡Œé˜Ÿåˆ—ï¼Œæ‰€ä»¥ä»»åŠ¡åœ¨æ–°çš„çº¿ç¨‹ä¸­æŒ‰é¡ºåºæ‰§è¡Œã€‚ dispatch_queue_t queue = dispatch_queue_create(\"blog.zhangpeng.site\", DISPATCH_QUEUE_SERIAL); NSLog(@\"---start---%@\", [NSThread currentThread]); dispatch_async(queue, ^{ sleep(5); NSLog(@\"ä»»åŠ¡1---%@\", [NSThread currentThread]); }); dispatch_async(queue, ^{ sleep(3); NSLog(@\"ä»»åŠ¡2---%@\", [NSThread currentThread]); }); dispatch_async(queue, ^{ sleep(1); NSLog(@\"ä»»åŠ¡3---%@\", [NSThread currentThread]); }); NSLog(@\"---end---%@\", [NSThread currentThread]); /** ---start---{number = 1, name = main} ---end---{number = 1, name = main} ä»»åŠ¡1---{number = 3, name = (null)} ä»»åŠ¡2---{number = 3, name = (null)} ä»»åŠ¡3---{number = 3, name = (null)} */ å¼‚æ­¥æ‰§è¡Œ + å¹¶è¡Œé˜Ÿåˆ— å› ä¸ºæ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œæ‰€ä»¥å¼€å¯äº†æ–°çš„çº¿ç¨‹ï¼Œå› ä¸ºæ˜¯å¹¶è¡Œé˜Ÿåˆ—ï¼Œæ‰€ä»¥ä»»åŠ¡å¯ä»¥ä¸æŒ‰é¡ºåºæ‰§è¡Œã€‚å› æ­¤åœ¨è¿™ç§ç»„åˆæ¨¡å¼ä¸‹ï¼Œå¯ä»¥å¼€å¯å¤šæ¡çº¿ç¨‹ã€‚ dispatch_queue_t queue = dispatch_queue_create(\"blog.zhangpeng.site\", DISPATCH_QUEUE_CONCURRENT); NSLog(@\"---start---%@\", [NSThread currentThread]); dispatch_async(queue, ^{ sleep(5); NSLog(@\"ä»»åŠ¡1---%@\", [NSThread currentThread]); }); dispatch_async(queue, ^{ sleep(3); NSLog(@\"ä»»åŠ¡2---%@\", [NSThread currentThread]); }); dispatch_async(queue, ^{ sleep(1); NSLog(@\"ä»»åŠ¡3---%@\", [NSThread currentThread]); }); NSLog(@\"---end---%@\", [NSThread currentThread]); /** ---start---{number = 1, name = main} ---end---{number = 1, name = main} ä»»åŠ¡3---{number = 3, name = (null)} ä»»åŠ¡2---{number = 4, name = (null)} ä»»åŠ¡1---{number = 5, name = (null)} */ åŒæ­¥æ‰§è¡Œ + ä¸»é˜Ÿåˆ— æ­»é”ã€‚ä»»åŠ¡1éœ€è¦ç­‰å¾…ä¸»é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•æ‰å¯ä»¥æ‰§è¡Œï¼Œä½†æ˜¯å› ä¸ºæ˜¯åŒæ­¥æ‰§è¡Œï¼Œè¦æ‰§è¡Œå®Œä»»åŠ¡1æ‰èƒ½æ‰§è¡Œä¸»é˜Ÿåˆ—ä¸­çš„å…¶ä»–ä»»åŠ¡ï¼Œæœ€åäº’ç›¸ç­‰å¾…ï¼Œé€ æˆäº†æ­»é”ã€‚è¿™è¾¹å…¶å®ä¸ä»»åŠ¡2å’Œä»»åŠ¡3å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚QAQï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå…¶ä»–äººçš„åšå®¢éƒ½è¯´å’Œä»»åŠ¡2å’Œ3æœ‰å…³ã€‚ dispatch_queue_t queue = dispatch_get_main_queue(); NSLog(@\"---start---%@\", [NSThread currentThread]); dispatch_sync(queue, ^{ sleep(5); NSLog(@\"ä»»åŠ¡1---%@\", [NSThread currentThread]); }); dispatch_sync(queue, ^{ sleep(3); NSLog(@\"ä»»åŠ¡2---%@\", [NSThread currentThread]); }); dispatch_sync(queue, ^{ sleep(1); NSLog(@\"ä»»åŠ¡3---%@\", [NSThread currentThread]); }); NSLog(@\"---end---%@\", [NSThread currentThread]); /** ---start---{number = 1, name = main} */ å¼‚æ­¥æ‰§è¡Œ + ä¸»é˜Ÿåˆ— è™½ç„¶æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œä½†æ˜¯ä¸»é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå› æ­¤æ²¡æœ‰å¼€å¯æ–°çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼Œä»»åŠ¡æŒ‰é¡ºåºæ‰§è¡Œã€‚ dispatch_queue_t queue = dispatch_get_main_queue(); NSLog(@\"---start---%@\", [NSThread currentThread]); dispatch_async(queue, ^{ sleep(5); NSLog(@\"ä»»åŠ¡1---%@\", [NSThread currentThread]); }); dispatch_async(queue, ^{ sleep(3); NSLog(@\"ä»»åŠ¡2---%@\", [NSThread currentThread]); }); dispatch_async(queue, ^{ sleep(1); NSLog(@\"ä»»åŠ¡3---%@\", [NSThread currentThread]); }); NSLog(@\"---end---%@\", [NSThread currentThread]); /** ---start---{number = 1, name = main} ---end---{number = 1, name = main} ä»»åŠ¡1---{number = 1, name = main} ä»»åŠ¡2---{number = 1, name = main} ä»»åŠ¡3---{number = 1, name = main} */ ç»“ ä¸Šé¢ç®€å•çš„å¯¹åŒæ­¥å¼‚æ­¥æ‰§è¡Œä¸ä¸²è¡Œå¹¶è¡Œé˜Ÿåˆ—çš„å‡ ç§ç»„åˆæ–¹å¼è¿›è¡Œäº†ä¸¾ä¾‹ï¼Œè€Œæˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œä¸­è¦æ¯”ä¸Šè¿°ä¸¾ä¾‹å¤æ‚çš„å¤šï¼Œä½†æ˜¯æœ¬è´¨è¿˜æ˜¯ä¸å˜çš„ï¼Œæˆ‘ä»¬ä¸€å®šå¯ä»¥æ‰¾åˆ°ä¸€ç§åˆç†çš„ç»„åˆæ–¹å¼è§£å†³æˆ‘ä»¬é‡ä¸Šçš„é—®é¢˜çš„ã€‚ Title: GCD åŒæ­¥å¼‚æ­¥ä¸ä¸²è¡Œå¹¶è¡Œ Date: 2018.05.29 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/cocoapods.html":{"url":"ios/cocoapods.html","title":"CocoaPods å®‰è£…åŠé”™è¯¯å¤„ç†","keywords":"","body":"CocoaPods å®‰è£…åŠé”™è¯¯å¤„ç† å®‰è£… Ruby ç¯å¢ƒ å®‰è£… CocoaPods éœ€è¦ ruby ç¯å¢ƒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆå®‰è£… ruby ç¯å¢ƒã€‚Mac ä¸€èˆ¬éƒ½å·²ç»è£…å¥½äº† ruby ç¯å¢ƒã€‚å¦‚æœä¸ç¡®å®šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ ruby -v æ£€æŸ¥æ˜¯å¦æ‹¥æœ‰ ruby ç¯å¢ƒã€‚ $ ruby -v ruby 2.3.3p222 (2016-11-21 revision 56859) [universal.x86_64-darwin17] ä¸Šé¢æ˜¾ç¤ºçš„å†…å®¹ï¼Œè¡¨ç¤ºç€æˆ‘ä»¬å·²ç»å®‰è£…äº†rubyã€‚ å®‰è£… cocoapods å®‰è£… cocoapods ç®€å•åªéœ€è¦æ‰§è¡Œä¸‹é¢çš„ä»£ç å³å¯ã€‚ // å®‰è£… cocoapods $ sudo gem install cocoapods æé«˜è®¿é—®é€Ÿåº¦ ç»å¤§å¤šæ•°äººåœ¨æ‰§è¡Œå®‰è£… cocoapods åï¼Œä¼šå‘ç°åŠå¤©æ²¡æœ‰ååº”ï¼Œæ²¡é”™ï¼Œä½ çŒœçš„æ²¡é”™ï¼Œæ­£æ˜¯å› ä¸ºé‚£å µè‡³é«˜æ— ä¸Šçš„å¢™~ å› æ­¤æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¢ä¸ªrubyæºï¼š // ç§»é™¤ç°æœ‰sources $ gem sources --remove https://rubygems.org/ // æ·»åŠ ruby-china sources $ gem sources --add https://gems.ruby-china.com/ // æ£€æŸ¥rubyæºæ˜¯å¦æ›´æ¢æˆåŠŸ $ gem sources -l *** CURRENT SOURCES *** https://gems.ruby-china.com/ å½“ç»ˆç«¯æ˜¾ç¤ºå‡ºä¸Šé¢çš„ https://gems.ruby-china.com/ï¼Œä»£è¡¨æˆ‘ä»¬æ“ä½œæˆåŠŸã€‚ å¸¸è§å‘ç‚¹ ä¾èµ–çš„ Ruby ç¯å¢ƒç‰ˆæœ¬è¿‡ä½ ERROR:While executing gem ... (Gem::DependencyError) Unable to resolve dependencies: cocoapods requires cocoapods-core (= 1.2.0), cocoapods-downloader (= 1.1.3), cocoapods-trunk (= 1.1.2), molinillo (~> 0.5.5), xcodeproj (= 1.4.1); activesupport requires thread_safe (>= 0.3.4, ~> 0.3); tzinfo requires thread_safe (~> 0.1) æ›´æ–° Ruby ç¯å¢ƒå³å¯ // æ›´æ–° gemç‰ˆæœ¬ $ sudo gem update --system å½“ä½ çœ‹åˆ°RubyGems system software updatedï¼Œæ„å‘³ç€ç¯å¢ƒæˆåŠŸæ›´æ–° æ²¡æœ‰æƒé™å®‰è£… cocoapods è‹¹æœç³»ç»Ÿå‡çº§OS X EL Capitanåï¼Œä½¿ç”¨sudo gem install cocoapodså®‰è£…æ—¶ï¼Œä¼šå‘ç”Ÿä¸‹é¢é”™è¯¯ ERROR:While executing gem ... (Errno::EPERM) Operation not permitted - /usr/bin/xcodeproj ä½¿ç”¨ä¸‹é¢çš„ä»£ç è¿›è¡Œå®‰è£… sudo gem install -n /usr/local/bin cocoapods pod setup è€—æ—¶å¤ªä¹…ï¼Œä¸çŸ¥é“è¿›åº¦ ç•Œé¢é•¿æ—¶é—´å¡åœ¨Creating search index for spec repo 'master'..è¿‡ç¨‹ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢ä»£ç æŸ¥çœ‹è¿›åº¦ï¼š du-sh ~/.cocoaPods æœç´¢ pod åº“å¤±è´¥ æœç´¢ç±»åº“å¤±è´¥æ—¶å¯ä»¥å°è¯•é€šè¿‡ä¸‹é¢çš„å‘½ä»¤åˆ é™¤æœ¬åœ°ç¼“å­˜ rm ~/Library/Caches/CocoaPods/search_index.json Title: CocoaPods å®‰è£…åŠé”™è¯¯å¤„ç† Date: 2018.05.24 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/message-forwarding.html":{"url":"ios/message-forwarding.html","title":"iOS æ¶ˆæ¯è½¬å‘æœºåˆ¶","keywords":"","body":"iOS æ¶ˆæ¯è½¬å‘æœºåˆ¶ å½“å¯¹è±¡æ¥æ”¶åˆ°æ— æ³•è§£è¯»çš„æ¶ˆæ¯ï¼ˆunrecognized selector sent to instance 0x87ï¼‰ï¼Œå°±ä¼šå¯åŠ¨æ¶ˆæ¯è½¬å‘æœºåˆ¶ï¼Œç”±ç¨‹åºå‘˜æŒ‡å®šå¤„ç†æ–¹æ³•ã€‚ æ¶ˆæ¯è½¬å‘ä¸¤å¤§é˜¶æ®µ åŠ¨æ€æ–¹æ³•è§£ææ£€æŸ¥å½“å‰æ¥æ”¶è€…èƒ½å¦åŠ¨æ€æ·»åŠ æ–¹æ³•ï¼Œå¤„ç†è¿™ä¸ªunrecognized selectorã€‚ å®Œæ•´çš„æ¶ˆæ¯è½¬å‘ç¬¬ä¸€é˜¶æ®µæ‰§è¡Œå®Œæ¯•åï¼Œå¦‚æ¥æ”¶è€…ä¸èƒ½ä»¥åŠ¨æ€æ–°å¢æ–¹æ³•å¤„ç†è¿™ä¸ªunrecognized selectorï¼Œæ¥ä¸‹æ¥ï¼Œä¼šåˆ†ä¸¤ç§æƒ…å†µï¼š æœ‰å¤‡æ´æ¥æ”¶è€…ï¼ˆreplacement receiverï¼‰åœ¨è¿è¡ŒæœŸå°†æ¶ˆæ¯è½¬ç»™å¤‡æ´æ¥æ”¶è€…ï¼Œç”±å¤‡æ´æ¥æ”¶è€…å®Œæˆæ¶ˆæ¯çš„å¤„ç†ã€‚ æ— å¤‡æ´æ¥æ”¶è€…ï¼ˆreplacement receiverï¼‰ å¯åŠ¨ä¸€å¥—â€œå®Œæ•´çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶â€ï¼Œå°†æ¶ˆæ¯å°è£…åˆ°NSInvocationå¯¹è±¡ä¸­ï¼Œäº¤ç»™æ¥æ”¶è€…å¤„ç†ã€‚ åŠ¨æ€æ–¹æ³•è§£æ å¦‚æœæ²¡æœ‰æ‰¾åˆ°éœ€è¦æ‰§è¡Œçš„æ–¹æ³•ï¼Œä¼šæ ¹æ®æ–¹æ³•çš„ç±»å‹ï¼Œæ‰§è¡Œä¸åŒçš„å¤„ç†æ–¹æ³•ã€‚ å¤„ç†æ— æ³•è°ƒç”¨çš„ç±»æ–¹æ³• + (BOOL)resolveClassMethod:(SEL)sel; å¤„ç†æ— æ³•è°ƒç”¨çš„å®ä¾‹æ–¹æ³• + (BOOL)resolveInstanceMethod:(SEL)sel; ä¸€èˆ¬æ˜¯æå‰å†™å¥½ç›¸å…³çš„å®ç°ä»£ç ï¼Œé€šè¿‡ Runtime åœ¨æ­¤å¤„æ’å…¥åˆ°ç±»ä¸­ã€‚ e.g. /** æ²¡æœ‰æ‰¾åˆ°SELçš„å®ç°æ—¶ä¼šæ‰§è¡Œä¸‹æ–¹çš„æ–¹æ³• @param sel å½“å‰å¯¹è±¡è°ƒç”¨å¹¶ä¸”æ‰¾ä¸åˆ°IMLçš„SEL @return æ˜¯å¦å¯ä»¥å¤„ç†è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶è¿”å›yes */ + (BOOL)resolveInstanceMethod:(SEL)sel { // å½“è¿”å›YESæ—¶ // åœ¨è¿™é‡Œé€šè¿‡Runtimeåœ¨å°†å·²ç»å†™å¥½å®ç°çš„ä»£ç æ’å…¥åˆ°ç±»ä¸­ã€‚ // ... return YES; // å½“è¿”å›NOæ—¶ // ä¼šæ¥ç€æ‰§è¡ŒforwordingTargetForSelector:æ–¹æ³• // return NO; } æ¶ˆæ¯è½¬å‘ æœ‰å¤‡æ´æ¥æ”¶è€… åœ¨æ–¹æ³• - (id)forwardingTargetForSelector:(SEL)aSelector ä¸­è¿”å›å¯ä»¥å¤„ç†è¯¥æ¶ˆæ¯çš„å¯¹è±¡ï¼Œäº¤ç”±è¯¥å¯¹è±¡å»å¤„ç†è¿™ä¸ªæ¶ˆæ¯ã€‚å¦‚æœæ­¤å¤„è¿”å›nilï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å…¶ä»–å¯¹è±¡å¯ä»¥å¤„ç†è¿™ä¸ªæ¶ˆæ¯ï¼Œç„¶åé€šè¿‡å®Œæ•´çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶æ¥å¤„ç†ã€‚ /** å°†å½“å‰å¯¹è±¡ä¸å­˜åœ¨çš„SELä¼ ç»™å…¶ä»–å­˜åœ¨è¯¥SELçš„å¯¹è±¡ @param aSelector å½“å‰ç±»ä¸­ä¸å­˜åœ¨çš„SEL @return å­˜åœ¨è¯¥SELçš„å¯¹è±¡ */ - (id)forwardingTargetForSelector:(SEL)aSelector { // ä¸ä¼ é€’ç»™å…¶ä»–å¯¹è±¡ // å°†ä¼šæ‰§è¡Œ- (void)forwardInvocation:(NSInvocation *)anInvocation; return nil; // ä¼ é€’ç»™ä¸€ä¸ªå…¶ä»–å¯¹è±¡ï¼Œå¤„ç†è¿™ä¸ªæ–¹æ³•ã€‚ // å¯ä»¥åšç›¸åº”çš„é”™è¯¯å¤„ç†ç­‰ // è®©OtherClassä¸­ç›¸åº”çš„SELå»æ‰§è¡Œè¯¥æ–¹æ³• // return [[OtherClass alloc] init]; } æ— å¤‡æ´æ¥æ”¶è€… å¦‚æœæ¥æ”¶è€…ä¸èƒ½å¤„ç†æ¶ˆæ¯ï¼Œå¹¶ä¸”æ²¡æœ‰å¤‡æ´æ¥æ”¶è€…ï¼Œæœ€ç»ˆåªèƒ½é‡‡å–ä¸€ä¸ªå®Œæ•´çš„æ¶ˆæ¯è½¬å‘æ¥å¤„ç†æ¶ˆæ¯ã€‚ é€šè¿‡NSInvocationåŒ…è£…æ–¹æ³•çš„ç›®æ ‡ã€å‚æ•°ç­‰ï¼Œç„¶åé€šè¿‡ - (void)forwardInvocation:(NSInvocation *)invocation å°†æ¶ˆæ¯æŒ‡æ´¾ç»™ç›®æ ‡å¯¹è±¡ã€‚ - (void)forwardInvocation:(NSInvocation *)invocation { SecondClass * forwardClass = [SecondClass new]; SEL sel = invocation.selector; if ([forwardClass respondsToSelector:sel]) { [invocation invokeWithTarget:forwardClass]; } else { [self doesNotRecognizeSelector:sel]; } } Title: iOS æ¶ˆæ¯è½¬å‘æœºåˆ¶ Date: 2018.04.02 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/nsmethodsignature-nsinvocation.html":{"url":"ios/nsmethodsignature-nsinvocation.html","title":"NSMethodSignature å’Œ NSInvocation","keywords":"","body":"åˆ©ç”¨ NSMethodSignature å’Œ NSInvocation å®ç°æ–¹æ³•è°ƒç”¨ å¸¸è§çš„è°ƒç”¨æ–¹æ³•çš„ä¸¤ç§æ–¹å¼ performSelector: withObject: ä¼˜ç‚¹ï¼š å¯ä»¥è°ƒç”¨è¿è¡Œæ—¶æ·»åŠ æ–¹æ³• ç¼ºç‚¹ï¼š åœ¨ç¼–è¯‘é˜¶æ®µä¸ä¼šåšæ ¡éªŒã€‚åªæœ‰åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œæ‰ä¼šçŸ¥é“æ˜¯å¦å­˜åœ¨å³å°†è°ƒç”¨çš„æ–¹æ³•ï¼Œå¦‚æœæ–¹æ³•ä¸å­˜åœ¨ï¼Œç¨‹åºä¼šå´©æºƒã€‚å› æ­¤ä¸ºäº†ä¿è¯ç¨‹åºçš„å¥å£®ï¼Œåœ¨è°ƒç”¨æ–¹æ³•å‰åº”è¯¥ä½¿ç”¨ - (BOOL)respondsToSelector:(SEL)aSelectorï¼Œæ£€æŸ¥æ–¹æ³•æ˜¯å¦å®ç°ã€‚ ç›´æ¥è°ƒç”¨æ–¹æ³•ä¼˜ç‚¹ï¼š åœ¨ç¼–è¯‘é˜¶æ®µå°±ä¼šæ•™ç ”æ–¹æ³•æ˜¯å¦å­˜åœ¨ï¼ŒXcodeä¼šæœ‰ç›¸åº”æç¤ºç¼ºç‚¹ï¼š å±€é™æ€§å¤§ï¼Œå¦‚æœæƒ³è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œå¿…é¡»å…ˆå®ç°è¿™ä¸ªæ–¹æ³•ï¼Œä¸å¦‚ performSelector: withObject: çµæ´»ã€‚ å‡çº§ç‰ˆ ä½¿ç”¨ NSMethodSignature å’Œ NSInvocation ç»„åˆå®ç°æ–¹æ³•çš„è°ƒç”¨ã€‚ NSMethodSignature é€šè¿‡ NSMethodSignature å¯ä»¥è·å–æ–¹æ³•çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ã€‚å¸¸ç”¨æ–¹æ³•æœ‰ï¼š //ä»å®ä¾‹ä¸­è·å–å®ä¾‹æ–¹æ³•ç­¾åï¼Œæˆ–è€…ä»ç±»ä¸­è·å–ç±»æ–¹æ³•ç­¾å + (NSMethodSignature *)instanceMethodSignatureForSelector:(SEL)aSelector //ä»ä¸€ä¸ªç±»ä¸­è·å–å®ä¾‹æ–¹æ³•ç­¾å - (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œæ›´å¥½çš„ç†è§£è¯¥æ€ä¹ˆè·å–æ–¹æ³•ç­¾åï¼š SEL initSEL = @selector(init); SEL allocSEL = @selector(alloc); // ä»NSStringç±»ä¸­è·å–å®ä¾‹æ–¹æ³•(init)çš„æ–¹æ³•ç­¾å NSMethodSignature *initSig = [NSString instanceMethodSignatureForSelector:initSEL]; // ä»testå®ä¾‹ä¸­è·å–å®ä¾‹æ–¹æ³•(init)çš„æ–¹æ³•ç­¾å initSig = [@\"test\" methodSignatureForSelector:initSEL]; // ä»NSStringç±»ä¸­è·å–ç±»æ–¹æ³•ç­¾å NSMethodSignature *allocSig = [NSString methodSignatureForSelector:allocSEL]; NSInvocation NSInvocation å¯ä»¥è¯´æ˜¯ performSelector: withObject: çš„å‡çº§ç‰ˆï¼Œå¯ä»¥è°ƒç”¨è¾ƒä¸ºå¤æ‚çš„æ–¹æ³•ï¼Œè¿›è¡Œå‚æ•°ã€è¿”å›å€¼çš„å¤„ç†ç­‰; NSMethodSignature å’Œ NSInvocation æ­é…çš„ä½¿ç”¨æ–¹æ³• NSString *str = @\"Test\"; str = [str stringByAppendingString:@\" AppendingString\"]; NSLog(@\"str: %@\", str); //éœ€è¦è°ƒç”¨çš„æ–¹æ³• SEL selector = @selector(stringByAppendingString:); //è·å–æ–¹æ³•ç­¾å NSMethodSignature *signature = [str methodSignatureForSelector:selector]; //åˆ›å»º NSInvocation å¯¹è±¡ NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:signature]; //è®¾ç½®æ¶ˆæ¯æ¥å—å¯¹è±¡ invocation.target = str; //è®¾ç½®å‘é€çš„æ¶ˆæ¯ invocation.selector = selector; //å»ºè®®é€šè¿‡signature.numberOfArgumentè·å–å‚æ•°ä¸ªæ•° //å¯ä»¥ä¿è¯ä¸å¤šå‚ï¼Œä¸å°‘å‚ //è¿™è¾¹å‡2çš„åŸå› æ˜¯ï¼š //0ä½ç½®çš„å‚æ•°æ˜¯ ç›®æ ‡ï¼ˆselfï¼‰ //1ä½ç½®çš„å‚æ•°æ˜¯ selectorï¼ˆ_cmdï¼‰ //æ‰€ä»¥2ä½ç½®æ‰æ˜¯æ‰€éœ€è¦çš„ç¬¬ä¸€ä¸ªå‚æ•° NSInteger paramCount = signature.numberOfArguments - 2; NSLog(@\"paramCount: %@\", @(paramCount)); for (int i = 0; i Title: åˆ©ç”¨ NSMethodSignature å’Œ NSInvocation å®ç°æ–¹æ³•è°ƒç”¨ Date: 2018.03.10 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/build-failed.html":{"url":"ios/build-failed.html","title":"å¸¸è§çš„ç¼–è¯‘å¤±è´¥","keywords":"","body":"å¸¸è§çš„ç¼–è¯‘å¤±è´¥ -fobjv-weak is not supported on the current deloyment target è§£å†³æ–¹æ¡ˆï¼šæ›´æ–° xcodeproj ç‰ˆæœ¬ã€‚ é€šè¿‡ç»ˆç«¯è¿›åˆ°é¡¹ç›®ç›®å½• æŸ¥çœ‹ xcodeproj ç‰ˆæœ¬ gem list xcodeproj å®‰è£… xcodeproj æœ€æ–°ç‰ˆæœ¬ å¯ä»¥åœ¨ rubygems.orgæŸ¥çœ‹åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç›®å‰åº”è¯¥æ˜¯1.5.6ã€‚ gem install xcodeproj -v 1.5.6 å†æ¬¡æŸ¥çœ‹ xcodeproj ç‰ˆæœ¬ gem list xcodeproj å¸è½½æ—§ç‰ˆæœ¬çš„ xcodeproj gem uninstall xcodeproj -v 1.5.6 æŒ‰ä¸‹ command + bï¼Œä½ ä¼šå‘ç°å·²ç»å¯ä»¥æˆåŠŸç¼–è¯‘äº†ï¼ Title: å¸¸è§çš„ç¼–è¯‘å¤±è´¥ Date: 2018.02.09 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/hook-system-delegate-method.html":{"url":"ios/hook-system-delegate-method.html","title":"Hook ç³»ç»Ÿä»£ç†æ–¹æ³•","keywords":"","body":"Hook ç³»ç»Ÿä»£ç†æ–¹æ³• æœ¬ç¯‡æ–‡ç« ä¸»è¦å™è¿°çš„æ˜¯é€šè¿‡ Runtime ç›¸å…³çŸ¥è¯†ï¼Œå®Œæˆå¯¹ UIScrollView çš„ä»£ç†æ–¹æ³•è¿›è¡Œ hookã€‚ä»è€Œæ·»åŠ ä¸€ä¸ªåœæ­¢æ»šåŠ¨çš„å›è°ƒã€‚ Runtime åš iOS å¼€å‘çš„åŒå­¦ä»¬ä¸€å®šçŸ¥é“ Runtime ï¼Œè¿™é‡Œå°±ä¸è®²å¤ªå¤šäº†ã€‚è¿™ä¸ªæ˜¯ Runtime æ–‡æ¡£ï¼Œæœ‰å…´è¶£çš„åŒå­¦ï¼Œå¯ä»¥è‡ªå·±æŸ¥é˜…ä¸€ä¸‹ã€‚ç½‘ä¸Šå…³äº Runtime çš„åšå®¢ä¹Ÿæœ‰å¾ˆå¤šï¼Œå®˜æ–¹æ–‡æ¡£çœ‹ä¸æ‡‚ï¼Œå¯ä»¥çœ‹çœ‹å…¶ä»–äººçš„åšå®¢ã€‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆ UIScrollView åœæ­¢æ»šåŠ¨çš„ç±»å‹ é€šè¿‡è°ƒæŸ¥å‘ç° UIScrollView åœæ­¢æ»šåŠ¨çš„ç±»å‹åˆ†ä¸ºä¸‰ç§ï¼š å¿«é€Ÿæ»šåŠ¨ï¼Œè‡ªç„¶åœæ­¢ å¿«é€Ÿæ»šåŠ¨ï¼Œæ‰‹æŒ‡æŒ‰å‹çªç„¶åœæ­¢ æ…¢é€Ÿä¸Šä¸‹æ»‘åŠ¨åœæ­¢ ç¬¬1ç§ç±»å‹ï¼Œæ¯”è¾ƒç®€å•ï¼Œåœ¨ UIScrollView çš„ä»£ç†ä¸­å°±å¯ä»¥ç›‘å¬åˆ°ã€‚ - (void)scrollViewWillBeginDecelerating:(UIScrollView *)scrollView; è€Œç¬¬2ç§ç±»å‹å’Œç¬¬3ç§ç±»å‹ï¼Œå°±æ²¡æœ‰æ–¹æ³•è®©æˆ‘ä»¬å¯ä»¥ç›´æ¥ç›‘å¬åˆ°äº†ã€‚ä½†æ˜¯åªè¦æ˜¯æ»‘åŠ¨äº†ï¼Œå°±ä¸€å®šä¼šè§¦å‘ UIScrollView çš„ä¸‹é¢ä»£ç†ï¼Œç„¶åé€šè¿‡ UIScrollView éƒ¨åˆ†å±æ€§çš„æ”¹å˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›‘å¬åˆ°æ»šåŠ¨åœæ­¢äº†ï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»æ–¹æ³•ã€‚ - (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView; - (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate; æ·»åŠ  UIScrollView æ»šåŠ¨åœæ­¢å›è°ƒ ç›‘å¬ UIScrollView åœæ­¢æ»šåŠ¨ é€šè¿‡ç¿»é˜…æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° UIScrollView æœ‰ä¸‰ä¸ªå±æ€§: trackingã€draggingã€deceleratingã€‚ // returns YES if user has touched. may not yet have started dragging @property(nonatomic,readonly,getter=isTracking) BOOL tracking; // returns YES if user has started scrolling. this may require some time and or distance to move to initiate dragging @property(nonatomic,readonly,getter=isDragging) BOOL dragging; // returns YES if user isn't dragging (touch up) but scroll view is still moving @property(nonatomic,readonly,getter=isDecelerating) BOOL decelerating; åœ¨æ»šåŠ¨å’Œæ»šåŠ¨ç»“æŸæ—¶ï¼Œè¿™ä¸‰ä¸ªå±æ€§çš„å€¼éƒ½ä¸ç›¸åŒã€‚æˆ‘ä»¬åˆ©ç”¨è¿™ä¸‰ä¸ªå±æ€§ï¼Œå®Œæˆå¯¹ UIScrollView åœæ­¢æ»šåŠ¨çš„ç›‘å¬ã€‚ åœæ­¢ç±»å‹1ï¼š - (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView; tracking:0,dragging:0,decelerating:0 åœæ­¢ç±»å‹2ï¼š - (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate; tracking:1,dragging:0,decelerating:1 - (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView; tracking:0,dragging:0,decelerating:0 åœæ­¢ç±»å‹3ï¼š - (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate; tracking:1,dragging:0,decelerating:0 é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹ UIScrollView çš„è¿™ä¸‰ä¸ªå±æ€§è¿›è¡Œç›¸åº”çš„ç»„åˆï¼Œå°±å¯ä»¥ç›‘å¬åˆ° UIScrollView åœæ­¢æ»šåŠ¨çš„äº‹ä»¶äº†ã€‚ - (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView { // åœæ­¢ç±»å‹1ã€åœæ­¢ç±»å‹2 BOOL scrollToScrollStop = !scrollView.tracking && !scrollView.dragging && !scrollView.decelerating; if (scrollToScrollStop) { [self scrollViewDidEndScroll]; } } - (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate { if (!decelerate) { // åœæ­¢ç±»å‹3 BOOL dragToDragStop = scrollView.tracking && !scrollView.dragging && !scrollView.decelerating; if (dragToDragStop) { [self scrollViewDidEndScroll]; } } } #pragma mark - scrollView æ»šåŠ¨åœæ­¢ - (void)scrollViewDidEndScroll { NSLog(@\"åœæ­¢æ»šåŠ¨äº†ï¼ï¼ï¼\"); } ä¸Šé¢çš„ä»£ç å…·ä½“è¯·çœ‹ ç›‘å¬UIScrollViewåœæ­¢æ»šåŠ¨çš„Demo ä¸­çš„Demo6-UIScrollViewåœæ­¢æ»šåŠ¨ æ·»åŠ åœæ­¢æ»šåŠ¨çš„å›è°ƒ Hook setDelegate å› ä¸ºæˆ‘ä»¬è¦å¯¹ UIScrollView çš„ setDelegate è¿›è¡Œæ–¹æ›¿æ¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåˆ›å»ºä¸€ä¸ª UIScrollView çš„ Category ï¼Œåœ¨ load ä¸­è¿›è¡Œæ›¿æ¢ã€‚ ä½¿ç”¨dispatch_onceåŒ…ä½æ›¿æ¢æ–¹æ³•çš„ä»£ç ï¼Œä¿è¯åªè¿›è¡Œä¸€æ¬¡æ›¿æ¢æ“ä½œï¼Œä¸ä¼šå› å¤šæ¬¡æ›¿æ¢åŒä¸€æ–¹æ³•ï¼Œäº§ç”Ÿéšæ‚£ã€‚ æˆ‘è¿™è¾¹åªæƒ³å¯¹ UIScrollView æ·»åŠ æ»šåŠ¨åœæ­¢çš„ç›‘å¬ï¼Œæ‰€ä»¥åœ¨ hook_setDelegate è¿›è¡Œäº†åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ [UIScrollView class] æ‰ä¼šå»Hookç³»ç»Ÿçš„ä»£ç†æ–¹æ³•ã€‚ + (void)load { static dispatch_once_t onceToken; dispatch_once(&onceToken, ^{ Method originalMethod = class_getInstanceMethod([UIScrollView class], @selector(setDelegate:)); Method replaceMethod = class_getInstanceMethod([UIScrollView class], @selector(hook_setDelegate:)); method_exchangeImplementations(originalMethod, replaceMethod); }); } - (void)hook_setDelegate:(id)delegate { [self hook_setDelegate:delegate]; if ([self isMemberOfClass:[UIScrollView class]]) { NSLog(@\"æ˜¯UIScrollViewï¼Œhookæ–¹æ³•\"); //Hook (scrollViewDidEndDecelerating:) æ–¹æ³• Hook_Method([delegate class], @selector(scrollViewDidEndDecelerating:), [self class], @selector(p_scrollViewDidEndDecelerating:), @selector(add_scrollViewDidEndDecelerating:)); //Hook (scrollViewDidEndDragging:willDecelerate:) æ–¹æ³• Hook_Method([delegate class], @selector(scrollViewDidEndDragging:willDecelerate:), [self class], @selector(p_scrollViewDidEndDragging:willDecelerate:), @selector(add_scrollViewDidEndDragging:willDecelerate:)); } else { NSLog(@\"ä¸æ˜¯UIScrollViewï¼Œä¸éœ€è¦hookæ–¹æ³•\"); } } Hook Method å¦‚æœæˆ‘ä»¬æƒ³è¦hookæŸä¸ªä»£ç†æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘è¿™å‡ ç§æƒ…å†µï¼š ä»£ç†å¯¹è±¡å®ç°äº† scrollViewDidEndDecelerating: æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥äº¤æ¢å°±è¡Œã€‚ ä»£ç†å¯¹è±¡å¦‚æœæ²¡æœ‰å®ç° scrollViewDidEndDecelerating: æ–¹æ³•ï¼Œè€Œæˆ‘ä»¬åˆæƒ³ç›‘å¬æ—¶ï¼Œå°±éœ€è¦æˆ‘ä»¬åŠ¨æ€çš„æ·»åŠ  scrollViewDidEndDecelerating: æ–¹æ³•ã€‚ setDelegate: ä¸‡ä¸€é‡å¤è®¾ç½®äº†ï¼Œä¼šå¯¼è‡´ scrollViewDidEndDecelerating: å¤šæ¬¡äº¤æ¢ï¼Œæˆ‘ä»¬éœ€è¦é¢„é˜²è¿™ç§æƒ…å†µã€‚ static void Hook_Method(Class originalClass, SEL originalSel, Class replacedClass, SEL replacedSel, SEL noneSel){ // åŸå®ä¾‹æ–¹æ³• Method originalMethod = class_getInstanceMethod(originalClass, originalSel); // æ›¿æ¢çš„å®ä¾‹æ–¹æ³• Method replacedMethod = class_getInstanceMethod(replacedClass, replacedSel); // å¦‚æœæ²¡æœ‰å®ç° delegate æ–¹æ³•ï¼Œåˆ™æ‰‹åŠ¨åŠ¨æ€æ·»åŠ  if (!originalMethod) { Method noneMethod = class_getInstanceMethod(replacedClass, noneSel); BOOL addNoneMethod = class_addMethod(originalClass, originalSel, method_getImplementation(noneMethod), method_getTypeEncoding(noneMethod)); if (addNoneMethod) { NSLog(@\"******** æ²¡æœ‰å®ç° (%@) æ–¹æ³•ï¼Œæ‰‹åŠ¨æ·»åŠ æˆåŠŸï¼ï¼\",NSStringFromSelector(originalSel)); } return; } // å‘å®ç° delegate çš„ç±»ä¸­æ·»åŠ æ–°çš„æ–¹æ³• // è¿™é‡Œæ˜¯å‘ originalClass çš„ replaceSelï¼ˆ@selector(p_scrollViewDidEndDecelerating:)ï¼‰ æ·»åŠ  replaceMethod BOOL addMethod = class_addMethod(originalClass, replacedSel, method_getImplementation(replacedMethod), method_getTypeEncoding(replacedMethod)); if (addMethod) { // æ·»åŠ æˆåŠŸ NSLog(@\"******** å®ç°äº† (%@) æ–¹æ³•å¹¶æˆåŠŸ Hook ä¸º --> (%@)\", NSStringFromSelector(originalSel), NSStringFromSelector(replacedSel)); // é‡æ–°æ‹¿åˆ°æ·»åŠ è¢«æ·»åŠ çš„ method,è¿™é‡Œæ˜¯å…³é”®(æ³¨æ„è¿™é‡Œ originalClass, ä¸ replacedClass), å› ä¸ºæ›¿æ¢çš„æ–¹æ³•å·²ç»æ·»åŠ åˆ°åŸç±»ä¸­äº†, åº”è¯¥äº¤æ¢åŸç±»ä¸­çš„ä¸¤ä¸ªæ–¹æ³• Method newMethod = class_getInstanceMethod(originalClass, replacedSel); // å®ç°äº¤æ¢ method_exchangeImplementations(originalMethod, newMethod); }else{ // æ·»åŠ å¤±è´¥ï¼Œåˆ™è¯´æ˜å·²ç» hook è¿‡è¯¥ç±»çš„ delegate æ–¹æ³•ï¼Œé˜²æ­¢å¤šæ¬¡äº¤æ¢ã€‚ NSLog(@\"******** å·²æ›¿æ¢è¿‡ï¼Œé¿å…å¤šæ¬¡æ›¿æ¢ --> (%@)\",NSStringFromClass(originalClass)); } } å®ç°æˆ‘ä»¬è‡ªå·±æ–¹æ³• // å·²ç»å®ç°éœ€è¦hookçš„ä»£ç†æ–¹æ³•æ—¶ï¼Œè°ƒç”¨æ­¤å¤„æ–¹æ³•è¿›è¡Œæ›¿æ¢ #pragma mark - Replace_Method - (void)p_scrollViewDidEndDecelerating:(UIScrollView *)scrollView { NSLog(@\"%s\", __func__); [self p_scrollViewDidEndDecelerating:scrollView]; // åœæ­¢ç±»å‹1ã€åœæ­¢ç±»å‹2 BOOL scrollToScrollStop = !scrollView.tracking && !scrollView.dragging && !scrollView.decelerating; if (scrollToScrollStop) { [scrollView stopScroll:scrollView]; } } - (void)p_scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate { NSLog(@\"%s\", __func__); [self p_scrollViewDidEndDragging:scrollView willDecelerate:decelerate]; if (!decelerate) { // åœæ­¢ç±»å‹3 BOOL dragToDragStop = scrollView.tracking && !scrollView.dragging && !scrollView.decelerating; if (dragToDragStop) { [scrollView stopScroll:scrollView]; } } } // é‚£æ²¡æœ‰å®ç°éœ€è¦hookçš„ä»£ç†æ–¹æ³•æ—¶ï¼Œè°ƒç”¨æ­¤å¤„æ–¹æ³• #pragma mark - Add_Method - (void)add_scrollViewDidEndDecelerating:(UIScrollView *)scrollView { NSLog(@\"%s\", __func__); // åœæ­¢ç±»å‹1ã€åœæ­¢ç±»å‹2 BOOL scrollToScrollStop = !scrollView.tracking && !scrollView.dragging && !scrollView.decelerating; if (scrollToScrollStop) { [scrollView stopScroll:scrollView]; } } - (void)add_scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate { NSLog(@\"%s\", __func__); if (!decelerate) { // åœæ­¢ç±»å‹3 BOOL dragToDragStop = scrollView.tracking && !scrollView.dragging && !scrollView.decelerating; if (dragToDragStop) { [scrollView stopScroll:scrollView]; } } } #pragma mark - scrollView æ»šåŠ¨åœæ­¢æ—¶è§¦å‘çš„æ–¹æ³• - (void)stopScroll:(UIScrollView *)scrollView { NSLog(@\"æ»šåŠ¨å·²åœæ­¢\"); } æ·»åŠ å›è°ƒ æ¥ä¸‹æ¥ï¼Œå†é€šè¿‡ Runtime åœ¨ Category ä¸­å¯¹ UIScrollView æ·»åŠ ä¸€ä¸ªå›è°ƒå±æ€§stopScrollBlockã€‚ UIScrollView+Category.hæ–‡ä»¶ @property(nonatomic, copy) StopScrollBlock stopScrollBlock; UIScrollView+Category.mæ–‡ä»¶ static const char p_stopScrollBlock = '\\0'; - (StopScrollBlock)stopScrollBlock { return objc_getAssociatedObject(self, &p_stopScrollBlock); } - (void)setStopScrollBlock:(StopScrollBlock)stopScrollBlock { objc_setAssociatedObject(self, &p_stopScrollBlock, stopScrollBlock, OBJC_ASSOCIATION_RETAIN_NONATOMIC); } æœ€ååœ¨ç›‘å¬æ»šåŠ¨åœæ­¢çš„æ–¹æ³•ä¸­è°ƒç”¨è¿™ä¸ªå›è°ƒï¼Œå°±å¤§å·¥å‘Šæˆäº†ã€‚ - (void)stopScroll:(UIScrollView *)scrollView { if (self.stopScrollBlock) { self.stopScrollBlock(scrollView); } } å›è°ƒçš„ä½¿ç”¨ UIScrollView *scrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, kScreenW, kScreenH)]; scrollView.contentSize = CGSizeMake(kScreenW * 8, kScreenH); scrollView.delegate = self; scrollView.stopScrollBlock = ^(UIScrollView *scrollView) { NSLog(@\"åœæ­¢æ»‘åŠ¨\"); }; [self.view addSubview:scrollView]; é™„ UITableViewã€UICollectionView æ»šåŠ¨ç»“æŸçš„ç›‘æµ‹ Method Swizzling å®æˆ˜ï¼šHook ç³»ç»Ÿä»£ç†æ–¹æ³• Title: Hook ç³»ç»Ÿä»£ç†æ–¹æ³• Date: 2018.01.14 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/create-qr-code.html":{"url":"ios/create-qr-code.html","title":"äºŒç»´ç ç”ŸæˆåŠå®šåˆ¶","keywords":"","body":"äºŒç»´ç ç”ŸæˆåŠå®šåˆ¶ ç›®å‰æ¯”è¾ƒå¸¸è§çš„äºŒç»´ç åº“æœ‰ZXingï¼ŒZBarç­‰ï¼Œç½‘ä¸Šå¯¹äºè¿™äº›çŸ¥ååº“çš„ä½¿ç”¨åŠåˆ†æå·²ç»å¾ˆå¤šäº†ï¼Œåœ¨è¿™å°±ä¸åšèµ˜è¿°äº†ã€‚æˆ‘ä»¬æœ¬ç¯‡æ–‡ç« çš„ç›®æ ‡æ˜¯é‡‡ç”¨ CIQRCodeGenerator æ¥å®ŒæˆäºŒç»´ç çš„ç”ŸæˆåŠå®šåˆ¶åŒ–ã€‚ CIQRCodeGenerator åœ¨iOS7ä¹‹åï¼Œè‹¹æœè‡ªèº«æä¾›çš„ APIï¼Œç”¨äºæ–¹ä¾¿å¿«æ·çš„é›†æˆäºŒç»´ç çš„ç”Ÿæˆå’Œè¯»å–åŠŸèƒ½ã€‚ä½¿ç”¨è‹¹æœæä¾›çš„æ–¹æ³•å¥½å¤„å°±åœ¨äºä¸ç”¨é¢å¤–å¼•å…¥å…¶ä»–çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå¯ä»¥å‡å°‘æ‰“åŒ…åçš„ App å¤§å°ã€‚ å†™åšå®¢ä¸ç»™Demoçš„åšä¸»éƒ½ä¸æ˜¯å¥½åšä¸»ï¼Œæ²¡Demoæ²¡ XXã€‚ æˆäººäºˆé±¼ï¼Œä¸å¦‚æˆäººä¸æ¸”ã€‚é±¼åœ¨ä¸Šé¢çš„Demoä¸­ï¼Œæ¸”åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­ã€‚ ä¸‹é¢å¼€å§‹æˆ‘çš„è¡¨æ¼”ã€‚ éœ€æ±‚ æœ€è¿‘äº§å“çœ‹æ”¯ä»˜å®çº¢åŒ…çš„äºŒç»´ç åˆ†äº«åŠŸèƒ½ä¸é”™ï¼Œäºæ˜¯ä¹æå‡ºäº†éœ€æ±‚ï¼š ä¸€ä¸ªç”¨äºåˆ†äº«çš„äºŒç»´ç ï¼Œç”¨äºè·³è½¬åˆ°ç›¸å…³é¡µé¢ æ·»åŠ logo æ‹¼æ¥ä¸€ä¸ªèƒŒæ™¯å›¾ ä»¥ä¸Šå°±æ˜¯å†™å‡ºè¿™ç¯‡æ–‡ç« çš„åŸå› ã€‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§ ç”ŸæˆäºŒç»´ç  æˆ‘è®¤ä¸ºè¿™ä¸ªäºŒç»´ç çš„éœ€æ±‚å¾ˆå¤šåœ°æ–¹éƒ½ä¼šéœ€è¦ï¼Œæ‰€ä»¥æˆ‘è¿™è¾¹å†™åœ¨äº†ä¸€ä¸ªUIImageçš„æ‰©å±•ä¸­ï¼Œæ–¹ä¾¿ä»¥åçš„ä½¿ç”¨ã€‚ åˆ›å»ºäºŒç»´ç å›¾ç‰‡ å¼•å…¥å¤´æ–‡ä»¶ CoreImage.h #import é€šè¿‡ CIFilter åˆ›å»ºä¸€ä¸ªäºŒç»´ç å›¾ç‰‡ //åˆ›å»ºåä¸º\"CIQRCodeGenerator\"çš„CIFilter CIFilter *filter = [CIFilter filterWithName:@\"CIQRCodeGenerator\"]; //å°†filteræ‰€æœ‰å±æ€§è®¾ç½®ä¸ºé»˜è®¤å€¼ [filter setDefaults]; //å°†æ‰€éœ€å°½å¿ƒè½¬ä¸ºUTF8çš„æ•°æ®ï¼Œå¹¶è®¾ç½®ç»™filter NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding]; [filter setValue:data forKey:@\"inputMessage\"]; //è®¾ç½®äºŒç»´ç çš„çº é”™æ°´å¹³ï¼Œè¶Šé«˜çº é”™æ°´å¹³è¶Šé«˜ï¼Œå¯ä»¥æ±¡æŸçš„èŒƒå›´è¶Šå¤§ /* * L: 7% * M: 15% * Q: 25% * H: 30% */ [filter setValue:@\"H\" forKey:@\"inputCorrectionLevel\"]; //æ‹¿åˆ°äºŒç»´ç å›¾ç‰‡ï¼Œæ­¤æ—¶çš„å›¾ç‰‡ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œéœ€è¦äºŒæ¬¡åŠ å·¥ CIImage *outPutImage = [filter outputImage]; è°ƒæ•´äºŒç»´ç å›¾ç‰‡æ¸…æ™°åº¦ æ–¹æ³•ä¸€ /** è°ƒæ•´äºŒç»´ç æ¸…æ™°åº¦ @param img æ¨¡ç³Šçš„äºŒç»´ç å›¾ç‰‡ @param size äºŒç»´ç çš„å®½é«˜ @return æ¸…æ™°çš„äºŒç»´ç å›¾ç‰‡ */ - (UIImage *)getHDImgWithCIImage:(CIImage *)img size:(CGSize)size { CGRect extent = CGRectIntegral(img.extent); CGFloat scale = MIN(size.width/CGRectGetWidth(extent), size.height/CGRectGetHeight(extent)); //1.åˆ›å»ºbitmap; size_t width = CGRectGetWidth(extent) * scale; size_t height = CGRectGetHeight(extent) * scale; //åˆ›å»ºä¸€ä¸ªDeviceGrayé¢œè‰²ç©ºé—´ CGColorSpaceRef cs = CGColorSpaceCreateDeviceGray(); //CGBitmapContextCreate(void * _Nullable data, size_t width, size_t height, size_t bitsPerComponent, size_t bytesPerRow, CGColorSpaceRef _Nullable space, uint32_t bitmapInfo) //widthï¼šå›¾ç‰‡å®½åº¦åƒç´  //heightï¼šå›¾ç‰‡é«˜åº¦åƒç´  //bitsPerComponentï¼šæ¯ä¸ªé¢œè‰²çš„æ¯”ç‰¹å€¼ï¼Œä¾‹å¦‚åœ¨rgba-32æ¨¡å¼ä¸‹ä¸º8 //bitmapInfoï¼šæŒ‡å®šçš„ä½å›¾åº”è¯¥åŒ…å«ä¸€ä¸ªalphaé€šé“ã€‚ CGContextRef bitmapRef = CGBitmapContextCreate(nil, width, height, 8, 0, cs, (CGBitmapInfo)kCGImageAlphaNone); CIContext *context = [CIContext contextWithOptions:nil]; //åˆ›å»ºCoreGraphics image CGImageRef bitmapImage = [context createCGImage:img fromRect:extent]; CGContextSetInterpolationQuality(bitmapRef, kCGInterpolationNone); CGContextScaleCTM(bitmapRef, scale, scale); CGContextDrawImage(bitmapRef, extent, bitmapImage); //2.ä¿å­˜bitmapåˆ°å›¾ç‰‡ CGImageRef scaledImage = CGBitmapContextCreateImage(bitmapRef); CGContextRelease(bitmapRef); CGImageRelease(bitmapImage); //æ¸…æ™°çš„äºŒç»´ç å›¾ç‰‡ UIImage *outputImage = [UIImage imageWithCGImage:scaledImage]; return outputImage; } æ–¹æ³•äºŒ ç›¸å¯¹äºæ–¹æ³•ä¸€ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥æ›´æ–¹ä¾¿çš„ä¿®æ”¹äºŒç»´ç çš„é¢œè‰² /** è°ƒæ•´äºŒç»´ç æ¸…æ™°åº¦ @param img æ¨¡ç³Šçš„äºŒç»´ç å›¾ç‰‡ @param size äºŒç»´ç çš„å®½é«˜ @return æ¸…æ™°çš„äºŒç»´ç å›¾ç‰‡ */ - (UIImage *)sencond_getHDImgWithCIImage:(CIImage *)img size:(CGSize)size { //äºŒç»´ç çš„é¢œè‰² UIColor *pointColor = [UIColor blackColor]; //èƒŒæ™¯é¢œè‰² UIColor *backgroundColor = [UIColor whiteColor]; CIFilter *colorFilter = [CIFilter filterWithName:@\"CIFalseColor\" keysAndValues: @\"inputImage\", img, @\"inputColor0\", [CIColor colorWithCGColor:pointColor.CGColor], @\"inputColor1\", [CIColor colorWithCGColor:backgroundColor.CGColor], nil]; CIImage *qrImage = colorFilter.outputImage; //ç»˜åˆ¶ CGImageRef cgImage = [[CIContext contextWithOptions:nil] createCGImage:qrImage fromRect:qrImage.extent]; UIGraphicsBeginImageContext(size); CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetInterpolationQuality(context, kCGInterpolationNone); CGContextScaleCTM(context, 1.0, -1.0); CGContextDrawImage(context, CGContextGetClipBoundingBox(context), cgImage); UIImage *codeImage = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); CGImageRelease(cgImage); return codeImage; } é€šè¿‡ä¸Šé¢ä¸¤éƒ¨ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€å¼ æ¸…æ™°çš„äºŒç»´ç å›¾ç‰‡äº†ã€‚ å®šåˆ¶äºŒç»´ç  ä¿®æ”¹äºŒç»´ç é¢œè‰² å½“æˆ‘ç¾æ»‹æ»‹çš„ç”Ÿæˆä¸€ä¸ªäºŒç»´ç å›¾ç‰‡ä»¥åï¼Œæœ‰ä¸ª Android çš„åŒäº‹è¯´å¯ä»¥æŠŠäºŒç»´ç å‘¨å›´çš„ç™½è¾¹å»æ‰ï¼Œè¿™ä¸ªçœŸçš„æ˜¯ç¨‹åºå‘˜ç»™ç¨‹åºå‘˜æ‰¾éº»çƒ¦~ ä¿®æ”¹äºŒç»´ç çš„åŸç†æ˜¯æ”¹å˜æ¯ä¸ªåƒç´ ç‚¹çš„é¢œè‰²ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š /** ä¿®æ”¹äºŒç»´ç é¢œè‰² @param image äºŒç»´ç å›¾ç‰‡ @param red red @param green green @param blue blue @return ä¿®æ”¹é¢œè‰²åçš„äºŒç»´ç å›¾ç‰‡ */ + (UIImage *)changeColorWithQRCodeImg:(UIImage *)image red:(NSUInteger)red green:(NSUInteger)green blue:(NSUInteger)blue { const int imageWidth = image.size.width; const int imageHeight = image.size.height; size_t bytesPerRow = imageWidth * 4; uint32_t * rgbImageBuf = (uint32_t *)malloc(bytesPerRow * imageHeight); CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB(); CGContextRef context = CGBitmapContextCreate(rgbImageBuf, imageWidth, imageHeight, 8, bytesPerRow, colorSpace, kCGBitmapByteOrder32Little | kCGImageAlphaNoneSkipLast); CGContextDrawImage(context, (CGRect){(CGPointZero), (image.size)}, image.CGImage); //éå†åƒç´  int pixelNumber = imageHeight * imageWidth; [self changeColorOnPixel:rgbImageBuf pixelNum:pixelNumber red:red green:green blue:blue]; CGDataProviderRef dataProvider = CGDataProviderCreateWithData(NULL, rgbImageBuf, bytesPerRow, ProviderReleaseData); CGImageRef imageRef = CGImageCreate(imageWidth, imageHeight, 8, 32, bytesPerRow, colorSpace, kCGImageAlphaLast | kCGBitmapByteOrder32Little, dataProvider, NULL, true, kCGRenderingIntentDefault); UIImage * resultImage = [UIImage imageWithCGImage: imageRef]; CGImageRelease(imageRef); CGColorSpaceRelease(colorSpace); CGContextRelease(context); return resultImage; } /** éå†åƒç´ ç‚¹ï¼Œä¿®æ”¹é¢œè‰² @param rgbImageBuf rgbImageBuf @param pixelNum pixelNum @param red red @param green green @param blue blue */ + (void)changeColorOnPixel: (uint32_t *)rgbImageBuf pixelNum: (int)pixelNum red: (NSUInteger)red green: (NSUInteger)green blue: (NSUInteger)blue { uint32_t * pCurPtr = rgbImageBuf; for (int i = 0; i æ·»åŠ æ°´å°å›¾ç‰‡ï¼ˆLogoï¼‰ /** è°ƒæ•´äºŒç»´ç æ¸…æ™°åº¦ï¼Œæ·»åŠ æ°´å°å›¾ç‰‡ @param img æ¨¡ç³Šçš„äºŒç»´ç å›¾ç‰‡ @param size äºŒç»´ç çš„å®½é«˜ @param waterImg æ°´å°å›¾ç‰‡ @return æ·»åŠ æ°´å°å›¾ç‰‡åï¼Œæ¸…æ™°çš„äºŒç»´ç å›¾ç‰‡ */ - (UIImage *)getHDImgWithCIImage:(CIImage *)img size:(CGSize)size waterImg:(UIImage *)waterImg { CGRect extent = CGRectIntegral(img.extent); CGFloat scale = MIN(size.width/CGRectGetWidth(extent), size.height/CGRectGetHeight(extent)); //1.åˆ›å»ºbitmap; size_t width = CGRectGetWidth(extent) * scale; size_t height = CGRectGetHeight(extent) * scale; //åˆ›å»ºä¸€ä¸ªDeviceGrayé¢œè‰²ç©ºé—´ CGColorSpaceRef cs = CGColorSpaceCreateDeviceGray(); //CGBitmapContextCreate(void * _Nullable data, size_t width, size_t height, size_t bitsPerComponent, size_t bytesPerRow, CGColorSpaceRef _Nullable space, uint32_t bitmapInfo) //widthï¼šå›¾ç‰‡å®½åº¦åƒç´  //heightï¼šå›¾ç‰‡é«˜åº¦åƒç´  //bitsPerComponentï¼šæ¯ä¸ªé¢œè‰²çš„æ¯”ç‰¹å€¼ï¼Œä¾‹å¦‚åœ¨rgba-32æ¨¡å¼ä¸‹ä¸º8 //bitmapInfoï¼šæŒ‡å®šçš„ä½å›¾åº”è¯¥åŒ…å«ä¸€ä¸ªalphaé€šé“ã€‚ CGContextRef bitmapRef = CGBitmapContextCreate(nil, width, height, 8, 0, cs, (CGBitmapInfo)kCGImageAlphaNone); CIContext *context = [CIContext contextWithOptions:nil]; //åˆ›å»ºCoreGraphics image CGImageRef bitmapImage = [context createCGImage:img fromRect:extent]; CGContextSetInterpolationQuality(bitmapRef, kCGInterpolationNone); CGContextScaleCTM(bitmapRef, scale, scale); CGContextDrawImage(bitmapRef, extent, bitmapImage); //2.ä¿å­˜bitmapåˆ°å›¾ç‰‡ CGImageRef scaledImage = CGBitmapContextCreateImage(bitmapRef); CGContextRelease(bitmapRef); CGImageRelease(bitmapImage); //æ¸…æ™°çš„äºŒç»´ç å›¾ç‰‡ UIImage *outputImage = [UIImage imageWithCGImage:scaledImage]; //ç»™äºŒç»´ç åŠ  logo å›¾ UIGraphicsBeginImageContextWithOptions(outputImage.size, NO, [[UIScreen mainScreen] scale]); [outputImage drawInRect:CGRectMake(0, 0, size.width, size.height)]; //æ°´å°å›¾ç‰‡ //æŠŠæ°´å°å›¾ç‰‡ç”»åˆ°ç”Ÿæˆçš„äºŒç»´ç å›¾ç‰‡ä¸Šï¼Œæ³¨æ„å°ºå¯¸ä¸è¦å¤ªå¤§ï¼ˆæ ¹æ®ä¸Šé¢ç”ŸæˆäºŒç»´ç è®¾ç½®çš„çº é”™ç¨‹åº¦è®¾ç½®ï¼‰ï¼Œå¦åˆ™æœ‰å¯èƒ½é€ æˆæ‰«ä¸å‡ºæ¥ [waterImg drawInRect:CGRectMake((size.width-waterImg.size.width)/2.0, (size.height-waterImg.size.height)/2.0, waterImg.size.width, waterImg.size.height)]; UIImage *newPic = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); return newPic; } æ‹¼æ¥å›¾ç‰‡ /** æ‹¼æ¥å›¾ç‰‡ @param img1 å›¾ç‰‡1 @param img2 å›¾ç‰‡2 @param location å›¾ç‰‡2ç›¸å¯¹äºå›¾ç‰‡1çš„å·¦ä¸Šè§’ä½ç½® @return æ‹¼æ¥åçš„å›¾ç‰‡ */ + (UIImage *)spliceImg1:(UIImage *)img1 img2:(UIImage *)img2 img2Location:(CGPoint)location { // CGSize size1 = img1.size; CGSize size2 = img2.size; UIGraphicsBeginImageContextWithOptions(img1.size, NO, [[UIScreen mainScreen] scale]); [img1 drawInRect:CGRectMake(0, 0, img1.size.width, img1.size.height)]; // [img2 drawInRect:CGRectMake((size1.width-size2.width)/2.0, (size1.height-size2.height)/2.0, size2.width, size2.height)]; // [img2 drawInRect:CGRectMake(size1.width/4.0, size1.height/2.5, size1.width/2, size1.width/2)]; [img2 drawInRect:CGRectMake(location.x, location.y, size2.width, size2.height)]; UIImage *newPic = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); return newPic; } é™„ å®˜æ–¹å¯¹äºCIQRCodeGeneratorçš„ä»‹ç» Title: äºŒç»´ç ç”ŸæˆåŠå®šåˆ¶ Date: 2017.12.15 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/wkwebview.html":{"url":"ios/wkwebview.html","title":"WKWebView ä½¿ç”¨åŠæ³¨æ„äº‹é¡¹","keywords":"","body":"WKWebView ä½¿ç”¨åŠæ³¨æ„äº‹é¡¹ WKWebView æ˜¯è‹¹æœæä¾›çš„ç”¨äºåœ¨Appä¸­è¿›è¡Œç½‘é¡µæµè§ˆçš„æ§ä»¶ï¼Œä¸è¿‡åªèƒ½åœ¨ iOS8 åä½¿ç”¨ï¼Œå¦‚æœè¿˜éœ€è¦é€‚é… iOS7ï¼Œé‚£æˆ‘åªèƒ½æ‘†ä¸€å¼ æ— å¥ˆè„¸äº†ã„Ÿ( â–”ï¼Œ â–” )ã„ ä¸ºä»€ä¹ˆä½¿ç”¨è¦ç”¨ WKWebView å®ƒç›¸å¯¹äº UIWebView æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š æ€§èƒ½å’Œç¨³å®šæ€§çš„å¤§å¹…æé«˜ å†…å­˜å ç”¨çš„å‡å°‘ æ”¯æŒæ›´å¤šHTML5ç‰¹æ€§ 60fpsçš„åˆ·æ–°ç‡ä»¥åŠå†…ç½®æ‰‹åŠ¿çš„æ”¯æŒ å¢åŠ äº†æ–°çš„ä»£ç†æ–¹æ³•ï¼Œå¯æ§æ€§æ›´é«˜ æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹ WebKitè‹¹æœå®˜æ–¹é“¾æ¥ å¦‚ä½•ä½¿ç”¨ å¼•å…¥ WebKit è¦æƒ³ä½¿ç”¨WKWebViewï¼Œä¸€å®šè¦å…ˆå¼•å…¥: #import æ·»åŠ  WKWebView // WKUserContentController å¯¹è±¡ä¸º JavaScript æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°†æ¶ˆæ¯å‘é€åˆ° web è§†å›¾ï¼Œå¹¶å°†ç”¨æˆ·è„šæœ¬æ³¨å…¥åˆ° web è§†å›¾ä¸­ã€‚ WKUserContentController *userContentController = [[WKUserContentController alloc] init]; // æ‰§è¡Œ jsï¼Œæ·»åŠ  cookies NSString *js = @\"document.cookie='userId=zhangpeng'\"; WKUserScript * cookieScript = [[WKUserScript alloc] initWithSource:js injectionTime:WKUserScriptInjectionTimeAtDocumentStart forMainFrameOnly:NO]; [userContentController addUserScript:cookieScript]; // ç”¨äºåˆå§‹åŒ– web è§†å›¾çš„é…ç½® WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init]; config.userContentController = userContentController; _config = config; // æ³¨å…¥ JS å¯¹è±¡åç§°ï¼Œå½“ JS é€šè¿‡å¯¹è±¡åç§°æ¥è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ WKScriptMessageHandler ä»£ç†ä¸­æ¥æ”¶åˆ° for (NSString *scriptMessage in self.scriptMessages) { [config.userContentController addScriptMessageHandler:self name:scriptMessage]; } WKWebView *webView = [[WKWebView alloc] initWithFrame:CGRectMake(0, 0, kScreenW, kMainAreaHeightNoTab) configuration:config]; /* UIDelegate: web view çš„ç”¨æˆ·ç•Œé¢ä»£ç†ã€‚ WKUIDelegateç±»æä¾›äº†ä»£è¡¨ç½‘é¡µå‘ˆç°æœ¬åœ°ç”¨æˆ·ç•Œé¢å…ƒç´ çš„æ–¹æ³•ã€‚ */ webView.UIDelegate = self; /* navigationDelegate: web view çš„å¯¼èˆªä»£ç†ã€‚ WKNavigationDelegateåè®®çš„æ–¹æ³•å¸®åŠ©æ‚¨å®ç°åœ¨web viewæ¥å—ã€åŠ è½½å’Œå®Œæˆå¯¼èˆªè¯·æ±‚è¿‡ç¨‹ä¸­è§¦å‘çš„è‡ªå®šä¹‰è¡Œä¸ºã€‚ */ webView.navigationDelegate = self; [self.view addSubview:webView]; _webView = webView; ä»£ç†æ–¹æ³• WKNavigationDelegate WKNavigationDelegate ä¸­åŸºæœ¬éƒ½æ˜¯ç”Ÿå‘½å‘¨æœŸç›¸å…³çš„ä»£ç†ï¼Œä¸‹é¢ä¼šæŒ‰ç…§æ‰§è¡Œé¡ºåºè¿›è¡Œä»‹ç» // 1.æ˜¯å¦å…è®¸è·³è½¬ - (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler{ NSLog(@\"%s\", __func__); decisionHandler(WKNavigationActionPolicyAllow); } // 2.å¼€å§‹åŠ è½½ç½‘é¡µ - (void)webView:(WKWebView *)webView didStartProvisionalNavigation:(WKNavigation *)navigation { NSLog(@\"%s\", __func__); } // 3.çŸ¥é“è¿”å›å†…å®¹ä¹‹åï¼Œæ˜¯å¦å…è®¸åŠ è½½ - (void)webView:(WKWebView *)webView decidePolicyForNavigationResponse:(WKNavigationResponse *)navigationResponse decisionHandler:(void (^)(WKNavigationResponsePolicy))decisionHandler{ NSLog(@\"%s\", __func__); decisionHandler(WKNavigationResponsePolicyAllow); } /// 4.å½“å†…å®¹å¼€å§‹è¿”å›æ—¶è°ƒç”¨ - (void)webView:(WKWebView *)webView didCommitNavigation:(WKNavigation *)navigation { NSLog(@\"%s\", __func__); } // 5.é¡µé¢åŠ è½½å®Œæˆä¹‹åè°ƒç”¨ - (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation { NSLog(@\"%s\", __func__); } // å½“è·³è½¬å¤±è´¥æ—¶è°ƒç”¨ - (void)webView:(WKWebView *)webView didFailNavigation:(WKNavigation *)navigation withError:(NSError *)error { NSLog(@\"%s\", __func__); } // å½“web viewåŠ è½½å†…å®¹å¤±è´¥æ—¶è°ƒç”¨ - (void)webView:(WKWebView *)webView didFailProvisionalNavigation:(WKNavigation *)navigation { NSLog(@\"%s\", __func__); } ä¸‹é¢è¿˜æœ‰å‡ ä¸ªä¸å¸¸ç”¨ä½†æ˜¯è¦çŸ¥é“çš„ä»£ç† //å½“ç”±æœåŠ¡ç«¯è¿›è¡Œé‡å®šå‘æ—¶è§¦å‘ - (void)webView:(WKWebView *)webView didReceiveServerRedirectForProvisionalNavigation:(null_unspecified WKNavigation *)navigation{ NSLog(@\"%s\", __func__); } //è¿›è¡Œè¯ä¹¦éªŒè¯æ—¶è§¦å‘ - (void)webView:(WKWebView *)webView didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition, NSURLCredential * _Nullable))completionHandler { NSLog(@\"%s\", __func__); NSURLCredential *card = [[NSURLCredential alloc]initWithTrust:challenge.protectionSpace.serverTrust]; completionHandler(NSURLSessionAuthChallengeUseCredential, card); } //å½“å› ä¸ºæŸäº›é—®é¢˜ï¼Œå¯¼è‡´webViewè¿›ç¨‹ç»ˆæ­¢æ—¶è§¦å‘ - (void)webViewWebContentProcessDidTerminate:(WKWebView *)webView { NSLog(@\"%s\", __func__); } WKUIDelegate WKUIDelegate ä¸­æˆ‘ä»¬æœ€å¸¸ç”¨çš„å°±æ˜¯è¿™ä¸ª - (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler ä»£ç†äº†ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªä»£ç†ä¸­ï¼Œå°†å‰ç«¯ä¸­çš„ alert() æ›¿æ¢ä¸ºæˆ‘ä»¬è‡ªå·±çš„å¼¹çª—ã€‚ - (void)webView:(WKWebView *)webView runJavaScriptAlertPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(void))completionHandler { UIAlertController *alert = [UIAlertController alertControllerWithTitle:@\"æç¤º\" message:message preferredStyle:UIAlertControllerStyleAlert]; UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@\"ç¡®å®š\" style:UIAlertActionStyleCancel handler:nil]; [alert addAction:cancelAction]; [self presentViewController:alert animated:YES completion:nil]; completionHandler(); } è¿™ä¸ª message å°±æ˜¯å‰ç«¯é€šè¿‡alert()æ–¹æ³•ä¼ é€’çš„å†…å®¹ã€‚ä¸€å®šè¦å†™ä¸Š completionHandler();ï¼Œå¦åˆ™åœ¨æŸäº›æƒ…å†µä¸‹ä¼šé€ æˆCrashï¼Œè¯¦è§ WKWebViewé‚£äº›å‘ã€‚ ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•ï¼Œå’Œä¸Šé¢çš„è•¾ä¸ï¼Œå¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥çœ‹æƒ…å†µä½¿ç”¨ã€‚ - (void)webView:(WKWebView *)webView runJavaScriptConfirmPanelWithMessage:(NSString *)message initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(BOOL result))completionHandler; - (void)webView:(WKWebView *)webView runJavaScriptTextInputPanelWithPrompt:(NSString *)prompt defaultText:(nullable NSString *)defaultText initiatedByFrame:(WKFrameInfo *)frame completionHandler:(void (^)(NSString * _Nullable result))completionHandler; ä¸jsäº¤äº’ å®¢æˆ·ç«¯ä¸ JS äº¤äº’ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š é€šè¿‡ webkit.messageHandlers è¿›è¡Œäº¤äº’ï¼› é€šè¿‡æ‹¦æˆªè·³è½¬åœ°å€è¿›è¡Œäº¤äº’ï¼› ä¸‹é¢æˆ‘ä»¬æ¥åˆ†åˆ«è®²è®²å¦‚ä½•å®ç°ï¼š é€šè¿‡ webkit.messageHandlers è¿›è¡Œäº¤äº’ è¿™ç§æ–¹æ¡ˆéœ€è¦æˆ‘ä»¬å®¢æˆ·ç«¯æå‰åœ¨ç«¯ä¸Šåšäº›å‡†å¤‡ã€‚æˆ‘ä»¬éœ€è¦åœ¨ - (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message ä»£ç†ä¸­å†™å¥½è·¯ç”±æ–¹æ³•ï¼Œç®€å•æ¥è®²å°±æ˜¯ä»€ä¹ˆæ¶ˆæ¯ä½“è¯¥åšä»€ä¹ˆäº‹ã€‚å½“å‰ç«¯åŒå­¦é€šè¿‡ç‰¹å®šæ–¹æ³•è°ƒç”¨åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤ä»£ç†ä¸­æ¥æ”¶åˆ°æ¶ˆæ¯ä½“ï¼Œç„¶åæˆ‘ä»¬æ ¹æ®ä¸åŒçš„æ¶ˆæ¯å†…å®¹ï¼Œè¿›è¡Œä¸åŒçš„æ“ä½œå³å¯ã€‚ - (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message { // æ‰“å°æ‰€ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œåªæ”¯æŒNSNumber, NSString, NSDate, NSArray, NSDictionary, NSNullç±»å‹ if ([message.name isEqualToString:@\"test1\"]) { NSLog(@\"è§¦å‘äº†test1\"); } else if ([message.name isEqualToString:@\"test2\"]) { NSLog(@\"è§¦å‘äº†test2\"); } else { } } é€šè¿‡æŸ¥çœ‹ WKScriptMessageï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° name å’Œ body ä¸¤ä¸ªå±æ€§ï¼Œname å°±æ˜¯æ³¨å…¥çš„ js å¯¹è±¡åç§°ï¼Œbody å°±æ˜¯å‰ç«¯ä¼ ç»™æˆ‘ä»¬çš„å‚æ•°ã€‚æˆ‘ä»¬æ ¹æ®ä¸åŒçš„ name è¿›è¡Œåˆ¤æ–­ï¼Œæ‰§è¡Œä¸åŒçš„æ“ä½œã€‚ä¸¾ä¸ªä¾‹å­ï¼šå½“å‰ç«¯åŒå­¦è°ƒç”¨ test1 æ—¶å°±ä¼šæ‰“å° è§¦å‘äº†test1ï¼Œè€Œè°ƒç”¨ test2 æ—¶å°±ä¼šæ‰“å° è§¦å‘äº†test2ã€‚ è€Œå‰ç«¯åŒå­¦å°±ç®€å•äº†ï¼Œå½“éœ€è¦è°ƒç”¨å®¢æˆ·ç«¯ä¸­çš„æ–¹æ³•æ—¶ï¼Œé€šè¿‡ä¸‹é¢çš„æ–¹å¼è¿›è¡Œè°ƒç”¨åŠä¼ å‚ï¼šwindow.webkit.messageHandlers.å¯¹è±¡.postMessage(å‚æ•°); å¯¹è±¡ï¼šå°±æ˜¯æˆ‘ä»¬åœ¨åˆå§‹åŒ–WKWebViewæ—¶ï¼Œé€šè¿‡addScriptMessageHandler æ³¨å…¥çš„ js å¯¹è±¡åç§°ï¼› å‚æ•°ï¼šå»ºè®®ç”¨jsonè¿›è¡Œå‚æ•°çš„ä¼ é€’ï¼Œä¸¤è¾¹çº¦å®šå¥½çš„è§„èŒƒï¼Œå¯ä»¥æé«˜å¼€å‘çš„æ•ˆç‡ ä¸¾ä¸ªä¾‹å­ï¼š window.webkit.messageHandlers.test1.postMessage({msg: \"test1\"}); é€šè¿‡æ‹¦æˆªè·³è½¬åœ°å€è¿›è¡Œäº¤äº’ æ‹¦æˆªè·³è½¬åœ°å€çš„ç©æ³•ï¼Œå’Œ UIWebView çš„ç©æ³•ä¸€è‡´ï¼Œåœ¨ä»£ç†ä¸­è¿›è¡Œæ‹¦æˆªï¼Œå¦‚æœæœ‰ç‰¹å®šçš„è¡¨ç¤ºï¼Œåˆ™åœæ­¢è·³è½¬ï¼Œç„¶åè§£æ urlï¼Œåšä¸åŒçš„äº‹æƒ…ã€‚ å¸¸è§é—®é¢˜ æ·»åŠ Cookies JS æ³¨å…¥çš„ Cookieï¼Œæ¯”å¦‚ PHP ä»£ç åœ¨ Cookie å®¹å™¨ä¸­å–æ˜¯å–ä¸åˆ°çš„ï¼Œjavascript ä¸­çš„ document.cookie èƒ½è¯»å–åˆ°ï¼Œæµè§ˆå™¨ä¸­ä¹Ÿèƒ½çœ‹åˆ°ã€‚ NSMutableURLRequest æ³¨å…¥çš„ PHP ç­‰åŠ¨æ€è¯­è¨€ç›´æ¥èƒ½ä» $_COOKIE å¯¹è±¡ä¸­è·å–åˆ°ï¼Œä½†æ˜¯ js è¯»å–ä¸åˆ°ï¼Œæµè§ˆå™¨ä¹Ÿçœ‹ä¸åˆ°ã€‚ æ‰€ä»¥æˆ‘ä»¬çš„è§£å†³åŠæ³•æ˜¯ï¼š åœ¨åˆå§‹åŒ–æ—¶ï¼Œé€šè¿‡ js æ³¨å…¥æ·»åŠ  cookies // WKUserContentControllerå¯¹è±¡ä¸ºJavaScriptæä¾›äº†ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°†æ¶ˆæ¯å‘é€åˆ°webè§†å›¾ï¼Œå¹¶å°†ç”¨æˆ·è„šæœ¬æ³¨å…¥åˆ°webè§†å›¾ä¸­ã€‚ WKUserContentController *userContentController = [[WKUserContentController alloc] init]; // æ‰§è¡Œjsï¼Œæ·»åŠ cookies NSString *js = @\"document.cookie='userId=zhangpeng'\"; WKUserScript * cookieScript = [[WKUserScript alloc] initWithSource:js injectionTime:WKUserScriptInjectionTimeAtDocumentStart forMainFrameOnly:NO]; [userContentController addUserScript:cookieScript]; ç»™å‘å‡ºçš„ request ä¹Ÿæ·»åŠ ä¸Š cookies NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url cachePolicy:NSURLRequestReloadIgnoringLocalCacheData timeoutInterval:20.0f]; [request setValue:@\"userId=zhangpeng\" forHTTPHeaderField:@\"Cookie\"]; [_webView loadRequest:request]; WKWebViewå†…å­˜æ³„æ¼ é—®é¢˜æè¿° é€šè¿‡æŒæœ‰ WKWebView åœ¨ dealloc æ–¹æ³•æ‰“æ–­ç‚¹ï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å™¨å¹¶æ²¡æœ‰èµ°åˆ°è¯¥æ–¹æ³•ï¼ŒçŒœæƒ³æ˜¯ç”±äº WKUserContentController å¯¹è±¡çš„ addScriptMessageHandler æ–¹æ³•å¼ºå¼•ç”¨äº†æ§åˆ¶å™¨æœ¬èº«ï¼Œè€Œæ§åˆ¶å™¨åˆå¼ºå¼•ç”¨äº† webViewï¼Œç„¶å webView åˆå¼ºå¼•ç”¨äº† configurationï¼Œ configuration åˆå¼ºå¼•ç”¨äº† WKUserContentController å¯¹è±¡ï¼Œæœ€ç»ˆé€ æˆäº†ä¸èƒ½é‡Šæ”¾ã€‚é€šè¿‡æœç´¢çœ‹åˆ°äº†stackoverflowä¸­çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæœ€ç»ˆè§£å†³äº†é—®é¢˜ã€‚ è§£å†³æ–¹æ¡ˆ 1.åˆ›å»ºä¸€ä¸ªæ–°ç±»WeakScriptMessageDelegate #import #import @interface WeakScriptMessageDelegate : NSObject @property (nonatomic, weak) id scriptDelegate; - (instancetype)initWithDelegate:(id)scriptDelegate; @end @implementation WeakScriptMessageDelegate - (instancetype)initWithDelegate:(id)scriptDelegate { self = [super init]; if (self) { _scriptDelegate = scriptDelegate; } return self; } - (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message { [self.scriptDelegate userContentController:userContentController didReceiveScriptMessage:message]; } @end 2.åœ¨æˆ‘ä»¬ä½¿ç”¨ WKWebView çš„æ§åˆ¶å™¨ä¸­å¼•å…¥æˆ‘ä»¬åˆ›å»ºçš„é‚£ä¸ªç±»ï¼Œå°†æ³¨å…¥ js å¯¹è±¡çš„ä»£ç æ”¹ä¸º: [config.userContentController addScriptMessageHandler:[[WeakScriptMessageDelegate alloc] initWithDelegate:self] name:scriptMessage]; 3.åœ¨ delloc æ–¹æ³•ä¸­é€šè¿‡ä¸‹é¢çš„æ–¹å¼ç§»é™¤æ³¨å…¥çš„ js å¯¹è±¡ [self.config.userContentController removeScriptMessageHandlerForName:scriptMessage]; ä¸Šé¢ä¸‰æ­¥å°±å¯ä»¥è§£å†³æ§åˆ¶å™¨ä¸èƒ½è¢«é‡Šæ”¾çš„é—®é¢˜äº†ã€‚O(âˆ©_âˆ©)O~~ é™„ 1.WKWebViewé‚£äº›å‘ æœ¬æ–‡çš„æ‰€æœ‰ä»£ç å‡ä»¥ä¸Šä¼ è‡³ GitHubï¼Œå¦‚éœ€è‡ªå–ï½ Title: WKWebView ä½¿ç”¨åŠæ³¨æ„äº‹é¡¹ Date: 2017.12.03 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/interview.html":{"url":"ios/interview.html","title":"é¢è¯•å•Šé¢è¯•~","keywords":"","body":"é¢è¯•å•Šé¢è¯•~ ä¸‹é¢ä»£ç æ‰“å° true è¿˜æ˜¯ falseï¼Ÿ id arr = [[NSArray alloc] init]; if ([[arr class] isKindOfClass:[NSArray class]]) { NSLog(@\"true\"); } else { NSLog(@\"false\"); } ç­”æ¡ˆï¼š æ‰“å° false åˆ†æï¼š å› ä¸º NSArray è¿ç”¨äº†ç±»è”Ÿ (Class clusters) çš„è®¾è®¡æ¨¡å¼ï¼Œç±»ç°‡å…¶å®æ˜¯å¯¹ç°å®çš„ä¸€ç§æŠ½è±¡å’Œå°è£…ï¼ŒåŸºäºæŠ½è±¡å·¥å‚æ¨¡å¼ (Abstract Factory Pattern)ã€‚NSNumberã€NSStringã€NSArrayç­‰å‡æ˜¯å¦‚æ­¤ã€‚ å¦‚æƒ³æ›´æ·±å…¥çš„äº†è§£ç›¸å…³æ¦‚å¿µï¼Œå¯ä»¥æŸ¥é˜…ä¸‹é¢ä¸¤ç¯‡æ–‡ç« ï¼š Sunnyå¤§ç¥å†™çš„ã€Šä»NSArrayçœ‹ç±»ç°‡ã€‹ ã€ŠObjective-Cç±»æ—å’Œå·¥å‚æ¨¡å¼ã€‹ ä»£ç åœ¨è¯·è§Demoä¸­çš„ Demo2 ä¸‹é¢ä»£ç æ‰“å°ä»€ä¹ˆå†…å®¹ï¼Ÿ NSMutableSet *mSet = [[NSMutableSet alloc] init]; [mSet addObject:@[@1, @2]]; NSLog(@\"1---%@\", mSet); NSMutableArray *mArr = [[NSMutableArray alloc] initWithObjects:@1, nil]; [mSet addObject:mArr]; NSLog(@\"2---%@\", mSet); [mArr addObject:@2]; NSLog(@\"3---%@\", mSet); [mSet addObject:@[@1, @2]]; NSLog(@\"4---%@\", mSet); ç­”æ¡ˆï¼š åˆ†æï¼š é›†åˆï¼ˆNSMutableSetï¼‰å’Œæ•°ç»„ï¼ˆNSMutableArrayï¼‰æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œéƒ½æ˜¯å­˜å‚¨ä¸åŒçš„å¯¹è±¡çš„åœ°å€ï¼›ä¸è¿‡NSMutableArrayæ˜¯æœ‰åºçš„é›†åˆï¼ŒNSMutableSetæ˜¯æ— åºçš„é›†åˆã€‚ é›†åˆæ˜¯ä¸€ç§å“ˆå¸Œè¡¨ï¼Œè¿ç”¨æ•£åˆ—ç®—æ³•ï¼ŒæŸ¥æ‰¾é›†åˆä¸­çš„å…ƒç´ æ¯”æ•°ç»„é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰é¡ºåºã€‚å½“æ’å…¥ç›¸åŒçš„æ•°æ®æ—¶ï¼Œä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚ ç¬¬ä¸€æ¬¡è¾“å‡ºæ—¶ï¼Œåˆ›å»ºäº†ä¸€ä¸ªåŒ…å« @[@1, @2] çš„ NSMutableSetç¬¬äºŒæ¬¡è¾“å‡ºæ—¶ï¼Œå‘å·²ç»åˆ›å»ºçš„ mSet ä¸­æ·»åŠ ä¸€ä¸ªå¯å˜æ•°ç»„ç¬¬ä¸‰æ¬¡è¾“å‡ºæ—¶ï¼Œå‘å‰é¢åˆ›å»ºçš„ mArr ä¸­æ·»åŠ ä¸€ä¸ª @2ï¼Œå¯ä»¥æˆåŠŸçš„å°† @[@1, @2] è¿™ä¸ª mArr æ·»åŠ åˆ° mSet ä¸­ï¼Œåº”è¯¥æ˜¯å› ä¸º @[@1, @2] æ˜¯ __NSArrayIï¼ŒmArr æ˜¯ __NSArrayM ,ä¸èƒ½æˆåŠŸçš„åˆ¤æ–­ç›¸ç­‰ç¬¬å››æ¬¡è¾“å‡ºæ—¶ï¼Œç”±äºé›†åˆå†…å·²ç»å­˜åœ¨ç›¸åŒçš„ @[@1, @2]ï¼Œè€Œ mSet ä¸­çš„å…ƒç´ æ˜¯ä¸èƒ½é‡å¤çš„ï¼Œæ‰€ä»¥æ²¡æœ‰æˆåŠŸæ·»åŠ  ä»£ç åœ¨è¯·è§Demoä¸­çš„Demo3 Title: é¢è¯•å•Šé¢è¯•~ Date: 2017.11.09 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/double-to-nsstring.html":{"url":"ios/double-to-nsstring.html","title":"double è½¬ NSString å‡ºç°ç²¾åº¦å¼‚å¸¸","keywords":"","body":"double è½¬ NSString å‡ºç°ç²¾åº¦å¼‚å¸¸ åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œåå°å†ç»™æˆ‘ä»¬è¿”å›æ•°å­—ç±»å‹çš„æ•°æ®æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯å¸¦å°æ•°ç‚¹çš„ã€‚æˆ‘ä»¬åªèƒ½ç”¨ float æˆ–è€… double å»æ¥ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦æ˜¾ç¤ºç»™ç”¨æˆ·æ—¶ï¼Œå°±ä¼šé€ æˆç²¾åº¦å¼‚å¸¸ã€‚ é”™è¯¯äº‹ä¾‹ { \"double\": 79.04, } ä¸Šé¢æ˜¯æœåŠ¡ç«¯ç»™æˆ‘ä»¬è¿”å›çš„ responseï¼Œæˆ‘ä»¬å°†å®ƒè½¬ä¸ºå­—å…¸. NSDictionary *dic = [NSJSONSerialization JSONObjectWithData:data options:0 error:nil]; [NSString stringWithFormat:@\"è½¬æ¢é”™è¯¯çš„ç»“æœä¸º%@\", dic[@\"double\"]]; åˆ°è¿™ï¼Œä¹Ÿè®¸æœ‰äººä¼šè¯´ï¼šåœ¨è½¬å­—ç¬¦ä¸²æ—¶ï¼ŒåŠ ä¸Šä¿ç•™çš„ä½æ•°å°±å¯ä»¥äº†ã€‚ä½†å…¶å®è¿™æ ·åšå¹¶ä¸æ˜¯å¤ªåˆç†ã€‚å› ä¸ºæˆ‘ä»¬æ ¹æœ¬ä¸æœåŠ¡ç«¯åå°ä¼šç»™æˆ‘ä»¬è¿”å›ä»€ä¹ˆæ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸çŸ¥é“è¯¥ä¿ç•™å‡ ä½å°æ•°ã€‚åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½é‡‡å–åˆ‡å‰²å­—ç¬¦ä¸²çš„æ–¹å¼å»ä¿ç•™å°æ•°ä½æ•°ã€‚ è§£å†³åŠæ³• é‡‡ç”¨è‹¹æœæä¾›çš„NSDecimalNumberè§£å†³æ­¤é—®é¢˜ã€‚ double d = [dic[@\"double\"] doubleValue]; NSString *dStr = [NSString stringWithFormat:@\"%f\", d]; NSDecimalNumber *dn = [NSDecimalNumber decimalNumberWithString:dStr]; [NSString stringWithFormat:@\"è½¬æ¢æˆåŠŸçš„ç»“æœä¸º%@\", dn.stringValue]; æœ¬æ–‡çš„æ‰€æœ‰ä»£ç å‡ä»¥ä¸Šä¼ è‡³ GitHubï¼Œå¦‚éœ€è‡ªå–~ Title: double è½¬ NSString å‡ºç°ç²¾åº¦å¼‚å¸¸ Date: 2017.09.08 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/widget-development.html":{"url":"ios/widget-development.html","title":"Widget å¼€å‘-å¼€å‘ç¯‡","keywords":"","body":"Widget å¼€å‘-å¼€å‘ç¯‡ å¼€å‘æ­¥éª¤ å»ºè®®å…ˆé˜…è¯»Widget å¼€å‘-é…ç½®ç¯‡ï¼Œå†å¼€å§‹å¼€å‘ï¼Œå› ä¸ºå¼€å‘çš„è¿‡ç¨‹ä¸­éœ€è¦æå‰å‡†å¤‡ä¸€äº›ä¸œè¥¿ åˆ›å»ºæ–°çš„ Targetï¼Œé€‰æ‹© Today Extension åˆ›å»ºå®Œæˆåï¼Œä¼šç”Ÿæˆå¦‚ä¸‹å›¾çš„å‡ ä¸ªæ–‡ä»¶ã€‚ ä¿®æ”¹ Today Extension çš„ Info.plist Bundle display nameWidgetåœ¨é€šçŸ¥æ æ˜¾ç¤ºçš„åç§° NSExtensionå¦‚æœä½ æ˜¯ä½¿ç”¨çº¯ä»£ç è¿›è¡Œå¼€å‘ï¼Œè¯·æŒ‰ç…§ä¸‹é¢è¿›è¡Œæ“ä½œï¼š è¯·åˆ é™¤ NSExtensionMainStoryboard çš„é”®å€¼å¯¹å’Œ MainInterface.storyboard æ–‡ä»¶ è¯·æ·»åŠ  NSExtensionPrincipalClass è¿™ä¸ª keyï¼Œå¹¶å°† value è®¾ç½®ä¸ºæ§åˆ¶å™¨ï¼ˆå¦‚ TodayViewControllerï¼‰ å‡†å¤‡å·¥ä½œéƒ½å·²ç»å®Œæˆï¼Œå¯ä»¥è¿›å…¥å¼€å‘å·¥ä½œ Widget çš„å¼€å‘å¹¶æ²¡æœ‰å¤šéš¾ï¼Œç…§ç€æ–‡æ¡£è¶³ä»¥å¼€å‘å‡ºä¸€ä¸ªå¾ˆæ¼‚äº®çš„ Wiget äº†ï¼Œä¸è¿‡æœ‰äº›ç‰ˆæœ¬å·®å¼‚è¦æ³¨æ„ä¸‹ã€‚ iOS8 åœ¨ iOS8 ä¸­æ²¡æœ‰æŠ˜å å’Œå±•å¼€åŠŸèƒ½ï¼Œé»˜è®¤çš„ Widget é«˜åº¦ä¸º self.preferredContentSize è®¾ç½®çš„é«˜åº¦ã€‚ self.preferredContentSize = CGSizeMake(kScreenW, 100); iOS8 ä¸‹æ‰€æœ‰ç»„ä»¶é»˜è®¤å³ç§»30å•ä½ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•ä¿®æ”¹ä¸Šä¸‹å·¦å³çš„è·ç¦» - (UIEdgeInsets)widgetMarginInsetsForProposedMarginInsets:(UIEdgeInsets)defaultMarginInsets { return UIEdgeInsetsMake(0, 0, 0, 0); } iOS10 iOS10 ä»¥åï¼ŒWidget å¯ç©æ€§å˜å¾—æ›´é«˜äº†ï¼Œæœ‰äº†ä¸¤ç§æ˜¾ç¤ºæ¨¡å¼: NCWidgetDisplayModeCompact // Fixed heightï¼Œé«˜åº¦å›ºå®šï¼Œæœ€ä½é«˜åº¦ä¸º110 NCWidgetDisplayModeExpanded // Variable heightï¼Œé«˜åº¦å¯å˜ // 5sæ¨¡æ‹Ÿå™¨ä¸‹: // NCWidgetDisplayModeCompactæ¨¡å¼ä¸‹:{304, 110} // NCWidgetDisplayModeExpandedæ¨¡å¼ä¸‹:{304, 528} // 6sæ¨¡æ‹Ÿå™¨ä¸‹ï¼š // NCWidgetDisplayModeCompactæ¨¡å¼ä¸‹:{359, 110} // NCWidgetDisplayModeExpandedæ¨¡å¼ä¸‹:{359, 616} è®¾å®šæ˜¾ç¤ºæ¨¡å¼ï¼Œéœ€è¦åœ¨è®¾å®š Size å‰è®¾å®šè¿™ä¸ªå±æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š - (void)viewDidLoad { [super viewDidLoad]; if ([[UIDevice currentDevice] systemVersion].intValue >= 10) { self.extensionContext.widgetLargestAvailableDisplayMode = NCWidgetDisplayModeCompact; // self.extensionContext.widgetLargestAvailableDisplayMode = NCWidgetDisplayModeExpanded; } self.preferredContentSize = CGSizeMake(kScreenW, 100); [self setupUI]; } å½“æ˜¾ç¤ºæ¨¡å¼è®¾ç½®ä¸º NCWidgetDisplayModeExpanded æ—¶ï¼Œç‚¹å‡»æŠ˜å å’Œæ‰“å¼€æ—¶ï¼Œä¼šè§¦å‘ä¸‹é¢è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¯ä»¥ä¿®æ”¹å¯¹åº”çŠ¶æ€çš„é«˜åº¦ã€‚ä¿®æ”¹å®Œæ¯•åï¼Œæ›´æ–°è§†å›¾å³å¯çœ‹åˆ°æœ€æ–°çš„å¸ƒå±€ã€‚ - (void)widgetActiveDisplayModeDidChange:(NCWidgetDisplayMode)activeDisplayMode withMaximumSize:(CGSize)maxSize { if (activeDisplayMode == NCWidgetDisplayModeCompact) { self.preferredContentSize = CGSizeMake(maxSize.width, 110); } else { self.preferredContentSize = CGSizeMake(maxSize.width, 200); } } //åœ¨ä¸‹é¢çš„æ–¹æ³•ä¸­æ›´æ–°è§†å›¾ -(void)widgetPerformUpdateWithCompletionHandler:(void (^)(NCUpdateResult))completionHandler { // NCUpdateResultNewData æ–°çš„å†…å®¹éœ€è¦é‡æ–°ç»˜åˆ¶è§†å›¾ // NCUpdateResultNoData éƒ¨ä»¶ä¸éœ€è¦æ›´æ–° // NCUpdateResultFailed æ›´æ–°è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ completionHandler(NCUpdateResultNoData); } å¯èƒ½ä¼šé‡ä¸Šçš„é—®é¢˜&è§£å†³åŠæ³• ä»£ç å…±äº« ç›®å‰æˆ‘è§åˆ°äº†å››ç§å…±äº«ä»£ç çš„æ–¹æ³•ï¼š å°†ä»£ç æ‰“åŒ…æˆ Frameworkï¼Œç„¶å link åˆ°ä¸» Appå’Œ Widget ä¸­ ï¼ˆæ¨èï¼‰ ä¸æ€•å®‰è£…åŒ…å˜å¤§çš„è¯ï¼Œå¯ä»¥è€ƒè™‘å°†éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“åœ¨ä¸» App å’Œ Widget ä¸­åˆ†åˆ«å¤åˆ¶ä¸€ä»½ ï¼ˆæ¨èï¼‰ å°†éœ€è¦å…±äº«çš„æ–‡ä»¶æŒ‰å›¾ä¸­è¿›è¡Œå‹¾é€‰é…ç½® é€šè¿‡ Pods å¯¼å…¥ï¼Œä¸å¤ªå»ºè®®é€šè¿‡ Pods åˆ†åˆ«å‘ä¸¤ä¸ª Target ä¸­å¯¼å…¥ç¬¬ä¸‰æ–¹åº“ï¼Œå› ä¸ºå¾ˆå®¹æ˜“å‘ç”Ÿä¸€äº›ä¸å¥½å¤„ç†çš„é—®é¢˜ æ•°æ®å…±äº« æ•°æ®å…±äº«æœ‰ä¸¤ç§å¸¸ç”¨çš„æ–¹æ³•ï¼š NSUserDefaultså’Œæˆ‘ä»¬å¸¸ç”¨çš„æ–¹æ³•ä¸€æ ·ï¼Œä¸è¿‡åœ¨åˆ›å»º NSUserDefaults æ—¶ï¼Œéœ€è¦å¡«å†™æˆ‘ä»¬ä¹‹å‰çš„ GroupIDã€‚é€šè¿‡ GroupIDï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œä¸» App å’Œ Widget ä¹‹é—´çš„æ•°æ®å…±äº«äº†ã€‚ // å†™å…¥æ•°æ® NSString *groupID = @\"group.com.aaa.bbb\"; NSUserDefaults *ud = [[NSUserDefaults alloc] initWithSuiteName:groupID];[ud setObject:@\"æˆ‘æ˜¯æµ‹è¯•çš„æ•°æ®\" forKey:@\"test\"]; [ud synchronize]; // è¯»å–æ•°æ® NSString *groupID = @\"group.com.aaa.bbb\"; NSUserDefaults *ud = [[NSUserDefaults alloc] initWithSuiteName:groupID]; NSString *value = [ud objectForKey:@\"test\"]; NSFileManager // å†™å…¥æ•°æ® NSString *groupID = @\"group.com.aaa.bbb\"; NSError *err = nil; NSURL *containerURL = [[NSFileManager defaultManager] containerURLForSecurityApplicationGroupIdentifier:groupID]; containerURL = [containerURL URLByAppendingPathComponent:@\"Library/Caches/test\"]; NSString *value = @\"æˆ‘æ˜¯æµ‹è¯•çš„æ•°æ®\"; BOOL result = [value writeToURL:containerURL atomically:YES encoding:NSUTF8StringEncoding error:&err]; if(result){ NSLog(@\"å†™å…¥æˆåŠŸ\"); } // è¯»å–æ•°æ® NSString *groupID = @\"group.com.aaa.bbb\"; NSError *err = nil; NSURL *containerURL = [[NSFileManager defaultManager] containerURLForSecurityApplicationGroupIdentifier:groupID]; containerURL = [containerURL URLByAppendingPathComponent:@\"Library/Caches/test\"]; NSString *value = [NSString stringWithContentsOfURL:containerURL encoding:NSUTF8StringEncoding error:&err]; æ•°æ®åˆ·æ–° å½“widgetä»å±å¹•ä¸Šæ¶ˆå¤±2så·¦å³ï¼Œå†æ¬¡å‡ºç°åœ¨å±å¹•ä¸­æ—¶ï¼Œéƒ½ä¼šé‡æ–°è°ƒç”¨viewDidLoadæ–¹æ³•ã€‚æ‰€ä»¥æ¯æ¬¡å‡ºç°éƒ½è¯·æ±‚æœ€æ–°æ•°æ®ï¼Œè¿›è¡Œåˆ·æ–°æ“ä½œï¼Œwidgetéƒ½ä¼šé—ªä¸€ä¸‹ï¼Œæ ¹æ®äº§å“éœ€æ±‚ï¼Œå¯ä»¥åšä¸€ä¸‹æ§åˆ¶ï¼› - (void)viewDidLoad { [super viewDidLoad]; } å¦‚æœçŸ­æ—¶é—´å†…è®©Widgeté¢‘ç¹åœ°æ¶ˆå¤±æ˜¾ç¤ºï¼Œé‚£åªä¼šæ‰§è¡ŒviewWillAppearæ–¹æ³•ï¼› - (void)viewWillAppear:(BOOL)animated { [super viewWillAppear:animated]; } æ‰“å¼€ App è®¾ç½® App çš„ URLSchemesï¼Œæ‰“å¼€ APP ä¸»è¦é€šè¿‡ URLScheme æ‰“å¼€å’Œä¼ é€’å‚æ•°å€¼ã€‚ è®¾ç½® URLSchemes æ—¶ï¼Œè¦ç‹¬ç‰¹ä¸€äº›ï¼Œé¿å…ä¸å…¶ä»– App é‡å¤ åœ¨ Widget ä¸­æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œç”¨äºè§¦å‘æ‰“å¼€ App çš„æ“ä½œå’Œä¼ é€’å‚æ•° NSString *schemeString = @\"zhangpeng://actionName?paramName=paramValue\"; [self.extensionContext openURL:[NSURL URLWithString:schemeString] completionHandler:^(BOOL success) { }]; Appdelegate çš„ä»£ç†æ–¹æ³•ä¸­ï¼Œæˆªå– URLï¼Œåšå“åº”å¤„ç†ï¼š // æ‰€æœ‰ç‰ˆæœ¬çš„éƒ½å¯ä»¥ä½¿ç”¨ - (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation { [self appCallbackWithOpenUrl:url]; return YES; } // iOS 8 ä»¥å - (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary *)options { [self appCallbackWithOpenUrl:url]; return YES; } // iOS 7 - (BOOL)application:(UIApplication *)application handleOpenURL:(NSURL *)url { [self appCallbackWithOpenUrl:url]; return YES; } - (void)appCallbackWithOpenUrl:(NSURL *)url{ NSLog(@\"url: %@\", url.host); // é’ˆå¯¹urlè¿›è¡Œä¸åŒçš„æ“ä½œ } Title: Widget å¼€å‘-å¼€å‘ç¯‡ Date: 2017.09.07 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/widget-configuration.html":{"url":"ios/widget-configuration.html","title":"Widget å¼€å‘-é…ç½®ç¯‡","keywords":"","body":"Widget å¼€å‘-é…ç½®ç¯‡ å‰æœŸå‡†å¤‡ ç”³è¯· GroupID Description å¡«å†™è¿™ä¸ª App Group çš„æè¿°ï¼›ID å¡«å†™è¿™ä¸ª App Group çš„æ ‡è¯†ï¼Œå»ºè®®ä»¥ com.{aaa}.{bbb} å‘½åï¼Œå¡«å†™å®Œæ¯•æ—¶ï¼Œä¼šé»˜è®¤åœ¨å‰é¢åŠ ä¸Š group{aaa}: å…¬å¸åå­—{bbb}: Appåå­— åˆ›å»ºå®Œæ¯•ä»¥åï¼Œå¦‚å›¾æ‰€ç¤º å°† group æ·»åŠ åˆ° App ID ä¸­ æœ€åä¸€æ­¥ï¼Œé‡æ–°æ¿€æ´»ä¸‹ Provisioning Profile ç”±äºæ“ä½œè¿‡ App ID äº†ï¼Œéœ€è¦é‡æ–°æ¿€æ´»ä¸‹ Provisioning Profileã€‚è‡³æ­¤ï¼Œå¸å·ç›¸å…³çš„å·¥ä½œä¾¿å®Œæˆäº†ã€‚ é¡¹ç›®é…ç½® ç‚¹å‡»è¿›å…¥ App Target çš„ Capabilities é¡µ æ‰“å¼€ App Groups é€‰é¡¹ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºå·²æœ‰çš„ App Groupsï¼Œå‹¾é€‰ä¸Šé¢åˆ›å»ºçš„ App Group å³å¯ã€‚ ç‚¹å‡»è¿›å…¥ Widget Target çš„ General é¡µ è®¾ç½® Bundle identifier å‘½åè§„åˆ™ï¼šå‰ç¼€è¦åŒ…æ‹¬ä¸»é¡¹ç›®çš„ Bundle Identifierã€‚åç¼€ä¸èƒ½æ˜¯ widget å…³é”®å­—ä¾‹å¦‚ä¸»é¡¹ç›®å¦‚æœæ˜¯ com.aaa.bbbï¼Œé‚£ Widget çš„ Bundle identifier åº”è¯¥æ˜¯ com.aaa.bbb.today æˆ–è€…æ˜¯ com.aaa.bbb.ccc é…ç½®å·²å®Œæˆï¼Œæ¥ä¸‹æ¥è¯·çœ‹å¼€å‘ç¯‡Widget å¼€å‘-å¼€å‘ç¯‡ Title: Widget å¼€å‘-é…ç½®ç¯‡ Date: 2017.08.29 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ios/read-pdf-with-cryptographic-seal.html":{"url":"ios/read-pdf-with-cryptographic-seal.html","title":"è¯»å–ä¸€ä¸ªå¸¦æœ‰åŠ å¯†å°ç« çš„ PDF","keywords":"","body":"è¯»å–ä¸€ä¸ªå¸¦æœ‰åŠ å¯†å°ç« çš„ PDF ä¹‹å‰å…¬å¸åœ¨å’Œä¸€ä¸ªåšç”µå­ç­¾ç« çš„å…¬å¸åˆä½œæ—¶ï¼Œä»–ä»¬ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä»½å¸¦æœ‰åŠ å¯†å°ç« çš„ PDFã€‚åœ¨æµ‹è¯•ä¸­å‘ç°ï¼Œä¸è®ºé€šè¿‡ UIWebView æˆ–è€… WKWebView æ‰“å¼€ï¼ŒPDF ä¸­çš„åŠ å¯†å°ç« éƒ½ä¸èƒ½æˆåŠŸå±•ç¤ºã€‚ é€šè¿‡ä¸æ–­çš„è°ƒç ”åŠå°è¯•ï¼Œæœ€ç»ˆæˆåŠŸå±•ç¤ºå‡ºäº† PDF ä¸­çš„åŠ å¯†å°ç« ã€‚ç°åœ¨æŠŠæ–¹æ³•åˆ†äº«ç»™å¤§å®¶ï½ æœ¬æ–‡çš„æ‰€æœ‰ä»£ç å‡ä»¥ä¸Šä¼ è‡³ GitHubï¼Œå¦‚éœ€è‡ªå–~ å®ç°æ­¥éª¤ å® ä¸ºäº†æ–¹ä¾¿æˆ‘è¿›è¡Œä»£ç ç¼–å†™ï¼Œæˆ‘ä»¬æå‰è®¾ç½®å‡ ä¸ªå®ï¼š #define kScreenW [UIScreen mainScreen].bounds.size.width #define kScreenH [UIScreen mainScreen].bounds.size.height #define DOCUMENTS_DIRECTORY [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject] è¯¦ç»†ä»£ç  æœ¬æ–‡ä¸­çš„ Demo æ˜¯ä»¥ WKWebView è¿›è¡Œå¼€å‘ï¼Œå¦‚æœæ‚¨éœ€è¦ä½¿ç”¨ UIWebViewï¼Œè¯·è‡ªè¡Œä¿®æ”¹ã€‚ æ·»åŠ  WKWebView ```objc import WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init]; WKUserContentController *wkUController = [[WKUserContentController alloc]init]; config.userContentController = wkUController; // æ³¨å…¥JSå¯¹è±¡åç§°AppModelï¼Œå½“JSé€šè¿‡AppModelæ¥è°ƒç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨WKScriptMessageHandlerä»£ç†ä¸­æ¥æ”¶åˆ° // æ­¤å¤„æ˜¯ä¸ºäº†å¾—åˆ°PDFåŠ è½½å®Œæˆæˆ–å¤±è´¥çš„åé¦ˆ [config.userContentController addScriptMessageHandler:self name:@\"AppModel\"]; // æ”¹å˜é¡µé¢å†…å®¹å®½åº¦ï¼Œé€‚é…å±å¹•å¤§å° NSString *js = @\"var meta = document.createElement('meta'); meta.setAttribute('name', 'viewport'); meta.setAttribute('content', 'width=device-width'); document.getElementsByTagName('head')[0].appendChild(meta);\"; WKUserScript *wkUserScript = [[WKUserScript alloc] initWithSource:js injectionTime:WKUserScriptInjectionTimeAtDocumentEnd forMainFrameOnly:YES]; [wkUController addUserScript:wkUserScript]; WKWebView *webView = [[WKWebView alloc] initWithFrame:CGRectMake(0, 0, kScreenW, kScreenH - 64) configuration:config]; webView.backgroundColor = [UIColor whiteColor]; webView.UIDelegate = self; webView.navigationDelegate = self; [self.view addSubview:webView]; ``` ä¸‹è½½PDF NSString *urlStr = @\"http://img.zhangpeng.site/jianLi_zhangpeng.pdf\"; NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:urlStr]]; NSURLSession *session = [NSURLSession sharedSession]; NSURLSessionDataTask *sessionDataTask = [session dataTaskWithRequest:request completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) { NSLog(@\"ä»æœåŠ¡å™¨è·å–åˆ°pdfæ•°æ®\"); //å¯¹ä»æœåŠ¡å™¨è·å–åˆ°çš„æ•°æ®dataè¿›è¡Œç›¸åº”çš„å¤„ç†ï¼š dispatch_async(dispatch_get_main_queue(), ^{ NSString *path = [DOCUMENTS_DIRECTORY stringByAppendingPathComponent:@\"contract.pdf\"]; NSFileManager *fm = [NSFileManager defaultManager]; if ([fm fileExistsAtPath:path]) { [fm removeItemAtPath:path error:nil]; } BOOL success = [data writeToFile:path atomically:YES]; if (success) { NSLog(@\"ä¿å­˜æˆåŠŸ\"); NSURL *baseURL = [NSURL fileURLWithPath:[self getHtmlBasePath]]; NSString *path = [self getHtmlPath]; NSString *htmlStr = [NSString stringWithContentsOfFile:path encoding:NSUTF8StringEncoding error:nil]; [self.webView loadHTMLString:htmlStr baseURL:baseURL]; } }); }]; [sessionDataTask resume]; æ‰“å¼€ PDF - (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation { [self loadPDF]; } - (void)loadPDF { NSString *path = [DOCUMENTS_DIRECTORY stringByAppendingPathComponent:@\"contract.pdf\"]; NSData *data = [NSData dataWithContentsOfFile:path options:NSDataReadingMappedAlways error:nil]; NSString *paraStr = [data base64EncodedStringWithOptions:NSDataBase64EncodingEndLineWithCarriageReturn]; NSString *js = [NSString stringWithFormat:@\"loadMyJS('%@')\",paraStr]; //NSLOG(@\"%@\",method); [self.webView evaluateJavaScript:js completionHandler:^(id _Nullable response, NSError * _Nullable error) { if (error) { NSLog(@\"%@\", error); NSLog(@\"å½“å‰æ‰‹æœºç³»ç»Ÿç‰ˆæœ¬è¾ƒä½ï¼Œä¸æ”¯æŒæŸ¥çœ‹ï¼Œè¯·å‡çº§ç³»ç»Ÿæˆ–è€…åˆ°PCç«¯æŸ¥çœ‹ã€‚\"); } }]; } åœ¨ WKWebView çš„ä»£ç†ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ PDF æ˜¯å¦æˆåŠŸæ‰“å¼€ï¼Œ - (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message { if ([message.name isEqualToString:@\"AppModel\"]) { //å’Œcustomview.jsæ–‡ä»¶äº¤äº’ï¼Œjsè°ƒocçš„ä»£ç  // æ‰“å°æ‰€ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œåªæ”¯æŒNSNumber, NSString, NSDate, NSArray, NSDictionary, and NSNullç±»å‹ if ([message.body[@\"code\"] isEqualToString:@\"00000\"]) { NSLog(@\"%@\", message.body[@\"msg\"]); } } } PDF æ˜¯å¦è¯»å–æˆåŠŸæ˜¯åœ¨ customview.js ä¸­é€šçŸ¥æ§åˆ¶å™¨çš„ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„ä»£ç ã€‚ function handlePages(page) { //create new canvas var viewport = page.getViewport(1); var canvas = document.createElement( \"canvas\" ); canvas.style.display=\"block\"; var context = canvas.getContext('2d'); canvas.height = viewport.height; canvas.width = viewport.width; //render page page.render({canvasContext: context, viewport: viewport}); //add canvas to body document.body.appendChild(canvas); //render new page pageNum++; if(pdfDoc!=null && pageNum åˆ°æ­¤ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åœ¨ iOS9 ä»¥ä¸Šçš„ç³»ç»Ÿä¸­ï¼ŒæˆåŠŸæ‰“å¼€å¸¦åŠ å¯†å°ç« çš„ PDFã€‚è‡³äº iOS8 ä¸ºä»€ä¹ˆä¸è¡Œå‘¢ï¼Ÿä¸‹é¢ç»™å¤§å®¶è®²è§£åŠæä¾›æ–¹æ¡ˆã€‚ åœ¨ iOS8 ä¸Šï¼Œhtml åŠ js æ–‡ä»¶çš„è·¯å¾„ä¸º tmp ç›®å½•ä¸‹ï¼ŒiOS9 åŠä»¥ä¸Šåˆ™åœ¨ bundle é‡Œã€‚ è§£å†³æ–¹æ¡ˆï¼š - (NSString*)getHtmlBasePath { NSString *basePath = @\"\"; if ([[[UIDevice currentDevice]systemVersion]floatValue] Title: è¯»å–ä¸€ä¸ªå¸¦æœ‰åŠ å¯†å°ç« çš„ PDF Date: 2017.08.29 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"leetcode/two-sum.html":{"url":"leetcode/two-sum.html","title":"1. ä¸¤æ•°ä¹‹å’Œ","keywords":"","body":"ä¸¤æ•°ä¹‹å’Œ \bé¢˜ç›®è¿æ¥ï¼šä¸¤æ•°ä¹‹å’Œ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚ ç¤ºä¾‹: ç»™å®š nums = [2, 7, 11, 15]ï¼Œtarget = 9 å› ä¸º nums[0] + nums[1] = 2 + 7 = 9ï¼Œæ‰€ä»¥è¿”å› [0, 1] è§£é¢˜æ€è·¯ åˆ›å»ºä¸€ä¸ª mapï¼Œç”¨äºå­˜å‚¨æ•°ç»„ä¸­æ•´æ•°åŠä¸‹æ ‡çš„å¯¹åº”å…³ç³»ï¼Œä»¥æ•´æ•°ä¸º keyï¼Œä¸‹æ ‡ä¸º value ä½¿ç”¨ for å¾ªç¯éå†ç»™å®šçš„æ•°ç»„ ç”¨ç›®æ ‡å€¼å‡å»æ¯æ¬¡éå†çš„ç»“æœï¼Œç„¶ååˆ¤æ–­åšå‡ç»“æœæ˜¯ä¸æ˜¯ä¸Šé¢ map ä¸­çš„ key: æ˜¯è¿”å›å½“å‰éå†çš„ indexï¼Œä»¥åŠä¸Šé¢ map ä¸­ä»¥åšå‡ç»“æœä¸º key å¯¹åº”çš„ value å¦ä»¥å½“å‰éå†å¾—åˆ°çš„æ•´æ•°ä¸º keyï¼Œindex ä¸º value ä¿å­˜åˆ°ä¸Šé¢ map ä¸­ ä»£ç  package main import \"fmt\" func main() { result := twoSum([]int{2, 7, 11, 15}, 9) fmt.Println(result) } func twoSum(nums []int, target int) []int { tempMap := make(map[int]int) for index, value := range nums { result := target - value if _, ok := tempMap[result]; ok { return []int{index, tempMap[result]} } else { tempMap[value] = index } } return nil } Title: ä¸¤æ•°ä¹‹å’Œ Date: 2019.11.20 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"leetcode/valid-parentheses.html":{"url":"leetcode/valid-parentheses.html","title":"2. æœ‰æ•ˆçš„æ‹¬å·","keywords":"","body":"æœ‰æ•ˆçš„æ‹¬å· \bé¢˜ç›®è¿æ¥ï¼šæœ‰æ•ˆçš„æ‹¬å· ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']' çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚ æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚ å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚ æ³¨æ„ç©ºå­—ç¬¦ä¸²å¯è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: \"()\"è¾“å‡º: true ç¤ºä¾‹ 2: è¾“å…¥: \"()[]{}\"è¾“å‡º: true ç¤ºä¾‹ 3: è¾“å…¥: \"(]\"è¾“å‡º: false ç¤ºä¾‹ 4: è¾“å…¥: \"([)]\"è¾“å‡º: false ç¤ºä¾‹ 5: è¾“å…¥: \"{[]}\"è¾“å‡º: true è§£é¢˜æ€è·¯ ç»™å®šä¸€æ®µåªåŒ…æ‹¬ '('ï¼Œ')'ï¼Œ'{'ï¼Œ'}'ï¼Œ'['ï¼Œ']' çš„å­—ç¬¦ä¸²ä¸­ï¼Œå‡ºç°äº†ä¸€æ¬¡å·¦ä¾§æ‹¬å·ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡å‡ºç°çš„å³ä¾§æ‹¬å·å¦‚æœæ˜¯ä¸ä¹‹å¯¹åº”çš„ï¼Œè¾“å‡º trueï¼Œå¦åˆ™è¾“å‡º falseã€‚å­—ç¬¦ä¸²æ˜¯ç©ºæ—¶ï¼Œä¹Ÿè¦è¾“å‡º trueã€‚ ä½¿ç”¨ä¸€ä¸ª map ä¿å­˜æ‹¬å·çš„å¯¹åº”å…³ç³»ã€‚ åˆ›å»ºä¸€ä¸ªå®¹å™¨ç”¨äºä¿å­˜å­—ç¬¦ä¸²ä¸­çš„å·¦ä¾§æ‹¬å·ã€‚ éå†å­—ç¬¦ä¸²ï¼Œæ¯é‡åˆ°ä¸€ä¸ªå·¦ä¾§æ‹¬å·ï¼Œå°±å°†è¯¥æ‹¬å·æ”¾å…¥å®¹å™¨ä¸­ã€‚ å¦‚æœé‡åˆ°çš„ç¬¦å·æ˜¯å³ä¾§æ‹¬å·ï¼Œåˆ™åˆ¤æ–­å®¹å™¨Aä¸­æœ€åä¸€æ¬¡æ·»åŠ çš„å·¦ä¾§æ‹¬å·ï¼Œæ˜¯å¦æ˜¯ä¸ä¹‹å¯¹åº”çš„ï¼šå¦‚æœæ˜¯ï¼Œåˆ™ä»å®¹å™¨ä¸­ç§»é™¤æœ€åä¸€æ¬¡æ·»åŠ çš„å·¦ä¾§æ‹¬å·ï¼Œç„¶åç»§ç»­æ‰§è¡Œï¼›å¦‚æœä¸æ˜¯ï¼Œåˆ™ç›´æ¥è¿”å› falseã€‚ éå†ç»“æŸåï¼Œå¦‚æœå®¹å™¨ä¸­æ•°æ®çš„ä¸ªæ•°ä¸º 0ï¼Œé‚£ä¹ˆè¿”å› true ã€‚æœ‰ä¸¤ç§æƒ…å†µä¼šå¾—åˆ° true ã€‚ å› ä¸ºå¦‚æœç»™å®šå­—ç¬¦ä¸²é•¿åº¦ä¸º 0ï¼Œåˆ™å®¹å™¨ä¸­æ•°æ®çš„ä¸ªæ•°ä¸º 0ï¼Œé‚£ä¹ˆåº”è¯¥è¾“å‡º true ã€‚ å·¦å³æ‹¬å·ä¸ºæˆå¯¹å‡ºç°ï¼Œæœ€åå®¹å™¨ä¸­çš„æ•°æ®å…¨è¢«ç§»é™¤äº†ï¼Œä¹Ÿåº”è¯¥è¾“å‡º true ã€‚ ä»£ç  package main import \"fmt\" func main() { fmt.Println(isValid(\"()\")) } func isValid(s string) bool { symbolMap := map[string]string { \"(\": \")\", \"[\": \"]\", \"{\": \"}\", } stack := NewStack() for _, val := range s { character := string(val) if rightSymbol := symbolMap[character]; rightSymbol != \"\" { stack.Push(character) } else if symbolMap[stack.Pop()] != character { return false } } return 0 == stack.Length() } type Stack struct { data []string } func NewStack() *Stack { return &Stack{} } func (s *Stack) Push(item string) { s.data = append(s.data, item) } func (s *Stack) Pop() string { if s.Length() == 0 { return \"\" } else { lastCharacter := s.data[s.Length()-1] s.data = s.data[0:s.Length()-1] return lastCharacter } } func (s *Stack) Length () int { return len(s.data) } Title: æœ‰æ•ˆçš„æ‹¬å· Date: 2019.11.09 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"mac/update-git-version.html":{"url":"mac/update-git-version.html","title":"å‡çº§ Git ç‰ˆæœ¬","keywords":"","body":"Mac å‡çº§ Git ç‰ˆæœ¬ ä¸å¹ç‰›çš„è¯´ï¼Œè¿™ç¯‡æ–‡ç« ç»å¯¹æ˜¯ç›®å‰ç½‘ä¸Šæœ€ç®€å•çš„ Git å‡çº§æ•™ç¨‹äº† å®‰è£… Homebrew Homebrew æ˜¯ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯å°†è½¯ä»¶åŒ…å®‰è£…åˆ°è‡ªå·±çš„ç›®å½•ä¸­ï¼Œç„¶åå°†å…¶æ–‡ä»¶ç¬¦å·é“¾æ¥åˆ° /usr/localã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·è‡ªè¡Œè¿›å…¥å®˜ç½‘æŸ¥çœ‹ã€‚ åœ¨å°†ä¸‹é¢ä»£ç å¤åˆ¶è¿›ç»ˆç«¯ï¼Œç‚¹å‡»å›è½¦ï¼Œç„¶åæ‰“å¼€é›¶é£Ÿï¼Œè¾¹åƒè¾¹ç­‰å°±å¥½ã€‚ /usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\" å‡çº§ git å®‰è£…æœ€æ–°ç‰ˆçš„ git brew install git å½“çœ‹åˆ°ä¸‹é¢è¾“å‡ºæ—¶ï¼Œè¯´æ˜ git å·²ç»å®‰è£…å®Œæˆï¼š Already downloaded: /Users/zhangpeng/Library/Caches/Homebrew/downloads/c5f94c257b885992f680bbe3c2b8ec009e8856aefebac2cc1fb6608d7f006152--git-2.20.1.mojave.bottle.2.tar.gz ==> Pouring git-2.20.1.mojave.bottle.2.tar.gz ==> Caveats Bash completion has been installed to: /usr/local/etc/bash_completion.d zsh completions and functions have been installed to: /usr/local/share/zsh/site-functions Emacs Lisp files have been installed to: /usr/local/share/emacs/site-lisp/git ==> Summary ğŸº /usr/local/Cellar/git/2.20.1: 1,528 files, 41.3MB æ”¹å˜é»˜è®¤ Git æŒ‡å‘ åœ¨ç»ˆç«¯ä¸­æŸ¥çœ‹æˆ‘ä»¬çš„ git æŒ‡å‘å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚ âœ ~ which git /usr/bin/git âœ ~ git --version git version 2.17.2 (Apple Git-113) æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ brew link å°† git æŒ‡å‘æˆ‘ä»¬é€šè¿‡ Homebrew å®‰è£…çš„ git âœ ~ brew link git --overwrite Warning: Already linked: /usr/local/Cellar/git/2.20.1 To relink: brew unlink git && brew link git link æˆåŠŸåï¼Œé€€å‡ºç»ˆç«¯åï¼Œå†æ¬¡æ‰“å¼€ã€‚ç„¶åæŸ¥çœ‹ git æŒ‡å‘å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚ âœ ~ which git /usr/local/bin/git âœ ~ git --version git version 2.20.1 å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„ git ç‰ˆæœ¬å·²ç»å‡çº§åˆ°æœ€æ–°ç‰ˆäº†ã€‚ Title: Mac å‡çº§ Git ç‰ˆæœ¬ Date: 2019.01.16 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"mac/install-charles-certificate.html":{"url":"mac/install-charles-certificate.html","title":"Charles å®‰è£…è¯ä¹¦","keywords":"","body":"Charles å®‰è£…è¯ä¹¦ Charles æ˜¯ä»€ä¹ˆ Charles æ˜¯ä¸€ä¸ª HTTP ä»£ç†æœåŠ¡å™¨, HTTP ç›‘è§†å™¨,åè½¬ä»£ç†æœåŠ¡å™¨ï¼Œå½“æµè§ˆå™¨è¿æ¥ Charles çš„ä»£ç†è®¿é—®äº’è”ç½‘æ—¶ï¼ŒCharles å¯ä»¥ç›‘æ§æµè§ˆå™¨å‘é€å’Œæ¥æ”¶çš„æ‰€æœ‰æ•°æ®ã€‚å®ƒå…è®¸ä¸€ä¸ªå¼€å‘è€…æŸ¥çœ‹æ‰€æœ‰è¿æ¥äº’è”ç½‘çš„ HTTP é€šä¿¡ï¼Œè¿™äº›åŒ…æ‹¬ request, response å’Œ HTTP headersï¼ˆåŒ…å«cookiesä¸cachingä¿¡æ¯ï¼‰ã€‚ Charles èƒ½åšä»€ä¹ˆ æŠ“å– http å’Œ https çš„è¯·æ±‚å’Œå“åº”ï¼Œè¿™æ˜¯æœ€å¸¸ç”¨çš„ã€‚ é‡å‘ç½‘ç»œè¯·æ±‚ï¼Œæ–¹ä¾¿åç«¯è°ƒè¯•ã€‚ ä¿®æ”¹ç½‘ç»œè¯·æ±‚å‚æ•°ï¼ˆå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€çš„æ—¶å€™ï¼Œå¯ä»¥ä¿®æ”¹åå†è½¬å‘å‡ºå»ï¼‰ã€‚ ç½‘ç»œè¯·æ±‚çš„æˆªè·å’ŒåŠ¨æ€ä¿®æ”¹ã€‚ æ”¯æŒæ¨¡æ‹Ÿæ…¢é€Ÿç½‘ç»œï¼Œä¸»è¦æ˜¯æ¨¡ä»¿æ‰‹æœºä¸Šçš„2G/3G/4Gçš„è®¿é—®æµç¨‹ã€‚ æ”¯æŒæœ¬åœ°æ˜ å°„å’Œè¿œç¨‹æ˜ å°„ï¼Œæ¯”å¦‚ä½ å¯ä»¥æŠŠçº¿ä¸Šèµ„æºæ˜ å°„åˆ°æœ¬åœ°æŸä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿çš„å¤„ç†ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹çš„bugå’Œçº¿ä¸Šè°ƒè¯•ï¼ˆç½‘ç»œçš„cssï¼Œjsç­‰èµ„æºç”¨çš„æ˜¯æœ¬åœ°ä»£ç ï¼Œè¿™äº›ä½ å¯ä»¥æœ¬åœ°éšä¾¿ä¿®æ”¹ï¼Œæ•°æ®ä¹‹ç±»çš„éƒ½æ˜¯çº¿ä¸Šçš„ç¯å¢ƒï¼Œæ–¹é¢åœ¨çº¿è°ƒè¯•ï¼‰ã€‚ å¯ä»¥æŠ“æ‰‹æœºç«¯è®¿é—®çš„èµ„æºï¼ˆå¦‚æœæ˜¯é…ç½®HOSTçš„ç¯å¢ƒï¼Œæ‰‹æœºå¯ä»¥å€Ÿç”¨hosté…ç½®è¿›å…¥æµ‹è¯•ç¯å¢ƒï¼‰ã€‚ å®‰è£…è¯ä¹¦ é€šè¿‡èœå•æ‹¦ä¸­çš„é€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥å®‰è£…æ•´æ•°ï¼š ç»™ PC å®‰è£…è¯ä¹¦ å®‰è£…è¯ä¹¦ Help -> SSL Proxying -> Install Charles Root Certificate åœ¨å¼¹æ¡†ä¸­ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µé€‰æ‹©å¯¹åº”çš„é’¥åŒ™ä¸² ä¿¡ä»»è¯ä¹¦ è¿›å…¥èœå•ï¼Œé€‰æ‹©é’¥åŒ™ä¸²è®¿é—®ï¼Œåœ¨æœç´¢æ¡†ä¸­æœç´¢ Charles ï¼Œæ‰¾åˆ° Charles Proxy CAã€‚åŒå‡»æ‰“å¼€è¯ä¹¦çš„ä¿¡æ¯ç•Œé¢ï¼Œå°†çº¢æ¡†ä¸­çš„é€‰é¡¹æ”¹ä¸ºå§‹ç»ˆä¿¡ä»»ã€‚ ç»™ iOS æ¨¡æ‹Ÿå™¨å®‰è£…è¯ä¹¦ å®‰è£…è¯ä¹¦ Help -> SSL Proxying -> Install Charles Root Certificate in iOS Simulators ä¿¡ä»»è¯ä¹¦ Settings -> General -> About -> Certificate Trust Settings æ‰“å¼€ iOS Simulators çš„è¯ä¹¦ä¿¡ä»»é€‰é¡¹ ç»™æ‰‹æœºå®‰è£…è¯ä¹¦ å®‰è£…è¯ä¹¦ Help -> SSL Proxying -> Install Charles Root Certificate on a Mobile Device or Remote Broswer å°†æ‰‹æœºå’Œç”µè„‘éƒ½è¿æ¥åˆ°åŒä¸€æ— çº¿å±€åŸŸç½‘ï¼Œè¿›å…¥æ— çº¿å±€åŸŸç½‘è®¾ç½®ï¼Œæ‰‹åŠ¨è®¾ç½®ä»£ç† æŒ‰ç…§æç¤ºæ¡†ä¸­çš„æç¤º, åœ¨æ— çº¿ç½‘è®¾ç½®ä¸­ï¼Œå°†ä»£ç†æ”¹ä¸ºæ‰‹åŠ¨è®¾ç½®ï¼ŒæŒ‰å›¾ä¸­æ‰€ç¤ºå¡«å†™ xxx.xx.xxx.xxx:xxxx ä½¿ç”¨æ‰‹æœºæµè§ˆå™¨è®¿é—® chls.pro/sslï¼ŒæŒ‰ç…§æç¤ºå®‰è£…è¯ä¹¦ ä¿¡ä»»è¯ä¹¦ è®¾ç½® -> é€šç”¨ -> å…³äºæœ¬æœº -> è¯ä¹¦ä¿¡ä»»è®¾ç½® æ‰“å¼€åˆšåˆšå®‰è£…çš„è¯ä¹¦çš„ä¿¡ä»»é€‰é¡¹ Title: Charles å®‰è£…è¯ä¹¦ Date: 2019.01.02 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"mac/a-better-terminal.html":{"url":"mac/a-better-terminal.html","title":"iTerm2 ä¸€ä¸ªæ›´å¥½ç”¨çš„ç»ˆç«¯","keywords":"","body":"iTerm2 ä¸€ä¸ªæ›´å¥½ç”¨çš„ç»ˆç«¯ æœ¬æ–‡æ„å›¾æ˜¯ç»™ç»ˆç«¯å°ç™½æä¾›ä¸€ä¸ª æ•ˆ(fang)ç‡(bian)æ›´(zhuang)é«˜(bi) çš„ç»ˆç«¯ä½¿ç”¨æ–¹å¼ã€‚ å®‰è£… iTerm2 ä¸‹è½½iTerm2 è¿›è¡Œå¸¸è§„å®‰è£… æ(kai)é«˜(shi)æ•ˆ(zhuang)ç‡(bi)çš„æ–¹å¼ å‘½ä»¤è¡Œå·¥å…· oh-my-zsh oh-my-zsh æ˜¯ä»€ä¹ˆ oh-my-zshæ˜¯ä¸€æ¬¾ç¤¾åŒºé©±åŠ¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ­£å¦‚å®ƒçš„ä¸»é¡µä¸Šè¯´çš„ï¼Œoh-my-zshæ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ã€‚å®ƒåŸºäºzshå‘½ä»¤è¡Œï¼Œæä¾›äº†ä¸»é¢˜é…ç½®ï¼Œæ’ä»¶æœºåˆ¶ï¼Œå·²ç»å†…ç½®çš„ä¾¿æ·æ“ä½œã€‚ç»™æˆ‘ä»¬ä¸€ç§å…¨æ–°çš„æ–¹å¼ä½¿ç”¨å‘½ä»¤è¡Œã€‚ oh-my-zshè¿™ä¸ªåå­—å¬èµ·æ¥å°±å¾ˆæœ‰æ„æ€ï¼Œå®ƒæ˜¯åŸºäºzshå‘½ä»¤è¡Œçš„ä¸€ä¸ªæ‰©å±•å·¥å…·é›†ï¼Œæä¾›äº†ä¸°å¯Œçš„æ‰©å±•åŠŸèƒ½ã€‚ oh-my-zshåªæ˜¯ä¸€ä¸ªå¯¹zshå‘½ä»¤è¡Œç¯å¢ƒçš„é…ç½®åŒ…è£…æ¡†æ¶ï¼Œä½†å®ƒä¸æä¾›å‘½ä»¤è¡Œçª—å£ï¼Œæ›´ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„APPã€‚ è¯¦ç»†ä»‹ç»å¯ä»¥çœ‹å®ƒçš„ä¸»é¡µoh-my-zshã€‚ oh-my-zsh æ€ä¹ˆå®‰è£… // Via curl sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\" // Via wget sh -c \"$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)\" oh-my-zsh ä¸ªæ€§åŒ–é…ç½® æ›´æ¢è‡ªå·±å–œæ¬¢ä¸»é¢˜ï¼Œå¯ä»¥ç™¾åº¦æ‰¾é…ç½®ä¹Ÿå¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„ä¸»é¢˜1ã€å®˜æ–¹æä¾›çš„ä¸»é¢˜2 å®‰è£…æ’ä»¶ï¼Œé€šè¿‡å®‰è£…æ’ä»¶ä½¿ oh-my-zsh æ›´åŠ å¼ºå¤§ã€‚å®˜æ–¹æ’ä»¶1ã€å®˜æ–¹æ’ä»¶2ï¼Œæˆ‘è¿™è¾¹å¸¸ç”¨çš„æœ‰ä¸€ä¸‹å‡ ä¸ªï¼š zsh-syntax-highlighting - å‘½ä»¤é«˜äº® z - å¿«é€Ÿè·³è½¬ä¹‹å‰å·²ç»è¿›å…¥è¿‡çš„è·¯å¾„ï¼Œä¼šæ ¹æ®é¢‘ç‡è¿›è¡Œæƒé‡è°ƒæ•´ å‘½ä»¤é«˜äº® å‘½ä»¤è¡Œä¸­çš„å‘½ä»¤é«˜äº®æ˜¯é€šè¿‡zsh-syntax-highlightingå®ç°ï¼Œå®‰è£… zsh-syntax-highlightingçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹ Install zsh-syntax-highlighting å¦‚æœæ‚¨å·²ç»å®‰è£…äº†oh-my-zshï¼Œå¯ä»¥ç›´æ¥æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤å®‰è£…ï¼š å°† zsh-syntax-highlighting å…‹éš†åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ // Clone this repository in 'oh-my-zsh's plugins directory git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting åœ¨~/.zshrcä¸­çš„æ’ä»¶åˆ—è¡¨ä¸­æ·»åŠ æ’ä»¶ // Activate the plugin in `~/.zshrc` plugins=( [plugins...] zsh-syntax-highlighting) ç¼–è¯‘ ~/.zshrc åå³å¯çœ‹åˆ°æ”¹å˜ // Source `~/.zshrc` to take changes into account source ~/.zshrc è®© iTerm2 å˜çš„è‰²å½©ç¼¤çº· è®© iTerm2 æ˜¯é€šè¿‡ coreutils å®ç°ã€‚ å®‰è£… coreutils // é€šè¿‡brewå®‰è£… `coreutils` brew install xz coreutils ç”Ÿæˆé¢œè‰²å®šä¹‰æ–‡ä»¶ // ç”Ÿæˆé¢œè‰²å®šä¹‰æ–‡ä»¶ gdircolors --print-database > ~/.dir_colors æ‰“å¼€ ~/.zshrcï¼Œåœ¨æ‚¨å–œæ¬¢çš„ä½ç½®æ·»åŠ ä¸‹é¢ä»£ç  if brew list | grep coreutils > /dev/null ; then PATH=\"$(brew --prefix coreutils)/libexec/gnubin:$PATH\" alias ls='ls -F --show-control-chars --color=auto' eval `gdircolors -b $HOME/.dir_colors` fi ç¼–è¯‘ä¸€ä¸‹ ~/.zshrc å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº† // source ~/.zshrc source ~/.zshrc é™„ iTerm2 åˆ©ç”¨Oh-My-Zshæ‰“é€ ä½ çš„è¶…çº§ç»ˆç«¯ è®©Mac OS Xçš„ç»ˆç«¯å¤šå§¿å¤šå½© Title: iTerm2 ä¸€ä¸ªæ›´å¥½ç”¨çš„ç»ˆç«¯ Date: 2018.12.18 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"mac/reinstall-mac-system.html":{"url":"mac/reinstall-mac-system.html","title":"Mac ç³»ç»Ÿé‡è£…","keywords":"","body":"Mac ç³»ç»Ÿé‡è£… ä¸ºä»€ä¹ˆè¦é‡è£…ç³»ç»Ÿ æ— ç”¨çš„ä¸œè¥¿å¤ªå¤šï¼Œå¿ä¸äº†äº† åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œæˆ‘ä»¬éš¾å…è¦å®‰è£…å„å¼å„æ ·çš„è½¯ä»¶ï¼Œæ’ä»¶ï¼Œç¯å¢ƒç­‰ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä»¬ç”µè„‘ä¸­çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šï¼Œè™½ç„¶ä¸ä¼šå¼•èµ·å¡é¡¿ï¼Œä½†æ˜¯æƒ³æƒ³å°±è§‰å¾—å¿ƒé‡Œè†ˆåº”ï¼Œåƒæˆ‘è¿™ç§å¼ºè¿«ç—‡å°±ä¼šé€‰æ‹©å¼€å§‹åˆ ã€‚ ä½†æ˜¯åˆ çš„æ—¶å€™å°±å¾ˆéº»çƒ¦äº†ï¼ŒApp ä» Application æ–‡ä»¶å¤¹ä¸­åˆ é™¤åï¼Œè¿˜ä¼šæœ‰äº›é…ç½®æ–‡ä»¶ä¿ç•™åœ¨ç”µè„‘ä¸­ï¼Œå¾ˆéš¾å®Œå…¨ç§»é™¤ã€‚è€Œæ’ä»¶ï¼Œç¯å¢ƒç­‰ï¼Œåˆ é™¤çš„æ“ä½œå°±æ›´ä¸ºéº»çƒ¦ã€‚ æœ€åçš„æœ€åå°±ä¼šæœ‰ä¸€éƒ¨åˆ†äººé€‰æ‹©é‡è£…ç³»ç»Ÿï¼Œå› ä¸ºä»–ä¹Ÿä¸ç¡®å®šæ˜¯ä¸æ˜¯åˆ äº†ä»€ä¹ˆä¸åº”è¯¥åˆ çš„ä¸œè¥¿ã€‚ æ­¥å…¥äº†Betaç‰ˆçš„å‘ï¼Œå¿ä¸äº†äº† ä¸–ä¸Šæ°¸è¿œå°‘ä¸äº†æƒ³è¦ç¬¬ä¸€ä¸ªåƒèƒèŸ¹çš„äººï¼Œæ–°ç‰ˆç³»ç»Ÿä¸€å‘å¸ƒï¼Œä¾¿æ¯«ä¸çŠ¹è±«çš„è¿›è¡Œäº†å‡çº§ï¼Œåœ¨ä½¿ç”¨ä¸€æ®µæ—¶é—´åï¼Œå‘ç°å‘å¤ªå¤šï¼Œå°±ä¸æƒ³è¢«è¿™äº›å‘æŠ˜ç£¨äº†ã€‚ ä½†æ˜¯è‹¹æœçˆ¸çˆ¸ä¼šè¿™ä¹ˆå®¹æ˜“è®©ä¸€ä¸ªå°ç™½é¼ è·‘æ‰å—ï¼Ÿä¸å­˜åœ¨çš„ï¼ åªæœ‰ä¸¤æ¡è·¯å¯ä»¥é€‰æ‹©ï¼š ç­‰åˆ°æ›´é«˜ç‰ˆæœ¬çš„ç³»ç»Ÿå‡ºç°ï¼Œè¿›è¡Œå‡çº§éœ€è¦åœ¨å‘ä¸­å†å¾…ä¸€æ®µæ—¶é—´ï¼Œæ—¶é—´ä¸ç¡®å®šã€‚ é‡è£…å›ä½ç‰ˆæœ¬çš„ç³»ç»Ÿåˆ‡è®°å¤‡ä»½å¥½æ‰€æœ‰çš„æ•°æ®ï¼Œå› ä¸ºè¿™ç§æ–¹æ¡ˆè¦æŠ¹æ‰ç£ç›˜ï¼Œå³ä¸€åˆ‡ä»é›¶å¼€å§‹ã€‚ é‡è£…ç³»ç»Ÿçš„å‡ ç§æ–¹å¼ ç³»ç»Ÿé‡è£…æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼Œæ–‡ä¸­ä»¥è‹¹æœæœ€æ–°çš„ç³»ç»Ÿ macOS High Sierra ä¸ºä¾‹ã€‚ ä» App Store å®‰è£… ä¸¤ç§è·å–ç³»ç»Ÿé•œåƒçš„æ–¹å¼ï¼š æ‰“å¼€ App Storeï¼Œæœç´¢ macOS High Sierra ç‚¹å‡»ä¸‹è½½æŒ‰é’® ç›´æ¥æ‰“å¼€ macOS High Sierra é¡µé¢ï¼Œç‚¹å‡»ä¸‹è½½æŒ‰é’® ä¸‹è½½å®Œæˆåï¼Œå®‰è£…å™¨ä¼šè‡ªåŠ¨æ‰“å¼€ï¼ŒæŒ‰ç…§æç¤ºå³å¯å®Œæˆæ–°ç³»ç»Ÿçš„å®‰è£…ã€‚ åœ¨çº¿æ¢å¤ é¦–å…ˆæˆ‘ä»¬è¦é€šè¿‡ç»„åˆé”®è¿›å…¥macOSæ¢å¤æ¨¡å¼ã€‚æ ¹æ®ä¸åŒçš„ç›®æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ä¸åŒçš„ç»„åˆé”®ã€‚ ç»„åˆé”® ç›®æ ‡ Command + R å®‰è£…æ‚¨åœ¨ Mac ä¸Šå®‰è£…è¿‡çš„æœ€æ–° macOSï¼Œä½†ä¸ä¼šå‡çº§åˆ°æ›´é«˜çš„ç‰ˆæœ¬ã€‚ Option + Command + R å‡çº§åˆ°ä¸æ‚¨çš„ Mac å…¼å®¹çš„æœ€æ–° macOS Shift-Option-Command-Rï¼ˆéœ€è¦å®‰è£… macOS Sierra 10.12.4 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ å®‰è£… Mac é™„å¸¦çš„ macOS æˆ–æœ€æ¥è¿‘çš„ä»å¯ç”¨ç‰ˆæœ¬ã€‚ è¿›å…¥æ¢å¤æ¨¡å¼åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸‹é¢å››ä¸ªåŠŸèƒ½ï¼š é€‰æ‹©é‡æ–°å®‰è£… macOSï¼Œæ ¹æ®æç¤ºæˆ‘ä»¬å°±å¯ä»¥å®Œæˆæ–°ç³»ç»Ÿçš„å®‰è£…äº†ã€‚ æ³¨ï¼š åœ¨ç³»ç»Ÿå®‰è£…ä¹‹å‰ï¼Œæ ¹æ®å…·ä½“çš„æƒ…å†µï¼Œå†³å®šæ˜¯å¦è¦é€šè¿‡ç£ç›˜å·¥å…·æŠ¹æ‰ç£ç›˜ã€‚ ä» macOS æ¢å¤åŠŸèƒ½çš„å®ç”¨å·¥å…·çª—å£ä¸­é€‰æ‹©â€œç£ç›˜å·¥å…·â€ï¼Œç„¶åç‚¹æŒ‰â€œç»§ç»­â€ã€‚ åœ¨â€œç£ç›˜å·¥å…·â€è¾¹æ ä¸­é€‰æ‹©æ‚¨çš„è®¾å¤‡æˆ–å®—å·ã€‚ ç‚¹æŒ‰â€œæŠ¹æ‰â€æŒ‰é’®æˆ–æ ‡ç­¾é¡µã€‚ å¼¹æ¡†ä¸­çš„ä¸œè¥¿ä¸€èˆ¬ä¸éœ€è¦æˆ‘ä»¬ä¿®æ”¹ï¼Œç›´æ¥ç‚¹å‡»å¼¹æ¡†ä¸­â€œæŠ¹æ‰â€ä»¥å¼€å§‹æŠ¹æ‰ç£ç›˜ã€‚ å®Œæˆåï¼Œé€€å‡ºâ€œç£ç›˜å·¥å…·â€ä»¥å›åˆ°å®ç”¨å·¥å…·çª—å£ã€‚ Uç›˜å®‰è£… ä¸‹è½½ç³»ç»Ÿé•œåƒé€šè¿‡ä¸Šé¢çš„æ–¹å¼ï¼Œå°†æˆ‘ä»¬éœ€è¦çš„ç³»ç»Ÿä¸‹è½½åˆ°ç”µè„‘ä¸­ï¼Œä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬ç›´æ¥å…³é—­å®‰è£…ç•Œé¢ï¼Œä¸è¦ç»§ç»­å®‰è£…ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥åœ¨åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ä¸‹çœ‹åˆ°æˆ‘ä»¬åˆšåˆšä¸‹è½½çš„å®‰è£…ç¨‹åºã€‚ é€šè¿‡ç»ˆç«¯åˆ›å»ºUç›˜å¯åŠ¨å™¨ é¦–å…ˆæˆ‘ä»¬è¦ç¡®è®¤æˆ‘ä»¬åˆšåˆšä¸‹è½½çš„å®‰è£…ç¨‹åºçš„ä½ç½®ä»¥åŠä¼˜ç›˜çš„åå­—ã€‚ å‡è®¾å®‰è£…ç¨‹åºä»ä½äºâ€œåº”ç”¨ç¨‹åºâ€æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¸”Uç›˜åç§°æ˜¯ MyVolumeã€‚ æˆ‘ä»¬è¦åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ createinstallmedia å‘½ä»¤ï¼Œè¾“å…¥å‘½ä»¤åç‚¹å‡»å›è½¦ã€‚ sudo /Applications/Install\\ macOS\\ High\\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume --applicationpath /Applications/Install\\ macOS\\ High\\ Sierra.app ç„¶åè¾“å…¥å¯†ç ï¼Œå¯†ç æ˜¯ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥çš„ï¼Œè¾“å…¥åç‚¹å‡»å›è½¦ã€‚ æ¥ä¸‹æ¥æŒ‰ç€ç»ˆç«¯ä¸­çš„æç¤ºå³å¯å®Œæˆå¯åŠ¨ç›˜çš„åˆ¶ä½œã€‚ ä½¿ç”¨Uç›˜å¯åŠ¨å™¨å®‰è£…æ–°ç³»ç»Ÿ å°†Uç›˜æŸ¥åˆ°ç”µè„‘ä¸Š è¿›å…¥æ¢å¤æ¨¡å¼ï¼Œå°†å¯åŠ¨ç£ç›˜æ”¹ä¸ºæˆ‘ä»¬åˆ¶ä½œçš„å¯åŠ¨ç›˜ï¼Œå¯åŠ¨ç›˜çš„ä¿®æ”¹å¯ä»¥çœ‹è€ƒé™„ä»¶ ä»â€œå®ç”¨å·¥å…·â€çª—å£ä¸­é€‰æ‹©â€œå®‰è£… macOSâ€ï¼ˆæˆ–â€œå®‰è£… OS Xâ€ï¼‰ï¼Œç„¶åç‚¹æŒ‰â€œç»§ç»­â€ï¼ŒæŒ‰ç…§å±å¹•ä¸Šçš„è¯´æ˜è¿›è¡Œæ“ä½œ é™„ è‹¹æœå®˜æ–¹æä¾›çš„ macOS å®‰è£…æ–‡æ¡£ï¼šå¦‚ä½•å®‰è£… macOS ç›®å‰ macOS çš„ç‰ˆæœ¬åˆ—è¡¨ï¼šmacOS ç‰ˆæœ¬åˆ—è¡¨ é€šè¿‡ App Store å®‰è£… macOS High Sierraï¼šå¦‚ä½•ä¸‹è½½å®‰è£… macOS High Sierra macOS Uç›˜å¯åŠ¨ç›˜åˆ¶ä½œæ•™ç¨‹ï¼šå¦‚ä½•åˆ›å»ºå¯å¼•å¯¼çš„ macOS å®‰è£…å™¨ é€šè¿‡æ¢å¤æ¨¡å¼å®‰è£…æ–°ç³»ç»Ÿï¼šmacOS æ¢å¤æ¨¡å¼ ä¸¤å° Mac ç”µè„‘é—´çš„æ•°æ®è¿ç§»æ–¹æ³•ï¼šå¦‚ä½•å°†å†…å®¹ç§»è‡³æ–° Mac å¦‚ä½•ä¿®æ”¹å¯åŠ¨ç›˜ï¼šå¦‚ä½•é€‰æ‹©å…¶ä»–å¯åŠ¨ç£ç›˜ Title: Mac ç³»ç»Ÿé‡è£… Date: 2018.06.16 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"ubuntu/install-mysql.html":{"url":"ubuntu/install-mysql.html","title":"Ubuntu å®‰è£… MySQL","keywords":"","body":"Ubuntu å®‰è£… MySQL ä¸‹è½½å®‰è£… è·å– mysql-apt-config æ–‡ä»¶ä¸‹è½½åœ°å€ è¿›å…¥ MySQL å®˜ç½‘ï¼Œé€‰æ‹© APT Repositoryã€‚ >>>ç›´è¾¾é“¾æ¥ ç‚¹å‡»é¡µé¢åº•éƒ¨ Download æŒ‰é’®ï¼Œè¿›å…¥ä¸‹è½½é¡µã€‚ å¤åˆ¶é¡µé¢åº•éƒ¨ No thanks, just start my download. çš„é“¾æ¥åœ°å€ ä¸Šé¢å¾—åˆ°çš„é“¾æ¥åœ°å€å³ä¸º mysql-apt-config çš„ä¸‹è½½åœ°å€ã€‚ æœ¬æ–‡å‘è¡¨ä¹‹æ—¶çš„æœ€æ–°åœ°å€ä¸ºï¼šhttps://dev.mysql.com/get/mysql-apt-config_0.8.12-1_all.deb å®‰è£… mysql-apt-config åœ¨é˜…è¯»ä¸‹é¢çš„å†…å®¹å‰ï¼Œè¯·å…ˆç™»å½•æ‚¨çš„æœåŠ¡å™¨ã€‚ #1.ä¸‹è½½ mysql-apt-config sudo wget https://dev.mysql.com/get/mysql-apt-config_0.8.12-1_all.deb #2. å®‰è£… mysql-apt-config sudo dpkg -i mysql-apt-config_0.8.12-1_all.deb è¿™æ—¶ä¼šæœ‰ä¸€ä¸ªå¯è§†åŒ–ç•Œé¢å‡ºç°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ é€‰æ‹©ç¬¬ä¸€é¡¹ï¼Œå¯ä»¥çœ‹åˆ°è®©æˆ‘ä»¬é€‰æ‹© MySQL çš„ç‰ˆæœ¬ï¼Œæˆ‘è¿™è¾¹é€‰æ‹©çš„æ˜¯ 5.7 ç‰ˆæœ¬ã€‚ç„¶åä¸€è·¯ Ok ä¸‹å»å°±å¯ä»¥äº†ã€‚ å®‰è£…å…¶ä»– mysql ç›¸å…³æœåŠ¡ #1.å‡çº§åˆ—è¡¨ä¸­çš„è½¯ä»¶åŒ… sudo apt-get update #2.å®‰è£… mysql-server mysql-common mysql-client sudo apt-get install mysql-server mysql-common mysql-client å¦‚æœå‡ºç°ä¸€ä¸ªè¦æ±‚è¾“å…¥æ•°æ®åº“å¯†ç çš„ç•Œé¢çš„è¯ï¼Œé‚£ä¹ˆæŒ‰ç€æç¤ºè¿›è¡Œæ“ä½œï¼ˆè¾“å…¥å¯†ç ï¼Œå†æ¬¡è¾“å…¥å¯†ç ï¼Œç¡®è®¤ï¼‰ã€‚å¦‚æœæ²¡æœ‰çœ‹åˆ°è¿™ä¸ªç•Œé¢ï¼Œä¹Ÿä¸å¿…æƒŠæ…Œï¼ˆåæ­£æˆ‘ä¹Ÿæ²¡æœ‰çœ‹åˆ°è¿™ä¸ªç•Œé¢â€¦ğŸ™„ï¸ï¼‰ï¼Œä¸‹ä¸€å°èŠ‚ä¼šè®²è§£å¦‚ä½•è®¾ç½®å¯†ç ã€‚ MySQL å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå¯ä»¥é€šè¿‡ sudo service mysql status æ£€æŸ¥è¿è¡ŒçŠ¶æ€ï¼Œæ§åˆ¶å°ä¸­è¾“ä¸‹é¢çš„å†…å®¹å°±è¡¨ç¤º MySQL æ­£åœ¨è¿è¡Œã€‚ $ service mysql status - mysql.service - MySQL Community Server Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: en Active: active (running) since Tue 2019-04-02 23:43:54 CST; 23h ago Process: 4434 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/run/mysqld/my Process: 4412 ExecStartPre=/usr/share/mysql/mysql-systemd-start pre (code=exit Main PID: 4436 (mysqld) Tasks: 28 (limit: 1113) CGroup: /system.slice/mysql.service â””â”€4436 /usr/sbin/mysqld --daemonize --pid-file=/run/mysqld/mysqld.pid Apr 02 23:43:53 VM-0-15-ubuntu systemd[1]: Stopped MySQL Community Server. Apr 02 23:43:53 VM-0-15-ubuntu systemd[1]: Starting MySQL Community Server... Apr 02 23:43:54 VM-0-15-ubuntu systemd[1]: Started MySQL Community Server. å…¶ä»–å¸¸ç”¨å‘½ä»¤ï¼š #æŸ¥çœ‹ MySQL è¿è¡ŒçŠ¶æ€ sudo service mysql status #å¯åŠ¨ MySQL æœåŠ¡ sudo service mysql start #åœæ­¢ MySQL æœåŠ¡ sudo service mysql stop #é‡å¯ MySQL æœåŠ¡ sudo service mysql restart ä¿®æ”¹å¯†ç  MySQL 5.7 å®‰è£…å®Œæˆåæ™®é€šç”¨æˆ·ä¸èƒ½è¿› mysqlï¼ŒåŸå› ï¼šroot çš„ plugin è¢«ä¿®æ”¹æˆäº† auth_socketï¼Œç”¨å¯†ç ç™»é™†çš„ plugin åº”è¯¥æ˜¯ mysql_native_passwordï¼Œç›´æ¥ç”¨ root æƒé™ç™»å½•å°±ä¸ç”¨å¯†ç ,ä¿®æ”¹ root å¯†ç å’Œç™»å½•éªŒè¯æ–¹å¼ã€‚ #åˆ‡æ¢åˆ° root ç”¨æˆ·ï¼Œè¿è¡Œ MySQL å‘½ä»¤ $ sudo su & mysql mysql> select user, plugin from mysql.user; +------------------+-----------------------+ | user | plugin | +------------------+-----------------------+ | root | auth_socket | | mysql.session | mysql_native_password | | mysql.sys | mysql_native_password | | debian-sys-maint | mysql_native_password | +------------------+-----------------------+ 4 rows in set (0.00 sec) mysql> update mysql.user set authentication_string=PASSWORD('123456'), plugin='mysql_native_password' where user='root'; mysql> flush privileges; #é€€å‡º MySQL mysql> exit Bye #é‡å¯ MySQL $ sudo /etc/init.d/mysql restart é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå°±å°† MySQL çš„å¯†ç è®¾ç½®æˆäº† 123456ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥ä¸‹å¯†ç æ˜¯å¦è®¾ç½®æˆåŠŸï¼š #ç™»å½• MySQL $ mysql -uroot -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 2 Server version: 5.7.22-0ubuntu18.04.1 (Ubuntu) Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql> æ–°å¢ç”¨æˆ· æ‰§è¡Œæ–°å¢ç”¨æˆ·çš„ SQL è¯­å¥ mysql> create user 'zhangpeng'@'%' identified by '123456'; Query OK, 0 rows affected (0.08 sec) æ³¨ï¼š 'zhangpeng'@'%'è¡¨ç¤º zhangpeng è¿™ä¸ªè´¦å·å…è®¸è¿œç¨‹ç™»å½•ã€‚ å¦‚æœå†™æˆ 'zhangpeng'@'localhost' ï¼Œé‚£ä¹ˆåªèƒ½æœ¬åœ°ç™»å½•ã€‚ è®¾ç½®å­—ç¬¦é›† MySQL çš„é»˜è®¤å­—ç¬¦é›†ä¸æ˜¯utf8ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹ MySQL çš„å­—ç¬¦é›†ã€‚ ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆ/etc/mysql/mysql.conf.d/mysqld.cnfï¼‰ï¼Œå°†ä¸‹é¢å†…å®¹å¡«å…¥é…ç½®æ–‡ä»¶ã€‚ [client] port = 3306 socket = /var/lib/mysql/mysql.sock default-character-set=utf8 [mysqld] port = 3306 socket = /var/lib/mysql/mysql.sock character-set-server=utf8 [mysql] no-auto-rehash default-character-set=utf8 ä¿®æ”¹å®Œæ¯•åï¼Œæ£€æŸ¥å­—ç¬¦é›†æ˜¯å¦è®¾ç½®æˆåŠŸ mysql> show variables like 'char%'; +--------------------------+----------------------------+ | Variable_name | Value | +--------------------------+----------------------------+ | character_set_client | utf8 | | character_set_connection | utf8 | | character_set_database | utf8 | | character_set_filesystem | binary | | character_set_results | utf8 | | character_set_server | utf8 | | character_set_system | utf8 | | character_sets_dir | /usr/share/mysql/charsets/ | +--------------------------+----------------------------+ 8 rows in set (0.17 sec) è¿œç¨‹ç™»å½• # ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ³¨é‡Šæ‰ bind-address = 127.0.0.1 $ sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf ä¿å­˜é€€å‡ºï¼Œç„¶åè¿›å…¥mysqlæœåŠ¡ï¼Œæ‰§è¡Œæˆæƒå‘½ä»¤ï¼š $ mysql -uroot -p mysql> grant all on *.* to root@'%' identified by '123456' with grant option; Query OK, 0 rows affected, 1 warning (0.00 sec) mysql> flush privileges; Query OK, 0 rows affected (0.00 sec) mysql> exit Bye $ sudo /etc/init.d/mysql restart é™„ Linux å¸¸ç”¨å‘½ä»¤é›†åˆ Ubuntu18.04 ä¸‹å®‰è£… MySQL5.7 Title: Ubuntu å®‰è£… MySQL Date: 2019.04.03 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"learn/judge-algorithm-quality.html":{"url":"learn/judge-algorithm-quality.html","title":"å¦‚ä½•è¯„åˆ¤ç®—æ³•å¥½å","keywords":"","body":"å¦‚ä½•è¯„åˆ¤ç®—æ³•å¥½å ç®—æ³•å¥½åå¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ä¸ªçº¬åº¦è¿›è¡Œè¯„åˆ¤ï¼š æ—¶é—´å¤æ‚åº¦ è¯„ä¼°æ‰§è¡Œç¨‹åºçš„æ¬¡æ•°ï¼ˆæ‰§è¡Œæ—¶é—´ï¼‰ ç©ºé—´å¤æ‚åº¦ è¯„ä¼°æ‰§è¡Œç¨‹åºæ‰€éœ€çš„å­˜å‚¨ç©ºé—´ æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦æè¿°æ–¹å¼ ä¸€èˆ¬ç”¨ å¤§Oè¡¨ç¤ºæ³• æ¥æè¿°å¤æ‚åº¦ï¼Œè¡¨ç¤º æ•°æ®è§„æ¨¡n å¯¹åº”çš„å¤æ‚åº¦ã€‚ä¸è¿‡è¦æ³¨æ„ å¤§Oè¡¨ç¤ºæ³• ä»…ä»…æ˜¯ä¸€ç§ç²—ç•¥çš„åˆ†ææ¨¡å‹ï¼Œæ˜¯ä¸€ç§ä¼°ç®—ï¼Œç”¨æ¥å¸®åŠ©æˆ‘ä»¬åœ¨çŸ­æ—¶é—´å†…äº†è§£ä¸€ä¸ªç®—æ³•çš„æ‰§è¡Œæ•ˆç‡ã€‚ æ—¶é—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦åˆç§°\"æ¸è¿›å¼æ—¶é—´å¤æ‚åº¦\"ï¼Œç”¨æ¥è¡¨ç¤ºä»£ç æ‰§è¡Œæ—¶é—´ä¸æ•°æ®è§„æ¨¡ä¹‹é—´çš„å¢é•¿å…³ç³»ã€‚ æ—¶é—´å¤æ‚åº¦çš„æ¨å€’æ­¥éª¤ï¼š æ‰¾å‡ºç®—æ³•ä¸­çš„åŸºæœ¬è¯­å¥ ç®—æ³•ä¸­æ‰§è¡Œæ¬¡æ•°æœ€å¤šçš„é‚£æ¡è¯­å¥å°±æ˜¯åŸºæœ¬è¯­å¥ï¼Œé€šå¸¸æ˜¯æœ€å†…å±‚å¾ªç¯çš„å¾ªç¯ä½“ã€‚ è®¡ç®—åŸºæœ¬è¯­å¥çš„æ‰§è¡Œæ¬¡æ•°çš„æ•°é‡çº§ åªéœ€è®¡ç®—åŸºæœ¬è¯­å¥æ‰§è¡Œæ¬¡æ•°çš„æ•°é‡çº§ï¼Œè¿™å°±æ„å‘³ç€åªè¦ä¿è¯åŸºæœ¬è¯­å¥æ‰§è¡Œæ¬¡æ•°çš„å‡½æ•°ä¸­çš„æœ€é«˜æ¬¡å¹‚æ­£ç¡®å³å¯ï¼Œå¯ä»¥å¿½ç•¥æ‰€æœ‰ä½æ¬¡å¹‚å’Œæœ€é«˜æ¬¡å¹‚çš„ç³»æ•°ã€‚è¿™æ ·èƒ½å¤Ÿç®€åŒ–ç®—æ³•åˆ†æï¼Œå¹¶ä¸”ä½¿æ³¨æ„åŠ›é›†ä¸­åœ¨æœ€é‡è¦çš„ä¸€ç‚¹ä¸Šï¼šå¢é•¿ç‡ã€‚å¯ä»¥ç®€å•æ¦‚æ‹¬ä¸ºå¿½ç•¥å¸¸æ•°ã€ç³»æ•°ã€ä½é˜¶ã€‚ ç”¨å¤§ÎŸè®°å·è¡¨ç¤ºç®—æ³•çš„æ—¶é—´æ€§èƒ½ å°†åŸºæœ¬è¯­å¥æ‰§è¡Œæ¬¡æ•°çš„æ•°é‡çº§æ”¾å…¥å¤§ÎŸè®°å·ä¸­ã€‚ ç®€å•ä¸¾å‡ ä¸ªæ¨å€’å¤§Oè¡¨è¾¾å¼çš„ä¾‹å­ï¼š $9$ => $O(1)$ $2n + 3$ => $O(n)$ $n^2 + 2n + 3$ => $O(n^2)$ $4n^3 + 3n^2 + 22n + 100$ => $O(n^3)$ $5log_2n+20$ => $O(logn)$ $2n+3nlog_2n+19$ => $O(nlogn)$ $2n$ => $O(2^n)$ å¸¸è§çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦ ç”±å°åˆ°å¤§ä¾æ¬¡ä¸ºï¼šå¸¸é‡é˜¶ $O(1)$ ç©ºé—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ï¼Œåˆç§°\"æ¸è¿›ç©ºé—´å¤æ‚åº¦\"ï¼Œç”¨æ¥è¡¨ç¤ºä»£ç å­˜å‚¨ç©ºé—´ä¸æ•°æ®è§„æ¨¡ä¹‹é—´çš„å¢é•¿å…³ç³»ã€‚ã€‚ ç©ºé—´å¤æ‚åº¦åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šè¾“å…¥æ•°æ®æ‰€å çš„å­˜å‚¨ç©ºé—´ï¼Œç¨‹åºæœ¬èº«æ‰€å çš„ç©ºé—´ï¼Œç®—æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€çš„å­˜å‚¨ç©ºé—´ã€‚ æˆ‘ä»¬è°ˆçš„ç©ºé—´å¤æ‚åº¦ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨è®¨è®ºç¬¬ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå³ç®—æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€çš„å­˜å‚¨ç©ºé—´ã€‚å› ä¸ºå‰ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸ç®—æ³•å¹¶æ— å¤ªå¤§å…³ç³»ï¼Œæ˜¯ç”±è¾“å…¥æ•°æ®çš„è§„æ¨¡ä»¥åŠç¼–è¯‘é“¾æ¥åç”Ÿæˆçš„å¯æ‰§è¡Œç¨‹åºçš„å¤§å°å†³å®šã€‚ ç©ºé—´å¤æ‚åº¦çš„æ¨å€’è§„åˆ™ï¼š å½“ä¸€ä¸ªç®—æ³•çš„éœ€è¦çš„ç©ºé—´ä¸ºä¸€ä¸ªå¸¸é‡ï¼Œå³ä¸éšè¢«å¤„ç† æ•°æ®è§„æ¨¡n çš„å¤§å°è€Œæ”¹å˜æ—¶ï¼Œå¯è¡¨ç¤ºä¸º $O(1)$ å½“ä¸€ä¸ªç®—æ³•çš„éœ€è¦çš„ç©ºé—´å’Œ æ•°æ®è§„æ¨¡n æˆæ­£æ¯”ï¼Œå¯è¡¨ç¤ºä¸º $O(n)$ å½“ç„¶åƒ $O(n^2)ã€O(n^3)ã€O(logn)ã€O(nlogn)$ ä¹Ÿæœ‰ï¼Œä¸è¿‡å¾ˆå°‘è§ã€‚ å¦‚ä½•ä¼˜åŒ–ç®—æ³• ç”¨å°½é‡å°‘çš„å­˜å‚¨ç©ºé—´ ç”¨å°½é‡å°‘çš„æ‰§è¡Œæ­¥éª¤ æ ¹æ®å…·ä½“æƒ…å†µï¼Œé€‰æ‹©ç©ºé—´æ¢æ—¶é—´æˆ–æ—¶é—´æ¢ç©ºé—´ å‚è€ƒæ–‡çŒ® å¤§Oè¡¨ç¤ºæ³• å¦‚ä½•ç†è§£ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ï¼Ÿ Title: å¦‚ä½•è¯„åˆ¤ç®—æ³•å¥½å Date: 2020.07.22 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"learn/keep-alive-ssh.html":{"url":"learn/keep-alive-ssh.html","title":"å¦‚ä½•ä¿æŒ SSH æœåŠ¡ä¸æ‰çº¿","keywords":"","body":"å¦‚ä½•ä¿æŒ SSH æœåŠ¡ä¸æ‰çº¿ å¸¸è§çš„ä¿æŒ SSH æœåŠ¡ä¸æ‰çº¿çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š æœåŠ¡ç«¯å‘é€å¿ƒè·³åŒ… å®¢æˆ·ç«¯å‘é€å¿ƒè·³åŒ… æœ¬ç¯‡æ–‡ç« å°†ä»¥ Ubuntu 18.04.4 LTS ä¸ºä¾‹ï¼Œåˆ†åˆ«å¯¹ä»¥ä¸Šä¸¤ç§æ–¹æ³•è¿›è¡Œè®²è§£ã€‚ æœåŠ¡ç«¯å‘é€å¿ƒè·³åŒ… ç™»é™†æ‚¨çš„æœåŠ¡å™¨åï¼Œæ‰“å¼€ /etc/ssh/sshd_config æ–‡ä»¶ã€‚ å°† ClientAliveInterval å’Œ ClientAliveCountMax å‰é¢çš„ # å»æ‰ã€‚ï¼ˆå¦‚æœæ²¡æœ‰åˆ™æ·»åŠ è¿™ä¸¤ä¸ªå­—æ®µï¼‰ å°† ClientAliveInterval çš„å€¼ä¿®æ”¹ä¸º 60ï¼ŒClientAliveCountMax çš„å€¼ä¿®æ”¹ä¸º 6 ä¿å­˜ä¸Šè¿°ä¿®æ”¹ï¼Œå¦‚æœæç¤º 'readonly' option is set (add ! to override)ï¼Œè¯·ä»¥ç³»ç»Ÿç®¡ç†è€…çš„èº«ä»½æ‰§è¡ŒæŒ‡ä»¤ã€‚ é‡å¯ SSH æœåŠ¡ ClientAliveInterval æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯è¯·æ±‚æ¶ˆæ¯çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤æ˜¯ 0ï¼Œä¸å‘é€ClientAliveCountMax æœåŠ¡å™¨å‘å‡ºè¯·æ±‚åï¼Œå®¢æˆ·ç«¯æ²¡æœ‰å“åº”çš„é‡è¯•æ¬¡æ•°ï¼Œåˆ°è¾¾æ¬¡æ•°åæ–­å¼€ å®¢æˆ·ç«¯å‘é€å¿ƒè·³åŒ… è¿›å…¥å®¢æˆ·ç«¯çš„ ~/.ssh/ æ–‡ä»¶å¤¹ æ‰“å¼€ config æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è¯·åˆ›å»º åœ¨ config æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œç„¶åä¿å­˜ServerAliveInterval 20ServerAliveCountMax 999 ServerAliveInterval å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯è¯·æ±‚æ¶ˆæ¯çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œé»˜è®¤æ˜¯ 0ï¼Œä¸å‘é€ServerAliveCountMax å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚åï¼ŒæœåŠ¡å™¨æ²¡æœ‰å“åº”çš„é‡è¯•æ¬¡æ•°ï¼Œåˆ°è¾¾æ¬¡æ•°åæ–­å¼€ æ€»ç»“ ä¸¤ç§æ–¹å¼å‡å¯ä»¥å®ç° SSH æœåŠ¡ä¸æ‰çº¿ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚ ä¸€å°æœåŠ¡å™¨ï¼Œå¤šå°å®¢æˆ·ç«¯ å¯ä»¥åœ¨ç”¨æœåŠ¡ç«¯å‘é€å¿ƒè·³åŒ…çš„æ–¹æ³•ã€‚è¿™æ ·å°±ä¸éœ€è¦åœ¨æ¯å°å®¢æˆ·ç«¯ä¸Šè¿›è¡Œä¿®æ”¹ã€‚ ä¸€å°å®¢æˆ·ç«¯ï¼Œå¤šå°æœåŠ¡å™¨ å¯ä»¥åœ¨ç”¨å®¢æˆ·ç«¯å‘é€å¿ƒè·³åŒ…çš„æ–¹æ³•ã€‚è¿™æ ·å°±ä¸éœ€è¦åœ¨æ¯å°æœåŠ¡å™¨ä¸Šè¿›è¡Œä¿®æ”¹ã€‚ Title: å¦‚ä½•ä¿æŒ SSH æœåŠ¡ä¸æ‰çº¿ Date: 2020.03.01 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"learn/introduction-to-shell.html":{"url":"learn/introduction-to-shell.html","title":"Shell å…¥é—¨æ•™ç¨‹","keywords":"","body":"Shell å…¥é—¨æ•™ç¨‹ æœ¬æ–‡ä¸ºè¯‘æ–‡ï¼ŒåŸæ–‡é“¾æ¥ï¼šshell shellæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„ã€æ–‡æœ¬åŒ–çš„è®¡ç®—æœºæ¥å£ã€‚ shellæç¤ºç¬¦ï¼šå½“ä½ æ‰“å¼€ç»ˆç«¯æ—¶çœ‹åˆ°çš„ä¸€åˆ‡ã€‚å¯ä»¥è®©ç”¨æˆ·æ‰§è¡Œçš„ç¨‹åºå’Œå‘½ä»¤ï¼Œå¸¸è§çš„æœ‰ï¼š cdæ”¹å˜ç›®å½• lsåˆ—å‡ºæ–‡ä»¶å’Œç›®å½• mvå’Œcpç§»åŠ¨å’Œå¤åˆ¶æ–‡ä»¶ ä½†æ˜¯shellå…è®¸æ‚¨åšæ›´å¤šçš„äº‹æƒ…ï¼›æ‚¨å¯ä»¥è°ƒç”¨è®¡ç®—æœºä¸Šçš„ä»»ä½•ç¨‹åºï¼Œå¹¶ä¸”å‘½ä»¤è¡Œå·¥å…·çš„å­˜åœ¨å°±æ˜¯ä¸ºäº†å®Œæˆæ‚¨å¯èƒ½æƒ³åšçš„ä»»ä½•äº‹æƒ…ã€‚ä»–ä»¬å¾€å¾€æ¯”ä»–ä»¬çš„å›¾å½¢å¯¹æ‰‹æ›´æœ‰æ•ˆç‡ã€‚æˆ‘ä»¬è¿™é—¨è¯¾ä¼šè®²åˆ°å¾ˆå¤šã€‚ shellæä¾›äº¤äº’å¼ç¼–ç¨‹è¯­è¨€ (\"è„šæœ¬\")ã€‚æœ‰å¾ˆå¤šç§shellï¼š æ‚¨å¯èƒ½ç”¨è¿‡shæˆ–è€…bash å’Œè¯­è¨€ç›¸å…³çš„shellï¼šcsh æˆ–è€…æ›´å¥½ç”¨çš„shellï¼šfishï¼Œzshï¼Œksh åœ¨è¿™ä¸ªè¯¾å ‚ä¸Šï¼Œæˆ‘ä»¬å°†å…³æ³¨æ— å¤„ä¸åœ¨çš„shå’Œbashï¼Œä½†æ˜¯ä½¿ç”¨å…¶ä»–çš„shellæ„Ÿè§‰æ›´å¥½ã€‚æˆ‘å–œæ¬¢fishã€‚ åœ¨æ‚¨çš„å·¥å…·ç®±ä¸­ï¼Œshellç¨‹åºæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚å¯ä»¥ç›´æ¥åœ¨æç¤ºç¬¦ä¸‹ç¼–å†™ç¨‹åºï¼Œä¹Ÿå¯ä»¥å°†ç¨‹åºå†™å…¥æ–‡ä»¶ã€‚ é€šè¿‡#!/bin/sh+chmod +xå°†shellç¨‹åºå˜æˆå¯ä»¥æ‰§è¡Œçš„ ä½¿ç”¨shellå·¥ä½œ å°†ä¸€ä¸ªå‘½ä»¤è¿è¡Œå¤šæ¬¡ï¼š for i in $(seq 1 5); do echo hello; done æœ‰å¾ˆå¤šä¸œè¥¿å¯ä»¥å±•å¼€æ¥è®²ï¼š for x in list; do BODY; done ;ç»ˆæ­¢ä¸€ä¸ªå‘½ä»¤ -- ç›¸å½“äºæ¢è¡Œ éå†listï¼Œå°†æ¯ä¸ªå€¼èµ‹å€¼ç»™xï¼Œç„¶åè¿è¡Œ åˆ†å‰²æ ‡å¿—ç¬¦æ˜¯â€œç©ºæ ¼â€ï¼Œæˆ‘ä»¬ç¨åä¼šè®²åˆ° shellä¸­æ²¡æœ‰èŠ±æ‹¬å·ï¼Œæ‰€ä»¥ä½¿ç”¨do+done $(seq 1 5) è¿è¡Œseqå‘½ä»¤ï¼Œå‚æ•°åˆ†åˆ«ä¸º1å’Œ5 ä½¿ç”¨æ‹¬å·å†…å‘½ä»¤çš„è¾“å‡ºæ›¿æ¢ $() ç›¸å½“äº for i in 1 2 3 4 5 echo hello shellè„šæœ¬ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯å‘½ä»¤ åœ¨æœ¬ä¾‹ä¸­ï¼Œè¿è¡Œechoå‘½ä»¤ï¼Œå°†æ‰“å°è¯¥å‘½ä»¤çš„å‚æ•°hello æ‰€æœ‰å‘½ä»¤éƒ½å¯ä»¥åœ¨$PATHæœç´¢åˆ° æˆ‘ä»¬å¯ä»¥ä¸¾ä¸ªä¾‹å­ï¼š for f in $(ls); do echo $f; done å°†æ‰“å°å½“å‰ç›®å½•ä¸­çš„æ¯ä¸ªæ–‡ä»¶åã€‚å¯ä»¥ä½¿ç”¨=è®¾ç½®å˜é‡çš„å€¼ï¼ˆ=ä¸¤è¾¹ä¸éœ€è¦ç©ºæ ¼ï¼‰ foo=bar echo $foo è¿™é‡Œä¹Ÿæœ‰ä¸€äº›ç‰¹æ®Šçš„å˜é‡ï¼š $1-$9ï¼šè„šæœ¬çš„å‚æ•° $0ï¼šè„šæœ¬çš„åç§° $#ï¼šè„šæœ¬çš„å‚æ•°ä¸ªæ•° $$ï¼šå½“å‰è„šæœ¬çš„è¿›ç¨‹ID åªæ‰“å°ç›®å½• for f in $(ls); do if test -d $f; then echo dir $f; fi; done è¿™é‡Œå±•å¼€æ¥è®²ï¼š if CONDITION; then BODY; fi CONDITIONæ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚æœè¿”å›æ—¶ä¸º0(success)ï¼Œå°±ä¼šæ‰§è¡ŒBODY ä¹Ÿå¯ä»¥ç»§ç»­æ‰§è¡Œelseæˆ–è€…elif åŒæ ·ï¼Œæ²¡æœ‰èŠ±æ‹¬å·ï¼Œæ‰€ä»¥ä½¿ç”¨thenå’Œfi testæ˜¯å¦å¤–ä¸€ä¸ªå‘½ä»¤ï¼Œæä¾›å„å¼å„æ ·çš„æ£€æŸ¥ä¸å¯¹æ¯”åŠŸèƒ½ï¼Œé€€å‡ºæ—¶ä¼šè¿”å›å¯¹æ¯”ç»“æœï¼Œå¦‚æœä¸ºçœŸï¼Œåˆ™è¿”å›0($?) man COMMANDä¼šå¯¹æ‚¨æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼Œæ¯”å¦‚ï¼šman test ä¹Ÿå¯ä»¥ä½¿ç”¨[+]æ‰§è¡Œï¼Œæ¯”å¦‚ï¼š[ -d $f ] æŸ¥çœ‹ä¸€ä¸‹man testå’Œwhich [çš„æ‰§è¡Œç»“æœ å¯æ˜¯ç­‰ç­‰ï¼ç»“æœæ˜¯é”™è¯¯çš„ï¼å¦‚æœæœ‰ä¸ªæ–‡ä»¶å«åšâ€œæˆ‘çš„æ–‡æ¡£æ€ä¹ˆåŠâ€ï¼Ÿ for f in $(ls)å±•å¼€ä¸ºfor f in My Documents å…ˆä»¥Myä¸ºtestçš„æ‰§è¡Œå‚æ•°ï¼Œç„¶åä»¥Documentsä½œä¸ºå‚æ•° è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼ shellè„šæœ¬ä¸­å¯¼è‡´å‡ºç°é—®é¢˜æœ€å¤šçš„åŸå›  å‚æ•°åˆ†å‰² Bashæ˜¯é€šè¿‡ç©ºæ ¼åˆ†å‰²å‚æ•°ï¼›ä½†è¿™å¹¶ä¸æ€»æ˜¯æ‚¨æƒ³è¦çš„ï¼ éœ€è¦ä½¿ç”¨å¼•å·å¤„ç†for f in \"My Documents\"ä¸­fçš„ç©ºæ ¼ï¼Œæ‰èƒ½æ­£ç¡®çš„æ‰§è¡Œ å…¶ä»–åœ°æ–¹ä¹Ÿæœ‰åŒæ ·çš„é—®é¢˜ï¼Œæ‚¨çœ‹åˆ°è¿‡å—ï¼Ÿæ¯”å¦‚test -d $fï¼šå¦‚æœ$fä¸­åŒ…å«ç©ºæ ¼ï¼Œtestå°†ä¼šå‘ç”Ÿé”™è¯¯ï¼ echoç¢°å·§æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºæŒ‰ç©ºæ ¼åˆ†éš”è”æ¥ï¼Œä½†æ˜¯å¦‚æœæ–‡ä»¶ååŒ…å«æ¢è¡Œç¬¦ï¼Œæ€ä¹ˆåŠï¼Ÿï¼å˜æˆç©ºæ ¼ï¼ å¼•å·ç”¨äºæ‰€æœ‰ä¸å¸Œæœ›è¢«æ‹†åˆ†çš„å‚æ•° æˆ‘ä»¬è¯¥å¦‚ä½•ä¿®å¤ä¸Šé¢çš„è„šæœ¬å‘¢ï¼Ÿæ‚¨è®¤ä¸ºfor f in \"$(ls)\"æ€ä¹ˆæ ·ï¼Ÿ ç­”æ¡ˆæ˜¯é€šé…ç¬¦ï¼ BashçŸ¥é“å¦‚ä½•ä½¿ç”¨æ¨¡æ¿æŸ¥æ‰¾æ–‡ä»¶ï¼š * ä»»æ„å­—ç¬¦ä¸² ? ä»»æ„å­—ç¬¦ {a,b,c} è¿™äº›å­—ç¬¦ä¸­çš„ä»»æ„ä¸€ä¸ª for f in *ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ åœ¨ä½¿ç”¨é€šé…ç¬¦æ—¶ï¼Œæ¯ä¸ªåŒ¹é…çš„æ–‡ä»¶éƒ½å°†å˜æˆè‡ªå·±çš„å‚æ•° åœ¨ä½¿ç”¨æ—¶ï¼Œä»éœ€è¦ç¡®ä¿å¼•å·çš„æ­£ç¡®ä½¿ç”¨ï¼štest -d \"$f\" å¯ä»¥ä½¿ç”¨è¿™äº›æé«˜é€šé…ç¬¦æ•ˆç‡ï¼š for f in a*: å½“å‰æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰€æœ‰ä»¥aå¼€å¤´çš„æ–‡ä»¶ for f in foo/*.txt:fooæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰€æœ‰ä»¥.txtç»“å°¾çš„æ–‡ä»¶ for f in foo/*/p??.txt: åœ¨fooçš„å­æ–‡ä»¶å¤¹ä¸‹ï¼Œä»¥på¼€å¤´çš„ä¸‰ä¸ªå­—æ¯çš„æ–‡ä»¶ ç©ºæ ¼çš„é—®é¢˜ä¸æ­¢äºæ­¤ï¼š if [ $foo = \"bar\" ]; then-- çœ‹çœ‹è¿™ä¸ªé—®é¢˜ï¼Ÿ å¦‚æœ$fooæ˜¯ç©ºçš„å‘¢ï¼Ÿ[çš„å‚æ•°æ˜¯=å’Œbar... å¯ä»¥ç”¨[ x$foo = \"xbar\" ]æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ•ˆç‡ä½ ç›¸åï¼Œä½¿ç”¨[[ï¼šä¸€ä¸ªbashå†…ç½®çš„å…·æœ‰ç‰¹æ®Šè§£æçš„æ¯”è¾ƒå™¨ ä¹Ÿå¯ä»¥ä½¿ç”¨&&ä»£æ›¿-aï¼Œ-oè¿æ¥||ç­‰ç­‰ å¯ç»„åˆæ€§ Shellä¹‹æ‰€ä»¥å¼ºå¤§ï¼Œéƒ¨åˆ†åŸå› åœ¨äºå®ƒçš„å¯ç»„åˆæ€§ã€‚å¯ä»¥å°†å¤šä¸ªç¨‹åºé“¾æ¥åœ¨ä¸€èµ·ï¼Œè€Œä¸æ˜¯è®©ä¸€ä¸ªç¨‹åºåšæ¯ä¸€ä»¶äº‹æƒ…ã€‚ å…³é”®å­—æ˜¯|ã€‚ a|bè¡¨ç¤ºåŒæ—¶è¿è¡Œaå’Œbï¼Œå°†açš„æ‰€æœ‰è¾“å‡ºï¼Œå½“ä½œbçš„è¾“å…¥ï¼Œæ‰“å°bçš„è¾“å‡ºã€‚ æ‚¨å¯åŠ¨çš„æ‰€æœ‰ç¨‹åº(â€œè¿›ç¨‹â€)éƒ½æœ‰ä¸‰ä¸ªâ€œæµâ€: STDINï¼šå½“ç¨‹åºè¯»å–è¾“å…¥æ—¶ï¼Œå®ƒä»è¿™é‡Œå¼€å§‹ STDOUTï¼šå½“ç¨‹åºæ‰“å°ä¸œè¥¿æ—¶ï¼Œå®ƒå°±åœ¨è¿™é‡Œ STDERRï¼šç¨‹åºå¯ä»¥é€‰æ‹©ä½¿ç”¨çš„ç¬¬äºŒä¸ªè¾“å‡º é»˜è®¤çš„ï¼ŒSTDINæ˜¯æ‚¨çš„é”®ç›˜è¾“å…¥ï¼ŒSTDOUTå’ŒSTDERRéƒ½æ˜¯æ‚¨çš„ç»ˆç«¯ã€‚ä½†æ˜¯æ‚¨å¯ä»¥æ”¹å˜ä»–ä»¬ï¼ a | bå°†açš„è¾“å‡ºå½“ä½œbçš„è¾“å…¥ åŒæ ·è¿˜æœ‰ï¼š a > fooï¼ˆå°†açš„æ ‡å‡†è¾“å‡ºå†™å…¥fooæ–‡ä»¶ï¼‰ a 2> fooï¼ˆå°†açš„æ ‡å‡†é”™è¯¯è¾“å‡ºå†™å…¥fooæ–‡ä»¶ï¼‰ a ï¼ˆaçš„æ ‡å‡†è¾“å…¥æ˜¯ä»fooæ–‡ä»¶è¯»å–çš„ï¼‰ æç¤ºï¼štail -få°†æ‰“å°æ–‡ä»¶å†…å®¹ï¼Œå³ä½¿ä»–æ­£åœ¨è¢«å†™å…¥ ä¸ºä»€ä¹ˆè¿™ä¸ªè¿™ä¹ˆæœ‰ç”¨ï¼Ÿæ‚¨äº²è‡ªè¯•è¯•ä¸‹é¢ç¨‹åºçš„è¾“å‡ºï¼ ls | grep fooï¼šåŒ…å«å•è¯fooçš„æ‰€æœ‰æ–‡ä»¶ ps | grep fooï¼šåŒ…å«å•è¯fooçš„æ‰€æœ‰è¿›ç¨‹ journalctl | grep -i intel | tail -n5ï¼šæœ€å5æ¡å¸¦æœ‰intel(ä¸åŒºåˆ†å¤§å°å†™)çš„ç³»ç»Ÿæ—¥å¿—æ¶ˆæ¯ who | sendmail -t me@example.comï¼šå°†ç™»å½•ç”¨æˆ·åˆ—è¡¨å‘é€åˆ°me@example.com å½¢æˆäº†è®¸å¤šæ•°æ®å¤„ç†çš„åŸºç¡€ï¼Œç¨åæˆ‘ä»¬å°†è®¨è®ºå®ƒ Bashè¿˜æä¾›äº†è®¸å¤šå…¶ä»–ç¼–å†™ç¨‹åºçš„æ–¹æ³•ã€‚ æ‚¨å¯ä»¥ç»„åˆå½¢æˆä¸€ä¸ªå‘½ä»¤(a; b) | tacï¼šå…ˆè¿è¡Œaï¼Œç„¶åè¿è¡Œbï¼Œç„¶åæŠŠä»–ä»¬çš„æ‰€æœ‰è¾“å‡ºå½“ä½œtacå‘½ä»¤çš„è¾“å…¥ï¼Œtacæ˜¯ä¸€ä¸ªå°†è¾“å…¥ååºçš„å‘½ä»¤ã€‚ ä¸€ä¸ªä¸å¤ªä¸ºäººæ‰€çŸ¥ä½†è¶…çº§æœ‰ç”¨çš„æ–¹æ³•æ˜¯è¿‡ç¨‹æ›¿æ¢ã€‚b å°†è¿è¡Œaï¼Œä¸ºè¾“å‡ºæµç”Ÿæˆä¸€ä¸ªä¸´æ—¶æ–‡ä»¶åï¼Œå¹¶å°†è¯¥æ–‡ä»¶åä¼ é€’ç»™bã€‚ä¸¾ä¸ªä¾‹å­ï¼š diff å°†å‘æ‚¨å±•ç¤ºå‰ä¸€ä¸ªå¼•å¯¼æ—¥å¿—çš„å‰20è¡Œä¸æ›´å‰ä¸€ä¸ªå¼•å¯¼æ—¥å¿—çš„å‰20è¡Œä¹‹é—´çš„åŒºåˆ«ã€‚ ä»»åŠ¡å’Œè¿›ç¨‹æ§åˆ¶ å¦‚æœæ‚¨åœ¨åå°æ‰§è¡Œå‘¨æœŸæ›´é•¿çš„ä»»åŠ¡å‘¢ï¼Ÿ åœ¨åå°è¿è¡Œçš„ç¨‹åºæ˜¯ä»¥&ç»“å°¾ å®ƒä¼šç«‹å³ç»™ä½ æç¤º å¦‚æœä½ æƒ³åŒæ—¶è¿è¡Œä¸¤ä¸ªç¨‹åºï¼Œæ¯”å¦‚æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œè¿™å¾ˆå¥½è§£å†³ï¼šserver & client æ³¨æ„ï¼šæ­£åœ¨è¿è¡Œçš„ç¨‹åºä»å°†ç»ˆç«¯è®¾ç½®ä¸ºæ ‡å‡†è¾“å‡ºï¼Œè¯•ä¸€è¯•ï¼šserver > server.log & client é€šè¿‡jobsæŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹ æ³¨æ„ç°å®Runningçš„ ä½¿ç”¨fg %JOBå°†å…¶æ”¾åˆ°å‰å°(æ²¡æœ‰å‚æ•°æ˜¯æœ€æ–°çš„) å¦‚æœæ‚¨æƒ³å°†å½“å‰çš„ç¨‹åºæ”¾å…¥åå°ï¼š^Z+bg(è¿™é‡Œçš„^Zä»£è¡¨æŒ‰Ctrl+Z) ^Zå°†å½“å‰çš„è¿›ç¨‹åœæ­¢ï¼Œå¹¶å°†å®ƒå˜æˆä¸€ä¸ªjob bgå°†æœ€æ–°çš„jobåœ¨åå°è¿è¡Œï¼ˆå°±åƒä½¿ç”¨äº†&ï¼‰ åå°jobsä»ç„¶ç»‘å®šåˆ°å½“å‰ä¼šè¯ï¼Œå¦‚æœæ³¨é”€ï¼Œåˆ™é€€å‡ºã€‚æ‚¨å¯ä»¥ä½¿ç”¨disownæˆ–è€…nohupåˆ‡æ–­è¿™ç§ç»‘å®šå…³ç³»ã€‚ $!æ˜¯æœ€åä¸€ä¸ªåå°è¿›ç¨‹çš„pid åœ¨ä½ çš„ç”µè„‘ä¸Šè¿è¡Œçš„å…¶ä»–ä¸œè¥¿å‘¢? pså¾ˆå¥½ç”¨ï¼šåˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ ps -Aï¼šæ‰“å°æ‰€æœ‰ç”¨æˆ·çš„è¿›ç¨‹ï¼ˆä¹ŸåŒ…æ‹¬ps axï¼‰ psæœ‰å¾ˆå¤šå‚æ•°ï¼šå¯ä»¥é€šè¿‡man psæŸ¥çœ‹ pgrepï¼šæœç´¢è¿›ç¨‹ï¼ˆå’Œps -A | grepç±»ä¼¼ï¼‰ pgrep -afï¼šé€šè¿‡å‚æ•°æœç´¢å’Œæ˜¾ç¤º killï¼šé€šè¿‡IDå‘è¿›ç¨‹å‘é€ä¿¡å·ï¼ˆpkill by search + -fï¼‰ ä¿¡å·å‘Šè¯‰è¿›ç¨‹â€œåšä»€ä¹ˆäº‹â€ æœ€å¸¸è§:SIGKILL(-9æˆ–-KILL)ï¼šç«‹åˆ»é€€å‡ºï¼Œç›¸å½“äº^\\ è¿˜æœ‰ï¼šSIGTERM(-15or-TERM)ï¼šç«‹åˆ»ä¼˜é›…çš„é€€å‡ºï¼Œç›¸å½“äº^C æ ‡å¿—ç¬¦ å¤§å¤šæ•°å‘½ä»¤è¡Œç¨‹åºéƒ½ä½¿ç”¨æ ‡å¿—ç¬¦æ¥å—å‚æ•°ã€‚æ ‡å¿—ç¬¦é€šå¸¸æœ‰çŸ­å½¢å¼(-h)å’Œé•¿å½¢å¼(--help)ã€‚é€šå¸¸è¿è¡ŒCMD -hæˆ–man CMDä¼šç»™ä½ å±•ç¤ºè¯¥CMDå¯ç”¨çš„æ ‡è¯†ç¬¦çš„åˆ—è¡¨ã€‚çŸ­æ ‡å¿—é€šå¸¸å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œè¿è¡Œrm -r -fç›¸å½“äºè¿è¡Œrm -rfæˆ–è€…rm -frã€‚ä¸€äº›å¸¸è§çš„æ ‡è¯†ç¬¦æ˜¯æœ‰çº¦å®šä¿—æˆçš„æ ‡å‡†çš„ï¼Œæ‚¨ä¼šå‘ç°å®ƒä»¬åœ¨å¾ˆå¤šå‘½ä»¤ä¸­ï¼š -aä¸€èˆ¬æŒ‡æ‰€æœ‰æ–‡ä»¶ï¼ˆä¹ŸåŒ…æ‹¬é‚£äº›ä»¥ç‚¹å¼€å¤´çš„ï¼‰ -fé€šå¸¸æŒ‡å¼ºåˆ¶åšä»€ä¹ˆäº‹æƒ…ï¼Œæ¯”å¦‚è¯´rm -f -hå¤§å¤šæ•°å‘½ä»¤éƒ½æ˜¯æ˜¾ç¤ºå¸®åŠ© -vé€šå¸¸å¯ç”¨è¯¦ç»†è¾“å‡º -Vé€šå¸¸æ‰“å°å‘½ä»¤çš„ç‰ˆæœ¬ æ­¤å¤–ï¼ŒåŒç ´æŠ˜å·--ç”¨äºå†…ç½®å‘½ä»¤å’Œè®¸å¤šå…¶ä»–å‘½ä»¤ä¸­ï¼Œè¡¨ç¤ºå‘½ä»¤é€‰é¡¹çš„ç»“æŸï¼Œä¹‹ååªæ¥å—ä½ç½®å‚æ•°ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªå¯ä»¥ä½¿ç”¨-vå‚æ•°çš„æ–‡ä»¶(æ–‡ä»¶ç±»å‹æ”¯æŒä½¿ç”¨)ï¼Œå¹¶ä¸”æƒ³è¦grepå®ƒï¼Œgrep pattern -- -vå¯ä»¥ï¼Œä½†æ˜¯grep pattern -vä¸è¡Œã€‚äº‹å®ä¸Šï¼Œåˆ›å»ºè¿™ç§æ–‡ä»¶çš„æ–¹æ³•æ˜¯touch -- -vã€‚ é™„å½• Shell Shellç¬”è®° Shell ä¸­å„ç§æ‹¬å·çš„ä½œç”¨ Shell test å‘½ä»¤ Title: Shell å…¥é—¨æ•™ç¨‹ Date: 2019.02.17 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"learn/introduction-to-appleScript.html":{"url":"learn/introduction-to-appleScript.html","title":"AppleScript å…¥é—¨ä¸å®è·µ","keywords":"","body":"AppleScript å…¥é—¨ä¸å®è·µ AppleScript æ˜¯ Mac OS X å†…ç½®çš„ä¸€ç§åŠŸèƒ½å¼ºå¤§çš„è„šæœ¬è¯­è¨€ã€‚ å®˜æ–¹ä»‹ç» AppleScript Overview AppleScript Language Guide AppleScript ä¾‹å­ å‘é€é‚®ä»¶ï¼šsendMail.scpt å‘é€iMessageï¼šsendMessage.scpt æœ¬æ–‡çš„æ‰€æœ‰ä»£ç å‡ä»¥ä¸Šä¼ è‡³ GitHubï¼Œå¦‚éœ€è‡ªå–~ Title: AppleScript å…¥é—¨ä¸å®è·µ Date: 2018.05.23 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"learn/set-up-hexo-blog.html":{"url":"learn/set-up-hexo-blog.html","title":"æ­å»º Hexo Blog","keywords":"","body":"æ­å»º Hexo Blog Hexo éœ€è¦ Git å’Œ Node çš„æ”¯æŒï¼Œæ‰€ä»¥çƒ¦è¯·å„ä½æƒ³ç”¨ Hexo æ­å»ºåšå®¢çš„åŒå­¦è‡ªè¡Œå®‰è£… Git å’Œ Nodeï¼Œç„¶åå†æ¥é˜…è¯»æœ¬æ–‡æ¡£ã€‚ å®‰è£… hexo è„šæ‰‹æ¶ âœ ~ npm install -g hexo-cli /usr/local/bin/hexo -> /usr/local/lib/node_modules/hexo-cli/bin/hexo + hexo-cli@3.1.0 added 67 packages from 317 contributors in 6.685s å¦‚æœå› ä¸ºæƒé™é—®é¢˜å®‰è£…å¤±è´¥çš„ï¼Œé‚£ä¹ˆåœ¨å‘½ä»¤å‰æ·»åŠ  sudoï¼Œè¾“å…¥å¯†ç åå°±å¯ä»¥å®‰è£…äº† é€šè¿‡ hexo -v å¯ä»¥æ£€æŸ¥ hexo-cli æ˜¯å¦å®‰è£…æˆåŠŸ âœ ~ hexo -v hexo-cli: 3.1.0 os: Darwin 19.0.0 darwin x64 node: 12.12.0 v8: 7.7.299.13-node.12 uv: 1.32.0 zlib: 1.2.11 brotli: 1.0.7 ares: 1.15.0 modules: 72 nghttp2: 1.39.2 napi: 5 llhttp: 1.1.4 http_parser: 2.8.0 openssl: 1.1.1d cldr: 35.1 icu: 64.2 tz: 2019a unicode: 12.1 åˆ›å»º hexo åšå®¢ é€šè¿‡ç»ˆç«¯è¿›å…¥æ‚¨æƒ³è¦åˆ›å»ºåšå®¢çš„æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ï¼š hexo init åˆ›å»ºå®Œæ¯•åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç”Ÿæˆäº†å¾ˆå¤šçš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹ï¼Œå¦‚ä¸‹ï¼š å…¶ä¸­æ¯”è¾ƒä¸»è¦çš„æœ‰ï¼š . â”œâ”€â”€ source //ç”¨äºå­˜æ”¾åšå®¢çš„ markdown æ–‡ä»¶ï¼Œä»¥åŠé™æ€æ–‡ä»¶ â”‚ â””â”€â”€ _posts //åšå®¢çš„ markdown æ–‡ä»¶ â”œâ”€â”€ themes //å­˜æ”¾åšå®¢ä¸»é¢˜ â””â”€â”€ _config.yml //æˆ‘ä»¬åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®titleã€ä¸»é¢˜ã€å‘å¸ƒåœ°å€ç­‰ åˆ°è¿™é‡Œï¼Œåšå®¢åŸºæœ¬ç®—æ˜¯åˆ›å»ºå®Œæ¯•äº†ã€‚ é¢„è§ˆåšå®¢ åœ¨ç»ˆç«¯ä¸­ï¼Œæ‰§è¡Œ hexo s å¯åŠ¨æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°æˆ‘ä»¬åšå®¢äº†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸º httpï¼š//localhostï¼š4000/ã€‚ å‘å¸ƒåšå®¢ æœ¬ç« è®²è¿°çš„æ˜¯å°†åšå®¢å‘å¸ƒåˆ° GitHub ä¸Šï¼Œå¦‚æœæƒ³å‘å¸ƒåˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œè¯·é…Œæƒ…ä¿®æ”¹ï¼ŒåŸºæœ¬ä¸Šå¤§åŒå°å¼‚ã€‚ å»ºç«‹ä¸€ä¸ªåšå®¢ä»“åº“ æˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€ä¸ª GitHub è´¦å· é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªGitHubè´¦å·ï¼Œæˆ‘æƒ³å¤§å®¶åº”è¯¥éƒ½æœ‰è¿™ä¸ªå§ï¼Œå¦‚æœæ²¡æœ‰è¯·è‡ªè¡Œç”³è¯·ï¼Œè¿™é‡Œæˆ‘å°±ä¸åšèµ˜è¿°äº†ã€‚ åˆ›å»ºä¸€ä¸ªç”¨äºå­˜æ”¾åšå®¢çš„ä»“åº“ ç½‘ä¸Šå¤§å¤šæ•°çš„äººéƒ½å»ºè®®åˆ›å»ºä¸€ä¸ªå¦‚å›¾æ‰€ç¤ºçš„é¡¹ç›®ï¼Œå³xxx.github.ioï¼Œçº¢æ¡†ä¸­çš„å†…å®¹ä¸è´¦æˆ·åä¿æŒä¸€è‡´ã€‚PS.å¿½ç•¥å›¾ä¸­çº¢è‰²çš„æŠ¥é”™ï¼Œæˆ‘è¿™è¾¹æŠ¥é”™æ˜¯å› ä¸ºæˆ‘å·²ç»åˆ›å»ºäº†ç›¸åŒåå­—çš„é¡¹ç›®âœ§(â‰– â—¡ â‰–âœ¿) å°å£°å“”å“”ï¼šé€šè¿‡æˆ‘çš„æµ‹è¯•ï¼Œå…¶å®é¡¹ç›®èµ·ä»€ä¹ˆåå­—å¹¶ä¸é‡è¦ï¼Œéƒ½å¯ä»¥è®¿é—®åˆ°ï¼Œæˆ‘è§‰å¾—å¤§å¤šæ•°äººä»¥xxx.github.ioå½“é¡¹ç›®åå­—ï¼Œåªæ˜¯ä¸ºäº†åæœŸè®¿é—®å¥½çœ‹ç½¢äº†ğŸ™„ å®‰è£…åšå®¢å‘å¸ƒå·¥å…· ä¸ºäº†æ–¹ä¾¿å¿«æ·çš„å°†æˆ‘ä»¬æœ¬åœ°çš„åšå®¢å‘å¸ƒåˆ° GitHub ä¸Šï¼Œå»ºè®®å¤§å®¶å®‰è£… hexo-deployer-git è‡ªåŠ¨éƒ¨ç½²å‘å¸ƒå·¥å…·ã€‚ å®‰è£…æ’ä»¶ åœ¨åšå®¢çš„æ ¹ç›®å½•æ‰§è¡Œ npm install hexo-deployer-git --save ä¿®æ”¹é…ç½®æ–‡ä»¶ å‘å¸ƒå·¥å…·å®‰è£…å®Œæ¯•åï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨_config.ymlæ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹æˆ‘ä»¬çš„GitHubçš„åœ°å€ï¼Œå¦åˆ™æˆ‘ä»¬ä¸Šä¼ åˆ°å“ªå»å‘¢ï¼Œæ˜¯ä¸æ˜¯ï¼Ÿ æ‰“å¼€_config.ymlæ–‡ä»¶ï¼Œæœç´¢deployï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦é…ç½®çš„åœ°æ–¹äº†ï¼Œå¦‚æœæ²¡æœ‰å°±åœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ ä¸‹é¢çš„ä»£ç ã€‚ deployï¼š typeï¼š git repoï¼š githubä¸Šçš„é¡¹ç›®åœ°å€ æ³¨ï¼š 1.ä¸Šé¢çš„é…ç½®ä¸­ï¼Œå†’å·å’Œä½ å¡«å†™çš„å†…å®¹é—´ä¸€å®šè¦æœ‰ä¸ªç©ºæ ¼ï¼Œè¿™æ˜¯æ ‡å‡†çš„æ ¼å¼ï¼Œæ²¡å¾—è°ˆï¼ï¼ï¼ 2.æœ‰çš„åŒå­¦å¯èƒ½ä¼šé—®å¯ä¸å¯ä»¥å‘å¸ƒåˆ°æŸä¸ªåˆ†æ”¯ä¸Šï¼Œç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚åŸå› è¯·çœ‹ä¸‹å›¾ï¼Œç®­å¤´æ‰€æŒ‡å¤„ï¼Œæ˜ç¡®è¯´æ˜User pages must be built from the master branch. ç¼–è¯‘&éƒ¨ç½²åšå®¢ æ¥ä¸‹æ¥å°±å‰©ä¸‹å‘å¸ƒè¿™ä¸€æ­¥äº†ï¼Œåœ¨ç»ˆç«¯ä¸­è¿›å…¥åšå®¢çš„æ ¹ç›®å½•ï¼Œæ‰§è¡Œï¼š hexo clean && hexo g && hexo d å½“æ‚¨çœ‹åˆ° INFO Deploy doneï¼š git æ—¶ï¼Œå°±è¯´æ˜æ‚¨çš„åšå®¢æˆåŠŸå‘å¸ƒåˆ°GitHubä¸Šäº†ï¼Œé€šè¿‡è®¿é—® httpï¼š//xxx.github.io/ï¼Œå°±å¯ä»¥è®¿é—®åˆ°æ‚¨çš„åšå®¢äº†ï¼Œè®°å¾—æŠŠ xxx æ¢æˆæ‚¨çš„é¡¹ç›®åã€‚ æ—¥å¸¸æ›´æ–°åšå®¢ å½“æ–°å†™äº†åšå®¢æ–‡ç« ï¼Œæˆ–è€…æ˜¯ä¿®æ”¹äº†ä¸»é¢˜ï¼Œä»…éœ€é€šè¿‡ç»ˆç«¯ï¼Œè¿›å…¥æœ¬åœ°åšå®¢çš„æ ¹ç›®å½•ï¼Œæ‰§è¡Œhexo clean && hexo g && hexo dã€‚ç„¶åå°±å¯ä»¥åœ¨åšå®¢ä¸­çœ‹åˆ°æœ€æ–°çš„æ–‡ç« æˆ–æ˜¯ä¸»é¢˜äº†ã€‚ é™„ å…·ä½“Hexoçš„å‘½ä»¤ï¼Œå¯ä»¥åœ¨Hexoå®˜ç½‘ä¸­æ‰¾åˆ° Title: æ­å»º Hexo Blog Date: 2017.11.26 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"basicknowledge/date-formatter.html":{"url":"basicknowledge/date-formatter.html","title":"å¸¸ç”¨çš„æ—¥æœŸæ ¼å¼åŒ–æ ¼å¼","keywords":"","body":"å¸¸ç”¨çš„æ—¥æœŸæ ¼å¼åŒ–æ ¼å¼ Format Description Example \"y\" 1 digit min year 1, 42, 2017 \"yy\" 2 digit year 01, 42, 17 \"yyy\" 3 digit min year 001, 042, 2017 \"yyyy\" 4 digit min year 0001, 0042, 2017 \"M\" 1 digit min month 7, 12 \"MM\" 2 digit month 07, 12 \"MMM\" 3 letter month abbr. Jul, Dec \"MMMM\" Full month July, December \"MMMMM\" 1 letter month abbr. J, D \"d\" 1 digit min day 4, 25 \"dd\" 2 digit day 04, 25 \"E\", \"EE\", \"EEE\" 3 letter day name abbr. Wed, Thu \"EEEE\" full day name Wednesday, Thursday \"EEEEE\" 1 letter day name abbr. W, T \"EEEEEE\" 2 letter day name abbr. We, Th \"a\" Period of day AM, PM \"h\" AM/PM 1 digit min hour 5, 7 \"hh\" AM/PM 2 digit hour 05, 07 \"H\" 24 hr 1 digit min hour 17, 7 \"HH\" 24 hr 2 digit hour 17, 07 \"m\" 1 digit min minute 1, 40 \"mm\" 2 digit minute 01, 40 \"s\" 1 digit min second 1, 40 \"ss\" 2 digit second 01, 40 \"S\" 10th's place of fractional second 123ms -> 1, 7ms -> 0 \"SS\" 10th's & 100th's place of fractional second 123ms -> 12, 7ms -> 00 \"SSS\" 10th's & 100th's & 1,000's place of fractional second 123ms -> 123, 7ms -> 007 Title: å¸¸ç”¨çš„æ—¥æœŸæ ¼å¼åŒ–æ ¼å¼ Date: 2019.11.08 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"basicknowledge/introduction-to-restful.html":{"url":"basicknowledge/introduction-to-restful.html","title":"RESTful ç¬”è®°","keywords":"","body":"RESTful ç¬”è®° REST æ˜¯ä»€ä¹ˆ REST è¿™ä¸ªè¯æ˜¯å‡ºè‡ª Roy Thomas Fielding çš„ä¸€ç¯‡è®ºæ–‡ï¼Œå¦‚æœæœ‰å…´è¶£äº†è§£ï¼Œå¯ä»¥æŸ¥é˜… RESTç›¸å…³ç« èŠ‚ã€‚ RESTï¼Œå¹¶ä¸æ˜¯ç®€å•çš„å››ä¸ªå­—æ¯ï¼Œå®ƒæ˜¯ Representational State Transfer çš„ç¼©å†™ï¼Œå¯è¯‘ä¸º\"è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚ çœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œåœ¨å‰é¢åŠ ä¸€ä¸ª Resourceï¼Œå°±å¯ä»¥å¾ˆå¥½çš„ç†è§£äº†ï¼šèµ„æºåœ¨ç½‘ç»œä¸­ä»¥æŸç§è¡¨ç°å½¢å¼è¿›è¡ŒçŠ¶æ€è½¬ç§» Resource è¿™è¾¹çš„ Resource æŒ‡çš„å°±æ˜¯æˆ‘ä»¬çš„èµ„æºã€æ•°æ®ç­‰ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªURIï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æŒ‡å‘å®ƒï¼Œæ¯ç§èµ„æºå¯¹åº”ä¸€ä¸ªç‰¹å®šçš„URIã€‚è¦è·å–è¿™ä¸ªèµ„æºï¼Œè®¿é—®å®ƒçš„URIå°±å¯ä»¥ï¼Œå› æ­¤URIå°±æˆäº†æ¯ä¸€ä¸ªèµ„æºçš„åœ°å€æˆ–ç‹¬ä¸€æ— äºŒçš„è¯†åˆ«ç¬¦ã€‚ Representational èµ„æºçš„è¡¨ç°å½¢å¼ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„ï¼š æ•°æ®ï¼šHTMLæ ¼å¼ã€XMLæ ¼å¼ã€JSONæ ¼å¼ã€äºŒè¿›åˆ¶æ ¼å¼ç­‰ï¼› å›¾ç‰‡ï¼šJPGæ ¼å¼ã€PNGæ ¼å¼ç­‰ï¼› å…·ä½“è¡¨ç°å½¢å¼ï¼Œåœ¨ HTTP è¯·æ±‚çš„å¤´ä¿¡æ¯ä¸­ç”¨ Accept å’Œ Content-Type å­—æ®µæŒ‡å®š State Transfer å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ä¸€ä¸ªäº’åŠ¨è¿‡ç¨‹ï¼ŒåŠ¿å¿…æ¶‰åŠåˆ°æ•°æ®å’ŒçŠ¶æ€çš„å˜åŒ–ã€‚ äº’è”ç½‘é€šä¿¡åè®®HTTPåè®®ï¼Œæ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ã€‚è¿™æ„å‘³ç€ï¼Œæ‰€æœ‰çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚å› æ­¤ï¼Œå¦‚æœå®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œå¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µï¼Œè®©æœåŠ¡å™¨ç«¯å‘ç”Ÿ\"çŠ¶æ€è½¬åŒ–\"ã€‚è€Œè¿™ç§è½¬åŒ–æ˜¯å»ºç«‹åœ¨è¡¨ç°å±‚ä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥å°±æ˜¯\"è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–\"ã€‚ RESTful API éµå®ˆäº† REST åŸåˆ™çš„ API ç‰¹ç‚¹ æ¯ä¸ªURLè¡¨ç¤ºä¸€ç§èµ„æº URLè¯­ä¹‰æ¸…æ™°æ˜ç¡®ï¼Œä¸å‡ºç°åŠ¨è¯ï¼Œåªæœ‰åè¯å¤æ•°ï¼ˆæ“ä½œçš„åŠ¨è¯æ˜¯é€šè¿‡è¯·æ±‚æ–¹å¼æ¥è¡¨ç¤ºï¼‰ ä½¿ç”¨HTTPçš„æ–¹æ³•æ¥è¡¨ç¤ºå¯¹èµ„æºçš„å¢åˆ æ”¹æŸ¥ GETï¼ˆå¸¸ç”¨ï¼‰ï¼šä»æœåŠ¡å™¨ä¸Šè·å–ä¸€ä¸ªå…·ä½“çš„èµ„æºæˆ–è€…ä¸€ä¸ªèµ„æºåˆ—è¡¨ã€‚å®‰å…¨ä¸”å¹‚ç­‰ POSTï¼ˆå¸¸ç”¨ï¼‰ï¼š åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æºã€‚ä¸å®‰å…¨ä¸”ä¸å¹‚ç­‰ PUTï¼ˆå¸¸ç”¨ï¼‰ï¼šä»¥æ•´ä½“çš„æ–¹å¼æ›´æ–°æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªèµ„æºã€‚ä¸å®‰å…¨ä½†å¹‚ç­‰ DELETEï¼ˆå¸¸ç”¨ï¼‰ï¼šåˆ é™¤æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªèµ„æºã€‚ä¸å®‰å…¨ä½†å¹‚ç­‰ PATCHï¼šåªæ›´æ–°æœåŠ¡å™¨ä¸Šä¸€ä¸ªèµ„æºçš„ä¸€ä¸ªå±æ€§ã€‚ HEADï¼š è·å–ä¸€ä¸ªèµ„æºçš„å…ƒæ•°æ®ï¼Œå¦‚æ•°æ®çš„å“ˆå¸Œå€¼æˆ–æœ€åçš„æ›´æ–°æ—¶é—´ OPTIONSï¼šè·å–å®¢æˆ·ç«¯èƒ½å¯¹èµ„æºåšä»€ä¹ˆæ“ä½œçš„ä¿¡æ¯ã€‚ ä½¿ç”¨HTTPçš„çŠ¶æ€æ¥è¡¨ç¤ºç»“æœ 200 OK 400 Bad Request 500 Internal Server Error å¹‚ç­‰ï¼šæ— è¾¹é™…æ•ˆåº”ï¼Œå¤šæ¬¡æ“ä½œå¾—åˆ°ç›¸åŒçš„ç»“æœ ç®€å•æ¥è®²å°±æ˜¯ï¼š çœ‹ Url å°±çŸ¥é“è¦ä»€ä¹ˆ çœ‹ http method å°±çŸ¥é“å¹²ä»€ä¹ˆ çœ‹ http status code å°±çŸ¥é“ç»“æœå¦‚ä½• ä¼˜ç‚¹ é€æ˜æ€§ï¼Œæš´éœ²èµ„æºå­˜åœ¨ã€‚ å……åˆ†åˆ©ç”¨ HTTP åè®®æœ¬èº«è¯­ä¹‰ã€‚ æ— çŠ¶æ€ï¼Œè¿™ç‚¹éå¸¸é‡è¦ã€‚åœ¨è°ƒç”¨ä¸€ä¸ªæ¥å£ï¼ˆè®¿é—®ã€æ“ä½œèµ„æºï¼‰çš„æ—¶å€™ï¼Œå¯ä»¥ä¸ç”¨è€ƒè™‘ä¸Šä¸‹æ–‡ï¼Œä¸ç”¨è€ƒè™‘å½“å‰çŠ¶æ€ï¼Œæå¤§çš„é™ä½äº†å¤æ‚åº¦HTTPã€‚ æœ¬èº«æä¾›äº†ä¸°å¯Œçš„å†…å®¹åå•†æ‰‹æ®µï¼Œæ— è®ºæ˜¯ç¼“å­˜ï¼Œè¿˜æ˜¯èµ„æºä¿®æ”¹çš„ä¹è§‚å¹¶å‘æ§åˆ¶ï¼Œéƒ½å¯ä»¥ä»¥ä¸šåŠ¡æ— å…³çš„ä¸­é—´ä»¶æ¥å®ç°ã€‚ é™„ ç†è§£RESTfulæ¶æ„ RESTful API ç¼–å†™æŒ‡å— å¦‚ä½•ç»™è€å©†è§£é‡Šä»€ä¹ˆæ˜¯RESTful GitHub API Microsoft REST API Guidelines Title: RESTful ç¬”è®° Date: 2019.03.26 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"basicknowledge/http-status-code.html":{"url":"basicknowledge/http-status-code.html","title":"HTTP çŠ¶æ€ç ","keywords":"","body":"HTTP çŠ¶æ€ç  1** ä»£è¡¨è¯·æ±‚å·²è¢«æ¥å—ï¼Œéœ€è¦ç»§ç»­å¤„ç†ã€‚ 2** ä»£è¡¨è¯·æ±‚å·²æˆåŠŸè¢«æœåŠ¡å™¨æ¥æ”¶ã€ç†è§£ã€å¹¶æ¥å—ã€‚ 3** ä»£è¡¨éœ€è¦å®¢æˆ·ç«¯é‡‡å–è¿›ä¸€æ­¥çš„æ“ä½œæ‰èƒ½å®Œæˆè¯·æ±‚ã€‚é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ç ç”¨æ¥é‡å®šå‘ï¼Œåç»­çš„è¯·æ±‚åœ°å€ã€‚ 4** ä»£è¡¨å®¢æˆ·ç«¯å¯èƒ½å‘ç”Ÿäº†é”™è¯¯ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚ 5** ä»£è¡¨æœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­æœ‰é”™è¯¯æˆ–è€…å¼‚å¸¸çŠ¶æ€å‘ç”Ÿã€‚ Title: HTTP çŠ¶æ€ç  Date: 2019.02.22 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"basicknowledge/bit-operation.html":{"url":"basicknowledge/bit-operation.html","title":"ç®€æ˜æ‰¼è¦å¸¦ä½ å­¦ä½è¿ç®—","keywords":"","body":"ç®€æ˜æ‰¼è¦å¸¦ä½ å­¦ä½è¿ç®— ä½è¿ç®—æ˜¯ä»€ä¹ˆ äºŒè¿›åˆ¶æ˜¯è®¡ç®—æŠ€æœ¯ä¸­å¹¿æ³›é‡‡ç”¨çš„ä¸€ç§æ•°åˆ¶ã€‚äºŒè¿›åˆ¶æ•°æ®æ˜¯ç”¨0å’Œ1ä¸¤ä¸ªæ•°ç æ¥è¡¨ç¤ºçš„æ•°ã€‚å®ƒçš„åŸºæ•°ä¸º2ï¼Œè¿›ä½è§„åˆ™æ˜¯â€œé€¢äºŒè¿›ä¸€â€ï¼Œå€Ÿä½è§„åˆ™æ˜¯â€œå€Ÿä¸€å½“äºŒâ€ã€‚å½“å‰çš„è®¡ç®—æœºç³»ç»Ÿä½¿ç”¨çš„åŸºæœ¬ä¸Šæ˜¯äºŒè¿›åˆ¶ç³»ç»Ÿã€‚ ç›´æ¥å¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œæ“ä½œï¼Œå°±ç§°ä¸ºä½è¿ç®—ã€‚ ä½è¿ç®—çš„è¿ç®—æ–¹å¼ ä¸ï¼š& è¿ç®—è§„åˆ™ï¼š ç›¸åŒä½çš„ä¸¤ä¸ªæ•°å­—éƒ½ä¸º1ï¼Œåˆ™ä¸º1ï¼›è‹¥æœ‰ä¸€ä¸ªä¸ä¸º1ï¼Œåˆ™ä¸º0ã€‚ è¿ç®—ç¤ºä¾‹ï¼š 0 0 1 0 1 1 1 0 46 1 0 0 1 1 1 0 1 157 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 0 0 0 0 1 1 0 0 12 æˆ–ï¼š| è¿ç®—è§„åˆ™ï¼š ç›¸åŒä½åªè¦ä¸€ä¸ªä¸º1å³ä¸º1ã€‚ è¿ç®—ç¤ºä¾‹ï¼š 0 0 1 0 1 1 1 0 46 1 0 0 1 1 1 0 1 157 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 1 0 1 1 1 1 1 1 191 å¼‚æˆ–ï¼š^ è¿ç®—è§„åˆ™ï¼š ç›¸åŒä½ä¸åŒåˆ™ä¸º1ï¼Œç›¸åŒåˆ™ä¸º0ã€‚ è¿ç®—ç¤ºä¾‹ï¼š 0 0 1 0 1 1 1 0 46 1 0 0 1 1 1 0 1 157 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 1 0 1 1 0 0 1 1 179 å–åï¼š~ è¿ç®—è§„åˆ™ï¼š ~æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œç”¨æ¥å¯¹ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æŒ‰ä½å–åï¼Œå³å°†0å˜1ï¼Œå°†1å˜0ã€‚ è¿ç®—ç¤ºä¾‹ï¼š 0 0 1 0 1 1 1 0 46 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” 1 1 0 1 0 0 0 1 225 å·¦ç§»ï¼š è¿ç®—è§„åˆ™ï¼ša è¿ç®—ç¤ºä¾‹ï¼š 0011 0110 å³ç§»ï¼š>> è¿ç®—è§„åˆ™ï¼šå„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œå¯¹æ— ç¬¦å·æ•°ï¼Œé«˜ä½è¡¥0ï¼Œæœ‰ç¬¦å·æ•°ï¼Œå„ç¼–è¯‘å™¨å¤„ç†æ–¹æ³•ä¸ä¸€æ ·ï¼Œæœ‰çš„è¡¥ç¬¦å·ä½ï¼ˆç®—æœ¯å³ç§»ï¼‰ï¼Œæœ‰çš„è¡¥0ï¼ˆé€»è¾‘å³ç§»ï¼‰ è¿ç®—ç¤ºä¾‹ï¼š 0110 >> 1 => 0011 ä½è¿ç®—åœ¨æ—¥å¸¸å¼€å‘ä¸­åº”ç”¨ ä½ç§»æšä¸¾ åœ¨ iOS ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæšä¸¾ç±»å‹ï¼šNS_OPTION å’Œ NS_ENUMã€‚ä»–ä»¬ä¸¤ä¸ªçš„æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ ¸å¿ƒå·®å¼‚å°±åœ¨äºæ˜¯å¦å¯ä»¥å¤šé€‰ã€‚ NS_OPTIONï¼šå¤šä¸ªæšä¸¾å€¼åŒæ—¶ä½¿ç”¨æŒ‰ä½æˆ– (|) ç›¸åŠ è¡¨ç¤ºè¿›è¡Œå¤šé€‰æ“ä½œã€‚ä½ç§»ä¸åŒä½æ•°å¾—åˆ°å€¼ä¸åŒå³æ•°å€¼ä»£è¡¨çš„æšä¸¾å€¼ä¸åŒ, å¤šä¸ªæšä¸¾åŒæ—¶ä½¿ç”¨ä»å…·æœ‰å”¯ä¸€æ€§ã€‚ NS_ENUMï¼šä¸å¯å¤šé€‰ï¼Œå”¯ä¸€äº’æ–¥æ€§ã€‚ ä½ç§»æšä¸¾æ˜¯ä»€ä¹ˆ ä½ç§»æšä¸¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„æšä¸¾ï¼Œå®ƒå’Œæ™®é€šçš„æšä¸¾çš„å·®å¼‚å°±åœ¨äºæ˜¯å¦å¯ä»¥å¤šé€‰ã€‚ ä½ç§»æšä¸¾çš„å¤šä¸ªæšä¸¾å€¼åŒæ—¶ä½¿ç”¨æŒ‰ä½æˆ–( | )ç›¸åŠ è¡¨ç¤ºè¿›è¡Œå¤šé€‰æ“ä½œã€‚ä½ç§»ä¸åŒä½æ•°å¾—åˆ°å€¼ä¸åŒå³æ•°å€¼ä»£è¡¨çš„æšä¸¾å€¼ä¸åŒ,å¤šä¸ªæšä¸¾åŒæ—¶ä½¿ç”¨ä»å…·æœ‰å”¯ä¸€æ€§ã€‚ ä¸¾ä¾‹ è‡ªå®šä¹‰ä¸€ä¸ªè§†å›¾ AddLabelView ï¼Œåˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œç”¨äºå®šä¹‰åœ¨ä»€ä¹ˆä½ç½®æ·»åŠ  label ã€‚ // AddLabelView typedef NS_OPTIONS(NSUInteger, AddLabelPosition) { AddLabelTopLeft = 1 åˆ›å»ºä¸€ä¸ªæˆ‘ä»¬è‡ªå®šä¹‰çš„è§†å›¾ï¼Œé€šè¿‡ addLabelPositionï¼Œæ§åˆ¶æˆ‘ä»¬åœ¨ä»€ä¹ˆä½ç½®æ˜¾ç¤ºä¸€ä¸ª label ã€‚ AddLabelView *view = [[AddLabelView alloc] initWithFrame:CGRectMake(100, 100, 200, 200)]; view.addLabelPosition = AddLabelTopRight | AddLabelBottomRight | AddLabelBottomLeft; [self.view addSubview:view]; é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæ‚¨åº”è¯¥å·²ç»æ˜ç™½äº†ä½ç§»æšä¸¾çš„å¤šé€‰æ˜¯ä»€ä¹ˆæ¦‚å¿µäº†ï¼Œå¦‚æœçœŸçš„ä¸æ˜ç™½ï¼Œæ¬¢è¿ç§ä¿¡ã€‚ äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ æœ‰ä¸¤ä¸ªæ•°å­— a å’Œ bï¼Œå¦‚ä½•ä¸é€šè¿‡ç¬¬ä¸‰ä¸ªå˜é‡äº¤æ¢ a å’Œ bçš„å€¼ï¼Ÿ a^=b å³ a=(a^b); b^=a å³ b=b^(a^b) ï¼Œç”±äº^è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ï¼Œb^(a^b)=b^b^a ã€‚ç”±äºä¸€ä¸ªæ•°å’Œè‡ªå·±å¼‚æˆ–çš„ç»“æœä¸º0å¹¶ä¸”ä»»ä½•æ•°ä¸0å¼‚æˆ–éƒ½ä¼šä¸å˜çš„ï¼Œæ‰€ä»¥æ­¤æ—¶bè¢«èµ‹ä¸Šäº† a çš„å€¼ã€‚ a^=b å°±æ˜¯ a=a^bï¼Œç”±äºå‰é¢äºŒæ­¥å¯çŸ¥ a=(a^b)ï¼Œb=aï¼Œæ‰€ä»¥ a=a^bå³a=(a^b)^a ã€‚æ•… a ä¼šè¢«èµ‹ä¸Šbçš„å€¼ã€‚ ä»£ç å¦‚ä¸‹ï¼š int a = 10; int b = 20; if (a != b) { a ^= b; b ^= a; a ^= b; } NSLog(@\"a: %@ -- b: %@\", @(a), @(b)); // è¾“å‡ºç»“æœä¸º // a: 20 -- b: 10 åˆ¤æ–­å¥‡å¶ æˆ‘ä»¬å¯ä»¥æ ¹æ®æœ€æœªä½æ˜¯0è¿˜æ˜¯1æ¥å†³å®šï¼Œä¸º0å°±æ˜¯å¶æ•°ï¼Œä¸º1å°±æ˜¯å¥‡æ•°ã€‚å› æ­¤å¯ä»¥ç”¨ ((a & 1) == 0) ä»£æ›¿ (a % 2 == 0) æ¥åˆ¤æ–­æ•°å­—æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ã€‚ for (int i = 0; i å˜æ¢ç¬¦å· å˜æ¢ç¬¦å·ç®€å•æ¥è®²å°±æ˜¯æ­£æ•°å˜å¤æ•°ï¼Œå¤æ•°å˜æ­£æ•°ã€‚é€šè¿‡å¯¹æ•°å­—å–ååŠ 1å°±å¯ä»¥å®Œæˆç¬¦å·çš„å˜æ¢ã€‚ int a = -10; NSLog(@\"a å˜æ¢ç¬¦å·åä¸ºï¼š%@\", @(~a + 1)); // è¾“å‡ºç»“æœä¸º // a å˜æ¢ç¬¦å·åä¸ºï¼š10 é™„ ä½æ“ä½œåŸºç¡€ç¯‡ä¹‹ä½æ“ä½œå…¨é¢æ€»ç»“ ä½è¿ç®— Cè¯­è¨€ä½è¿ç®—ç¬¦ï¼šä¸ã€æˆ–ã€å¼‚æˆ–ã€å–åã€å·¦ç§»å’Œå³ç§» ä½ç§»æšä¸¾ Title: ç®€æ˜æ‰¼è¦å¸¦ä½ å­¦ä½è¿ç®— Date: 2018.09.06 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "},"basicknowledge/uri-url-urn.html":{"url":"basicknowledge/uri-url-urn.html","title":"URIã€URLçš„å·®å¼‚ä¸è”ç³»","keywords":"","body":"URIã€URLã€URN çš„å·®å¼‚ä¸è”ç³» åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸è§åˆ°æœ‰åŒäº‹æŠŠé“¾æ¥å‘½åä¸º uri_xxx_yyy æˆ–è€… url_xxx_yyyï¼Œå¯æ˜¯uriå’Œurlåˆ†åˆ«æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå¸Œæœ›åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« åï¼Œæ‚¨å¯ä»¥æ˜ç™½ï½ URI URIå…¨ç§°ä¸º Universal Resource Identifierï¼Œç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼Œç”¨æ¥å”¯ä¸€çš„æ ‡è¯†ä¸€ä¸ªèµ„æºã€‚ åœ¨ç”µè„‘æœ¯è¯­ä¸­ï¼Œç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifierï¼Œæˆ–URI)æ˜¯ä¸€ä¸ªç”¨äºæ ‡è¯†æŸä¸€äº’è”ç½‘èµ„æºåç§°çš„å­—ç¬¦ä¸²ã€‚ è¯¥ç§æ ‡è¯†å…è®¸ç”¨æˆ·å¯¹ä»»ä½•ï¼ˆåŒ…æ‹¬æœ¬åœ°å’Œäº’è”ç½‘ï¼‰çš„èµ„æºé€šè¿‡ç‰¹å®šçš„åè®®è¿›è¡Œäº¤äº’æ“ä½œã€‚URI ç”±åŒ…æ‹¬ç¡®å®šè¯­æ³•å’Œç›¸å…³åè®®çš„æ–¹æ¡ˆæ‰€å®šä¹‰ã€‚Webä¸Šå¯ç”¨çš„æ¯ç§èµ„æºï¼ˆHTMLæ–‡æ¡£ã€å›¾åƒã€è§†é¢‘ç‰‡æ®µã€ç¨‹åºç­‰ï¼‰ç”±ä¸€ä¸ªé€šç”¨èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifier, ç®€ç§°\"URI\"ï¼‰è¿›è¡Œå®šä½ã€‚ é€šå¸¸ç”±ä¸‹é¢å‡ éƒ¨åˆ†ç»„æˆï¼š è®¿é—®èµ„æºçš„å‘½åæœºåˆ¶ å­˜æ”¾èµ„æºçš„ä¸»æœºå èµ„æºè‡ªèº«çš„åç§°ï¼Œç”±è·¯å¾„è¡¨ç¤ºï¼Œç€é‡å¼ºè°ƒäºèµ„æºã€‚ URL URLå…¨ç§°ä¸º Universal Resource Locatorï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œç”¨æ¥æ ‡è¯†ä¸€ä¸ªèµ„æºã€‚ URL é€šå¸¸ä»¥åè®®(http)å¼€å¤´ï¼ŒåŒ…å«ç½‘ç»œä¸»æœºå (example.com) å’Œæ–‡æ¡£è·¯å¾„ (/foo/mypage.html) ç­‰ä¿¡æ¯ã€‚URL è¿˜å¯èƒ½å…·æœ‰æŸ¥è¯¢å‚æ•°å’Œé”šç‚¹æ ‡è¯†ç¬¦ã€‚ ç»Ÿä¸€èµ„æºå®šä½ç¬¦æ˜¯å¯¹å¯ä»¥ä»äº’è”ç½‘ä¸Šå¾—åˆ°çš„èµ„æºçš„ä½ç½®å’Œè®¿é—®æ–¹æ³•çš„ä¸€ç§ç®€æ´çš„è¡¨ç¤ºï¼Œæ˜¯äº’è”ç½‘ä¸Šæ ‡å‡†èµ„æºçš„åœ°å€ã€‚äº’è”ç½‘ä¸Šçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„URLï¼Œå®ƒåŒ…å«çš„ä¿¡æ¯æŒ‡å‡ºæ–‡ä»¶çš„ä½ç½®ä»¥åŠæµè§ˆå™¨åº”è¯¥æ€ä¹ˆå¤„ç†å®ƒã€‚ é€šå¸¸ç”±ä¸‹é¢å‡ éƒ¨åˆ†ç»„æˆï¼š åè®®(æˆ–ç§°ä¸ºæœåŠ¡æ–¹å¼) å­˜æœ‰è¯¥èµ„æºçš„ä¸»æœºIPåœ°å€(æœ‰æ—¶ä¹ŸåŒ…æ‹¬ç«¯å£å·) ä¸»æœºèµ„æºçš„å…·ä½“åœ°å€ã€‚å¦‚ç›®å½•å’Œæ–‡ä»¶åç­‰ URN URNå…¨ç§°ä¸º Universal Resource Nameï¼Œç»Ÿä¸€èµ„æºåç§°ï¼Œç”¨æ¥å®šä½çš„æ ‡è¯†ä¸€ä¸ªèµ„æºã€‚ é€šè¿‡å”¯ä¸€ä¸”æŒä¹…çš„åç§°æ¥æ ‡è¯†èµ„æºï¼Œä½†ä¸ä¸€å®šå‘Šè¯‰ä½ å¦‚ä½•åœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°å®ƒã€‚ URNä¸ä»…é™äºè¯†åˆ«æ–‡ä»¶ï¼Œè¿˜å¯ä»¥è¯†åˆ«æƒ³æ³•å’Œæ¦‚å¿µã€‚å½“URNç¡®å®ä»£è¡¨æ–‡æ¡£æ—¶ï¼Œå¯ä»¥é€šè¿‡â€œè§£æå™¨â€å°†å…¶ç¿»è¯‘æˆURLã€‚ç„¶åå¯ä»¥ä»URLä¸‹è½½æ–‡æ¡£ã€‚ ç»Ÿä¸€èµ„æºåç§° (Uniform Resource Name, URN)ï¼Œå”¯ä¸€æ ‡è¯†ä¸€ä¸ªå®ä½“çš„æ ‡è¯†ç¬¦ï¼Œä½†æ˜¯ä¸èƒ½ç»™å‡ºå®ä½“çš„ä½ç½®ã€‚ç³»ç»Ÿå¯ä»¥å…ˆåœ¨æœ¬åœ°å¯»æ‰¾ä¸€ä¸ªå®ä½“ï¼Œåœ¨å®ƒè¯•ç€åœ¨Webä¸Šæ‰¾åˆ°è¯¥å®ä½“ä¹‹å‰ã€‚å®ƒä¹Ÿå…è®¸Webä½ç½®æ”¹å˜ï¼Œç„¶è€Œè¿™ä¸ªå®ä½“å´è¿˜æ˜¯èƒ½å¤Ÿè¢«æ‰¾åˆ°ã€‚ é€šå¸¸ä»¥å‰ç¼€urnå¼€å¤´ åŒºåˆ«ä¸è”ç³» é¦–å…ˆæˆ‘ä»¬è¦å¼„æ¸…æ¥šä¸€ä»¶äº‹ï¼šURL å’Œ URN éƒ½æ˜¯ URI çš„å­é›†ã€‚ æ¢è¨€ä¹‹ï¼ŒURL å’Œ URNéƒ½æ˜¯ URIï¼Œä½†æ˜¯ URI ä¸ä¸€å®šæ˜¯ URL æˆ–è€… URNã€‚ä¸ºäº†æ›´å¥½çš„ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œçœ‹ä¸‹é¢è¿™å¼ å›¾ç‰‡ã€‚ URI è´Ÿè´£è¯†åˆ«ï¼ŒURL è´Ÿè´£å®šä½;ç„¶è€Œï¼Œå®šä½ç¬¦ä¹Ÿæ˜¯æ ‡è¯†ç¬¦çš„ä¸€ç§ï¼Œå› æ­¤æ¯ä¸ª URL éƒ½æ˜¯ URIï¼Œä½†æ˜¯æ¯ä¸ª URI å¹¶ä¸å…¨æ˜¯ URLã€‚ äºŒè€…çš„åŒºåˆ«åœ¨äºï¼ŒURIè¡¨ç¤ºè¯·æ±‚æœåŠ¡å™¨çš„è·¯å¾„ï¼Œå®šä¹‰è¿™ä¹ˆä¸€ä¸ªèµ„æºã€‚è€ŒURLåŒæ—¶è¯´æ˜è¦å¦‚ä½•è®¿é—®è¿™ä¸ªèµ„æºï¼ˆhttp://ï¼‰ã€‚ ä¸€å¥è¯è§£é‡Šï¼šURI å’Œ URL éƒ½å®šä¹‰äº† what the resource isã€‚URL è¿˜å®šä¹‰äº† how to get the resourceã€‚ å¯ä»¥ä¸¾ä¸ªä¾‹å­è§£é‡Šï¼š èº«ä»½è¯å·ï¼šç±»ä¼¼äº URIï¼Œé€šè¿‡èº«ä»½è¯å·èƒ½è®©æˆ‘ä»¬èƒ½ä¸”ä»…èƒ½ç¡®å®šä¸€ä¸ªäººã€‚ èº«ä»½è¯åœ°å€ï¼šç±»ä¼¼äºURL://åœ°çƒ/ä¸­å›½/æµ™æ±Ÿçœ/æ­å·å¸‚/è¥¿æ¹–åŒº/æŸå¤§å­¦/14å·å®¿èˆæ¥¼/525å·å¯/å¼ ä¸‰.äººå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²åŒæ ·æ ‡è¯†å‡ºäº†å”¯ä¸€çš„ä¸€ä¸ªäººï¼Œèµ·åˆ°äº†URIçš„ä½œç”¨ï¼Œæ‰€ä»¥URLæ˜¯URIçš„å­é›†ã€‚ å‚è€ƒæ–‡çŒ® W3C-URIs, URLs, and URNs HTTP åè®®ä¸­ URI å’Œ URL æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ è¿™ä¸‰ä¸ªä½ æ‡‚ä¸æ‡‚ï¼ŸURL & URI & URN URL å’Œ URI æœ‰ä»€ä¹ˆä¸åŒ? Title: URIã€URLã€URN çš„å·®å¼‚ä¸è”ç³» Date: 2018.02.24 Author: zhangpeng Github: https://github.com/fullstack-zhangpeng Copyright Â© zhang peng 2019 all right reservedï¼Œpowered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2020-07-22 10:44:14 "}}