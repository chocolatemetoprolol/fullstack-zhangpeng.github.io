(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{527:function(v,_,t){"use strict";t.r(_);var e=t(4),r=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"如何保持-ssh-服务不掉线"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何保持-ssh-服务不掉线"}},[v._v("#")]),v._v(" 如何保持 SSH 服务不掉线")]),v._v(" "),t("p",[v._v("常见的保持 "),t("code",[v._v("SSH")]),v._v(" 服务不掉线的方法有两种：")]),v._v(" "),t("ol",[t("li",[v._v("服务端发送心跳包")]),v._v(" "),t("li",[v._v("客户端发送心跳包")])]),v._v(" "),t("p",[v._v("本篇文章将"),t("strong",[v._v("以 "),t("code",[v._v("Ubuntu 18.04.4 LTS")]),v._v(" 为例")]),v._v("，分别对以上两种方法进行讲解。")]),v._v(" "),t("h2",{attrs:{id:"服务端发送心跳包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务端发送心跳包"}},[v._v("#")]),v._v(" 服务端发送心跳包")]),v._v(" "),t("ol",[t("li",[v._v("登陆您的服务器后，打开 "),t("strong",[v._v("/etc/ssh/sshd_config")]),v._v(" 文件。")]),v._v(" "),t("li",[v._v("将 "),t("code",[v._v("ClientAliveInterval")]),v._v(" 和 "),t("code",[v._v("ClientAliveCountMax")]),v._v(" 前面的 # 去掉。（如果没有则添加这两个字段）")]),v._v(" "),t("li",[v._v("将 "),t("code",[v._v("ClientAliveInterval")]),v._v(" 的值修改为 60，"),t("code",[v._v("ClientAliveCountMax")]),v._v(" 的值修改为 6")]),v._v(" "),t("li",[v._v("保存上述修改，如果提示 "),t("code",[v._v("'readonly' option is set (add ! to override)")]),v._v("，请以系统管理者的身份执行指令。")]),v._v(" "),t("li",[v._v("重启 "),t("code",[v._v("SSH")]),v._v(" 服务")])]),v._v(" "),t("blockquote",[t("p",[t("strong",[v._v("ClientAliveInterval")]),v._v(" 服务器端向客户端请求消息的时间间隔，单位为秒，默认是 0，不发送"),t("br"),v._v(" "),t("strong",[v._v("ClientAliveCountMax")]),v._v(" 服务器发出请求后，客户端没有响应的重试次数，到达次数后断开")])]),v._v(" "),t("h2",{attrs:{id:"客户端发送心跳包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端发送心跳包"}},[v._v("#")]),v._v(" 客户端发送心跳包")]),v._v(" "),t("ol",[t("li",[v._v("进入客户端的 "),t("code",[v._v("~/.ssh/")]),v._v(" 文件夹")]),v._v(" "),t("li",[v._v("打开 "),t("code",[v._v("config")]),v._v(" 文件，如果没有请创建")]),v._v(" "),t("li",[v._v("在 "),t("code",[v._v("config")]),v._v(" 文件中添加以下内容，然后保存"),t("br"),v._v("\nServerAliveInterval 20"),t("br"),v._v("\nServerAliveCountMax 999")])]),v._v(" "),t("blockquote",[t("p",[t("strong",[v._v("ServerAliveInterval")]),v._v(" 客户端向服务器端请求消息的时间间隔，单位为秒，默认是 0，不发送"),t("br"),v._v(" "),t("strong",[v._v("ServerAliveCountMax")]),v._v(" 客户端发出请求后，服务器没有响应的重试次数，到达次数后断开")])]),v._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[v._v("#")]),v._v(" 总结")]),v._v(" "),t("p",[v._v("两种方式均可以实现 "),t("code",[v._v("SSH")]),v._v(" 服务不掉线，可以根据自己的情况进行选择。")]),v._v(" "),t("ul",[t("li",[v._v("一台服务器，多台客户端"),t("br"),v._v("\n可以在用服务端发送心跳包的方法。这样就不需要在每台客户端上进行修改。")]),v._v(" "),t("li",[v._v("一台客户端，多台服务器"),t("br"),v._v("\n可以在用客户端发送心跳包的方法。这样就不需要在每台服务器上进行修改。")])]),v._v(" "),t("hr"),v._v(" "),t("blockquote",[t("p",[v._v("Title: 如何保持 SSH 服务不掉线")]),v._v(" "),t("p",[v._v("Date: 2020.03.01")]),v._v(" "),t("p",[v._v("Author: zhangpeng")]),v._v(" "),t("p",[v._v("Github: "),t("a",{attrs:{href:"https://github.com/fullstack-zhangpeng",target:"_blank",rel:"noopener noreferrer"}},[v._v("https://github.com/fullstack-zhangpeng"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=r.exports}}]);